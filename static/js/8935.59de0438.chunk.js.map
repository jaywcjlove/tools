{"version":3,"file":"static/js/8935.59de0438.chunk.js","mappings":"0JAIIA,EAAiBC,EAAkBC,E,uHADnCC,EAAY,CAAC,QAAS,QAAS,YAW/BC,EAAS,syCACTC,EAAOC,EAAAA,GAAAA,IAAWN,IAAoBA,GAAkBO,EAAAA,EAAAA,GAA4B,CAAC,oIACrFC,EAAOF,EAAAA,GAAAA,KAAYL,IAAqBA,GAAmBM,EAAAA,EAAAA,GAA4B,CAAC,+BACxFE,EAAcH,EAAAA,GAAAA,IAAWJ,IAAqBA,GAAmBK,EAAAA,EAAAA,GAA4B,CAAC,iEAC9FG,EAAa,SAAAC,GACf,IACIC,EAGED,EAHFC,MACAC,EAEEF,EAFFE,MACAC,EACEH,EADFG,SAEFC,GAAQC,EAAAA,EAAAA,GAA8BL,EAAMR,GAC9C,OAAoBc,EAAAA,EAAAA,MAAM,QAAS,CACjCH,SAAU,EAAcI,EAAAA,EAAAA,KAAK,SAASC,EAAAA,EAAAA,GAAS,CAC7CC,KAAM,QACNC,KAAM,SACLN,EAAO,CACRF,MAAOA,EACPS,QAASV,IAAUC,KAChB,IAAKC,IAEd,EACe,SAASS,IACtB,IACEC,GACEC,EAAAA,EAAAA,MADFD,EAEFE,GAAwBC,EAAAA,EAAAA,YAAUC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7Bb,EAAKe,EAAA,GAAEE,EAAQF,EAAA,GACpBG,GAAwBJ,EAAAA,EAAAA,UAAS,QAAOK,GAAAH,EAAAA,EAAAA,GAAAE,EAAA,GAAnCnB,EAAKoB,EAAA,GAAEC,EAAQD,EAAA,GACpBE,GAA0BP,EAAAA,EAAAA,YAAUQ,GAAAN,EAAAA,EAAAA,GAAAK,EAAA,GAA/BE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACtBG,GAAkCX,EAAAA,EAAAA,UAAS,IAAGY,GAAAV,EAAAA,EAAAA,GAAAS,EAAA,GAAzCE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GAC1BG,EAAc,SAAqB7B,QACvB,IAAVA,IACFA,EAAQ,IAEViB,EAASjB,GACT,IAAI8B,EAAOC,IAAO/B,EAAO,CACvBD,MAAOA,EACPiC,OAAO,IAELC,EAAaH,EAAKI,KAAK,KAAKC,QAAQ,+BAAW,SAAAC,GAAC,MAAK,CACvD,SAAK,IACL,SAAK,IACL,SAAK,IACL,SAAK,KACJA,EAAE,IACLZ,EAAUS,GAKV,IAJA,IAAII,EAAMP,EAAKQ,OACXC,EAAS,EACTC,EAAO,GACPjB,EAAS,GACJkB,EAAI,EAAGA,EAAIzC,EAAM0C,OAAQD,IAC5B,mBAAmBE,KAAK3C,EAAMyC,KAChClB,EAAOqB,KAAK,CACVJ,KAAMxC,EAAMyC,GACZI,GAAIR,EAAIE,KAEVA,GAAU,EACVC,EAAO,KAEPA,GAAQxC,EAAMyC,MACDJ,EAAIE,KACfhB,EAAOqB,KAAKJ,GACZD,GAAU,GAIhBX,EAAcL,EAChB,EACIuB,EAAc,WAAH,OAAsB1C,EAAAA,EAAAA,MAAM,OAAQ,CACjDH,SAAU,CAAC,WAAwBI,EAAAA,EAAAA,KAAK,KAAM,CAC5CJ,SAAU,aACR,WAAwBI,EAAAA,EAAAA,KAAK,KAAM,CACrCJ,SAAU,eAEZ,EACE8C,EAAe,SAAAC,GACjB,IAAIC,EAAUD,EAAIE,OAAOlD,MACzBoB,EAAS6B,EACX,EAMA,OALAE,EAAAA,EAAAA,YAAU,WACJnD,GAASD,GACX8B,EAAY7B,EAEhB,GAAG,CAACD,EAAOC,KACSI,EAAAA,EAAAA,MAAMgD,EAAAA,GAAS,CACjCnD,SAAU,EAAcI,EAAAA,EAAAA,KAAKgD,EAAAA,GAAc,CACzCC,MAAO3C,EAAE,yCAAyC4C,WAClDC,OAAoBpD,EAAAA,EAAAA,MAAMqD,EAAAA,SAAU,CAClCxD,SAAU,EAAcI,EAAAA,EAAAA,KAAKqD,EAAAA,GAAQ,CACnCC,QAAS,kBAAM1C,EAAS1B,EAAO,EAC/BU,SAAU,WACRD,IAAsBK,EAAAA,EAAAA,KAAKuD,EAAAA,GAAY,CACzC5D,MAAOA,OAGXC,UAAuBI,EAAAA,EAAAA,KAAKwD,EAAAA,GAAU,CACpCC,YAAY,EACZ9D,MAAOA,EACPD,MAAO,CACLgE,SAAU,IAEZC,QAAS,SAAAhB,GAAG,OAAInB,EAAYmB,EAAIE,OAAOlD,MAAM,OAEhCI,EAAAA,EAAAA,MAAMiD,EAAAA,GAAc,CACnCC,MAAO,SACPrD,SAAU,EAAcI,EAAAA,EAAAA,KAAK4D,EAAAA,GAAY,CACvCX,OAAoBjD,EAAAA,EAAAA,KAAKyC,EAAa,CAAC,GACvCU,OAAoBpD,EAAAA,EAAAA,MAAMR,EAAa,CACrCK,SAAU,EAAcI,EAAAA,EAAAA,KAAKR,EAAY,CACvCqE,SAAUnB,EACVhD,MAAOA,EACPC,MAAO,SACPC,SAAU,YACKI,EAAAA,EAAAA,KAAKR,EAAY,CAChCqE,SAAUnB,EACVhD,MAAOA,EACPC,MAAO,OACPC,SAAU,UACKI,EAAAA,EAAAA,KAAKR,EAAY,CAChCqE,SAAUnB,EACVhD,MAAOA,EACPC,MAAO,eACPC,SAAU,iBACRsB,IAAuBlB,EAAAA,EAAAA,KAAKuD,EAAAA,GAAY,CAC1C5D,MAAOuB,OAGXtB,SAAUsB,KACKlB,EAAAA,EAAAA,KAAK4D,EAAAA,GAAY,CAChChE,UAAuBI,EAAAA,EAAAA,KAAKb,EAAM,CAChCS,SAAU0B,EAAWwC,KAAI,SAACC,EAAMC,GAC9B,MAAoB,kBAATD,GACW/D,EAAAA,EAAAA,KAAKV,EAAM,CAC7BM,SAAUmE,GACTC,IAEejE,EAAAA,EAAAA,MAAM,OAAQ,CAChCH,SAAU,CAACmE,EAAK5B,MAAmBnC,EAAAA,EAAAA,KAAK,KAAM,CAC5CJ,SAAUmE,EAAKvB,OAEhBwB,EACL,aAKV,C","sources":["../../packages/chinese-pinyin-conversion/esm/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nvar _excluded = [\"style\", \"value\", \"children\"];\nvar _templateObject, _templateObject2, _templateObject3;\nimport { Fragment, useEffect, useState } from 'react';\nimport { Wrapper, Textarea, StyledLayout, CopyButton, ResultCode, Button } from '@wcj/tools-react-components';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n// @ts-ignore\nimport pinyin from 'pinyin/lib/web-pinyin';\n// import { IPinyinStyle } from 'pinyin';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar sample = \"\\u5C06\\u8FDB\\u9152\\xB7\\u541B\\u4E0D\\u89C1 - \\u674E\\u767D\\n\\u541B\\u4E0D\\u89C1\\uFF0C\\u9EC4\\u6CB3\\u4E4B\\u6C34\\u5929\\u4E0A\\u6765\\uFF0C\\u5954\\u6D41\\u5230\\u6D77\\u4E0D\\u590D\\u56DE\\u3002\\n\\u541B\\u4E0D\\u89C1\\uFF0C\\u9AD8\\u5802\\u660E\\u955C\\u60B2\\u767D\\u53D1\\uFF0C\\u671D\\u5982\\u9752\\u4E1D\\u66AE\\u6210\\u96EA\\u3002\\n\\u4EBA\\u751F\\u5F97\\u610F\\u987B\\u5C3D\\u6B22\\uFF0C\\u83AB\\u4F7F\\u91D1\\u6A3D\\u7A7A\\u5BF9\\u6708\\u3002\\n\\u5929\\u751F\\u6211\\u6750\\u5FC5\\u6709\\u7528\\uFF0C\\u5343\\u91D1\\u6563\\u5C3D\\u8FD8\\u590D\\u6765\\u3002\\n\\u70F9\\u7F8A\\u5BB0\\u725B\\u4E14\\u4E3A\\u4E50\\uFF0C\\u4F1A\\u987B\\u4E00\\u996E\\u4E09\\u767E\\u676F\\u3002\\n\\u5C91\\u592B\\u5B50\\uFF0C\\u4E39\\u4E18\\u751F\\uFF0C\\u5C06\\u8FDB\\u9152\\uFF0C\\u676F\\u83AB\\u505C\\u3002\\n\\u4E0E\\u541B\\u6B4C\\u4E00\\u66F2\\uFF0C\\u8BF7\\u541B\\u4E3A\\u6211\\u503E\\u8033\\u542C\\u3002\\n\\u949F\\u9F13\\u9994\\u7389\\u4E0D\\u8DB3\\u8D35\\uFF0C\\u4F46\\u613F\\u957F\\u9189\\u4E0D\\u613F\\u9192\\u3002\\n\\u53E4\\u6765\\u5723\\u8D24\\u7686\\u5BC2\\u5BDE\\uFF0C\\u60DF\\u6709\\u996E\\u8005\\u7559\\u5176\\u540D\\u3002\\n\\u9648\\u738B\\u6614\\u65F6\\u5BB4\\u5E73\\u4E50\\uFF0C\\u6597\\u9152\\u5341\\u5343\\u6063\\u6B22\\u8C11\\u3002\\n\\u4E3B\\u4EBA\\u4F55\\u4E3A\\u8A00\\u5C11\\u94B1\\uFF0C\\u5F84\\u987B\\u6CBD\\u53D6\\u5BF9\\u541B\\u914C\\u3002\\n\\u4E94\\u82B1\\u9A6C\\uFF0C\\u5343\\u91D1\\u88D8\\uFF0C\\u547C\\u513F\\u5C06\\u51FA\\u6362\\u7F8E\\u9152\\uFF0C\\u4E0E\\u5C14\\u540C\\u9500\\u4E07\\u53E4\\u6101\\u3002\";\nvar Hans = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"\\n  line-height: 38px;\\n  & rt {\\n    letter-spacing: 0;\\n  }\\n  & ruby {\\n    text-align: center;\\n    margin: 0 5px;\\n  }\\n\"])));\nvar Text = styled.span(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"\\n  letter-spacing: 0;\\n\"])));\nvar ExtraLayout = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n\"])));\nvar InputRadio = _ref => {\n  var {\n      style,\n      value,\n      children\n    } = _ref,\n    props = _objectWithoutPropertiesLoose(_ref, _excluded);\n  return /*#__PURE__*/_jsxs(\"label\", {\n    children: [/*#__PURE__*/_jsx(\"input\", _extends({\n      type: \"radio\",\n      name: \"style\"\n    }, props, {\n      value: value,\n      checked: style === value\n    })), \" \", children]\n  });\n};\nexport default function ChinesePinyinConversion() {\n  var {\n    t\n  } = useTranslation();\n  var [value, setValue] = useState();\n  var [style, setStyle] = useState('TONE');\n  var [result, setResult] = useState();\n  var [resultHans, setResultHans] = useState([]);\n  var handleInput = function handleInput(value) {\n    if (value === void 0) {\n      value = '';\n    }\n    setValue(value);\n    var json = pinyin(value, {\n      style: style,\n      group: true\n    });\n    var textPinyin = json.join(' ').replace(/[。，（）]/g, c => ({\n      '。': '.',\n      '，': ',',\n      '（': '(',\n      '）': ')'\n    })[c]);\n    setResult(textPinyin);\n    var arr = json.flat();\n    var pyIndx = 0;\n    var hans = '';\n    var result = [];\n    for (var i = 0; i < value.length; i++) {\n      if (/[\\u4e00-\\u9fa5]/g.test(value[i])) {\n        result.push({\n          hans: value[i],\n          py: arr[pyIndx]\n        });\n        pyIndx += 1;\n        hans = '';\n      } else {\n        hans += value[i];\n        if (hans === arr[pyIndx]) {\n          result.push(hans);\n          pyIndx += 1;\n        }\n      }\n    }\n    setResultHans(result);\n  };\n  var ResultTitle = () => /*#__PURE__*/_jsxs(\"ruby\", {\n    children: [\"\\u62FC \", /*#__PURE__*/_jsx(\"rt\", {\n      children: \"p\\u012Bn\"\n    }), \"\\u97F3 \", /*#__PURE__*/_jsx(\"rt\", {\n      children: \"y\\u012Bn\"\n    })]\n  });\n  var hanldeChange = evn => {\n    var typeVal = evn.target.value;\n    setStyle(typeVal);\n  };\n  useEffect(() => {\n    if (value && style) {\n      handleInput(value);\n    }\n  }, [style, value]);\n  return /*#__PURE__*/_jsxs(Wrapper, {\n    children: [/*#__PURE__*/_jsx(StyledLayout, {\n      title: t('menu./chinese-pinyin-conversion.label').toString(),\n      extra: /*#__PURE__*/_jsxs(Fragment, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          onClick: () => setValue(sample),\n          children: \"Sample\"\n        }), value && /*#__PURE__*/_jsx(CopyButton, {\n          value: value\n        })]\n      }),\n      children: /*#__PURE__*/_jsx(Textarea, {\n        spellCheck: false,\n        value: value,\n        style: {\n          fontSize: 16\n        },\n        onInput: evn => handleInput(evn.target.value)\n      })\n    }), /*#__PURE__*/_jsxs(StyledLayout, {\n      title: \"Result\",\n      children: [/*#__PURE__*/_jsx(ResultCode, {\n        title: /*#__PURE__*/_jsx(ResultTitle, {}),\n        extra: /*#__PURE__*/_jsxs(ExtraLayout, {\n          children: [/*#__PURE__*/_jsx(InputRadio, {\n            onChange: hanldeChange,\n            style: style,\n            value: \"NORMAL\",\n            children: \"NORMAL\"\n          }), /*#__PURE__*/_jsx(InputRadio, {\n            onChange: hanldeChange,\n            style: style,\n            value: \"TONE\",\n            children: \"TONE\"\n          }), /*#__PURE__*/_jsx(InputRadio, {\n            onChange: hanldeChange,\n            style: style,\n            value: \"FIRST_LETTER\",\n            children: \"FIRST_LETTER\"\n          }), result && /*#__PURE__*/_jsx(CopyButton, {\n            value: result\n          })]\n        }),\n        children: result\n      }), /*#__PURE__*/_jsx(ResultCode, {\n        children: /*#__PURE__*/_jsx(Hans, {\n          children: resultHans.map((item, idx) => {\n            if (typeof item === 'string') {\n              return /*#__PURE__*/_jsx(Text, {\n                children: item\n              }, idx);\n            }\n            return /*#__PURE__*/_jsxs(\"ruby\", {\n              children: [item.hans, /*#__PURE__*/_jsx(\"rt\", {\n                children: item.py\n              })]\n            }, idx);\n          })\n        })\n      })]\n    })]\n  });\n}"],"names":["_templateObject","_templateObject2","_templateObject3","_excluded","sample","Hans","styled","_taggedTemplateLiteralLoose","Text","ExtraLayout","InputRadio","_ref","style","value","children","props","_objectWithoutPropertiesLoose","_jsxs","_jsx","_extends","type","name","checked","ChinesePinyinConversion","t","useTranslation","_useState","useState","_useState2","_slicedToArray","setValue","_useState3","_useState4","setStyle","_useState5","_useState6","result","setResult","_useState7","_useState8","resultHans","setResultHans","handleInput","json","pinyin","group","textPinyin","join","replace","c","arr","flat","pyIndx","hans","i","length","test","push","py","ResultTitle","hanldeChange","evn","typeVal","target","useEffect","Wrapper","StyledLayout","title","toString","extra","Fragment","Button","onClick","CopyButton","Textarea","spellCheck","fontSize","onInput","ResultCode","onChange","map","item","idx"],"sourceRoot":""}