"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9298],{29298:function(e,n){function t(e){return e.split("")}function i(e,n){return n.indexOf(e)>=0}function r(e,n){for(var t=n.length;--t>=0;)if(e(n[t]))return n[t]}function o(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(n){return n.stack}}})}function a(e,n){this.message=e,this.defs=n}function s(e,n,t){if(t)for(var i in e)if(y(e,i)&&!y(n,i))throw new a("`"+i+"` is not a supported option",n);for(var i in e)y(e,i)&&(n[i]=e[i]);return n}function f(){}function c(){return!1}function u(){return!0}function l(){return this}function p(){return null}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.name="DefaultsError",o(a);var d=function(){function e(e,i){for(var r=[],o=0;o<e.length;o++){var a=i(e[o],o);a!==n&&(a instanceof t?r.push.apply(r,a.v):r.push(a))}return r}e.is_op=function(e){return e===n||e instanceof t},e.splice=function(e){return new t(e)};var n=e.skip={};function t(e){this.v=e}return e}();function h(e,n){if(e.indexOf(n)<0)return e.push(n)}function v(e,n){return e.replace(/\{([^{}]+)\}/g,(function(e,t){var i=n[t];return i instanceof S?i.print_to_string():i}))}function m(e,n){var t=e.indexOf(n);t>=0&&e.splice(t,1)}function _(e){Array.isArray(e)||(e=e.split(" "));var n=Object.create(null);return e.forEach((function(e){n[e]=!0})),n}function g(e,n){for(var t=e.length;--t>=0;)if(!n(e[t],t))return!1;return!0}function b(){this.values=Object.create(null)}function y(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function w(e,n,t){for(var i,r=e.parent(-1),o=0;i=e.parent(o++);r=i){if(te(i))return n&&i.value===r;if(i instanceof un){if(i.left===r)continue}else if("Call"==i.TYPE){if(i.expression===r)continue}else if(i instanceof ln){if(i.condition===r)continue}else{if(i instanceof Ve)return t;if(i instanceof tn){if(i.expression===r)continue}else if(i instanceof en){if(i.expressions[0]===r)continue}else{if(i instanceof M)return!0;if(i instanceof Wn){if(i.tag===r)continue}else if(i instanceof cn&&i.expression===r)continue}}return!1}}function x(e,n){if(n.length>31)throw new Error("Too many properties: "+n.length+"\n"+n.join(", "));n.forEach((function(n,t){var i=1<<t;Object.defineProperty(e.prototype,n,{get:function(){return!!(this._bits&i)},set:function(e){e?this._bits|=i:this._bits&=~i}})}))}function k(e,t,i,r){"undefined"===typeof r&&(r=S);var o=t=t?t.split(/\s+/):[];r&&r.PROPS&&(t=t.concat(r.PROPS));var a=["return function AST_",e,"(props){","this._bits=0;","if(props){"];t.forEach((function(e){a.push("this.",e,"=props.",e,";")})),a.push("}");var s=Object.create(r&&r.prototype);(i.initialize||s.initialize)&&a.push("this.initialize();"),a.push("};");var f=new Function(a.join(""))();for(var c in f.prototype=s,f.prototype.CTOR=f,f.prototype.TYPE=f.TYPE=e,r&&(f.BASE=r,r.SUBCLASSES.push(f)),f.DEFMETHOD=function(e,n){this.prototype[e]=n},f.PROPS=t,f.SELF_PROPS=o,f.SUBCLASSES=[],i)y(i,c)&&(/^\$/.test(c)?f[c.substr(1)]=i[c]:f.DEFMETHOD(c,i[c]));return n["AST_"+e]=f,f}b.prototype={set:function(e,n){return"__proto__"==e?this.proto_value=n:this.values[e]=n,this},add:function(e,n){var t=this.get(e);return t?t.push(n):this.set(e,[n]),this},get:function(e){return"__proto__"==e?this.proto_value:this.values[e]},del:function(e){return"__proto__"==e?delete this.proto_value:delete this.values[e],this},has:function(e){return"__proto__"==e?"proto_value"in this:e in this.values},all:function(e){for(var n in this.values)if(!e(this.values[n],n))return!1;return!("proto_value"in this&&!e(this.proto_value,"__proto__"))},each:function(e){for(var n in this.values)e(this.values[n],n);"proto_value"in this&&e(this.proto_value,"__proto__")},size:function(){return Object.keys(this.values).length+("proto_value"in this)},map:function(e){var n=[];for(var t in this.values)n.push(e(this.values[t],t));return"proto_value"in this&&n.push(e(this.proto_value,"__proto__")),n},clone:function(){var e=new b;return this.each((function(n,t){e.set(t,n)})),e},toObject:function(){var e={};return this.each((function(n,t){e["$"+t]=n})),e}},b.fromObject=function(e){var n=new b;for(var t in e)y(e,t)&&n.set(t.slice(1),e[t]);return n};var E=k("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),S=k("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new ct((function(e){if(e!==n)return e.clone(!0)})))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},walk:function(e){e.visit(this)},_validate:function(){if("Node"==this.TYPE)throw new Error("should not instantiate AST_Node")},validate:function(){var e=this.CTOR;do{e.prototype._validate.call(this)}while(e=e.BASE)},validate_ast:function(){var e={};this.walk(new ft((function(n){if(n.validate_visited===e)throw new Error(v("cannot reuse {type} from [{file}:{line},{col}]",{type:"AST_"+n.TYPE,file:n.start.file,line:n.start.line,col:n.start.col}));n.validate_visited=e})))}},null);x(S,["_optimized","_squeezed","call_only","collapse_scanning","defined","evaluating","falsy","in_arg","in_bool","is_undefined","inlined","length_read","nested","new","optional","private","pure","redundant","static","terminal","truthy","uses_eval","uses_with"]),(S.log_function=function(e,n){if("function"==typeof e){var t=Object.create(null);S.info=n?function(e,n){i("INFO: "+v(e,n))}:f,S.warn=function(e,n){i("WARN: "+v(e,n))}}else S.info=S.warn=f;function i(n){t[n]||(t[n]=!0,e(n))}})();var T=[];S.enable_validation=function(){S.disable_validation(),function e(n){if(n.SUBCLASSES.forEach(e),y(n.prototype,"transform")){var t=n.prototype.transform;n.prototype.transform=function(e,n){var i=t.call(this,e,n);if(i instanceof S)i.validate();else if(!(null===i||n&&d.is_op(i)))throw new Error("invalid transformed value: "+i);return i},T.push((function(){n.prototype.transform=t}))}}(this)},S.disable_validation=function(){for(var e;e=T.pop();)e()};var A=k("Statement",null,{$documentation:"Base class of all statements",_validate:function(){if("Statement"==this.TYPE)throw new Error("should not instantiate AST_Statement")}}),D=k("Debugger",null,{$documentation:"Represents a debugger statement"},A),O=k("Directive","quote value",{$documentation:'Represents a directive, like "use strict";',$propdoc:{quote:"[string?] the original quote character",value:"[string] The value of this directive as a plain string (it's not an AST_String!)"},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},A),$=k("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},A);function q(e){return e instanceof A&&!(e instanceof be)&&!(e instanceof ne)}function z(e,n,t,i,r){if(t=t?"contain":"be",!(e instanceof S))throw new Error(n+" must "+t+" AST_Node");if(e instanceof Xe)throw new Error(n+" cannot "+t+" AST_DefaultValue");if(e instanceof mn)throw new Error(n+" cannot "+t+" AST_Destructured");if(e instanceof it&&!r)throw new Error(n+" cannot "+t+" AST_Hole");if(e instanceof an&&!i)throw new Error(n+" cannot "+t+" AST_Spread");if(q(e))throw new Error(n+" cannot "+t+" AST_Statement");if(e instanceof Dn)throw new Error(n+" cannot "+t+" AST_SymbolDeclaration")}function C(e,n){z(e[n],n)}var M=k("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e)}))},_validate:function(){C(this,"body")}},A),F=k("BlockScope","_var_names enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",functions:"[Dictionary/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Dictionary/S] a map of name ---\x3e SymbolDef for all variables/functions defined in this scope"},clone:function(e){var n=this._clone(e);return this.enclosed&&(n.enclosed=this.enclosed.slice()),this.functions&&(n.functions=this.functions.clone()),this.variables&&(n.variables=this.variables.clone()),n},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if("BlockScope"==this.TYPE)throw new Error("should not instantiate AST_BlockScope");if(null!=this.parent_scope){if(!(this.parent_scope instanceof F))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof K))throw new Error("must be contained within AST_Scope")}}},A);function P(e,n){e.body.forEach((function(e){e.walk(n)}))}var j=k("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},walk:function(e){var n=this;e.visit(n,(function(){P(n,e)}))},_validate:function(){if("Block"==this.TYPE)throw new Error("should not instantiate AST_Block");this.body.forEach((function(e){if(!q(e))throw new Error("body must contain AST_Statement")}))}},F),N=k("BlockStatement",null,{$documentation:"A block statement"},j),I=k("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if("StatementWithBody"==this.TYPE)throw new Error("should not instantiate AST_StatementWithBody");if(!q(this.body))throw new Error("body must be AST_Statement")}},F),H=k("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},walk:function(e){var n=this;e.visit(n,(function(){n.label.walk(e),n.body.walk(e)}))},clone:function(e){var n=this._clone(e);if(e){var t=n.label,i=this.label;n.walk(new ft((function(e){if(e instanceof Oe){if(!e.label||e.label.thedef!==i)return;return e.label.thedef=t,t.references.push(e),!0}if(e instanceof K)return!0})))}return n},_validate:function(){if(!(this.label instanceof In))throw new Error("label must be AST_Label")}},I),Y=k("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it.",_validate:function(){if("IterationStatement"==this.TYPE)throw new Error("should not instantiate AST_IterationStatement")}},I),R=k("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_validate:function(){if("DWLoop"==this.TYPE)throw new Error("should not instantiate AST_DWLoop");C(this,"condition")}},Y),L=k("Do",null,{$documentation:"A `do` statement",walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e),n.condition.walk(e)}))}},R),B=k("While",null,{$documentation:"A `while` statement",walk:function(e){var n=this;e.visit(n,(function(){n.condition.walk(e),n.body.walk(e)}))}},R),U=k("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},walk:function(e){var n=this;e.visit(n,(function(){n.init&&n.init.walk(e),n.condition&&n.condition.walk(e),n.step&&n.step.walk(e),n.body.walk(e)}))},_validate:function(){if(null!=this.init){if(!(this.init instanceof S))throw new Error("init must be AST_Node");if(q(this.init)&&!(this.init instanceof He))throw new Error("init cannot be AST_Statement")}null!=this.condition&&C(this,"condition"),null!=this.step&&C(this,"step")}},Y),V=k("ForEnumeration","init object",{$documentation:"Base class for enumeration loops, i.e. `for ... in`, `for ... of` & `for await ... of`",$propdoc:{init:"[AST_Node] the assignment target during iteration",object:"[AST_Node] the object to iterate over"},walk:function(e){var n=this;e.visit(n,(function(){n.init.walk(e),n.object.walk(e),n.body.walk(e)}))},_validate:function(){if("ForEnumeration"==this.TYPE)throw new Error("should not instantiate AST_ForEnumeration");if(this.init instanceof He){if(1!=this.init.definitions.length)throw new Error("init must have single declaration")}else _n(this.init,(function(e){if(!(e instanceof tn||e instanceof Hn))throw new Error("init must be assignable: "+e.TYPE)}));C(this,"object")}},Y),W=k("ForIn",null,{$documentation:"A `for ... in` statement"},V),G=k("ForOf",null,{$documentation:"A `for ... of` statement"},V),J=k("ForAwaitOf",null,{$documentation:"A `for await ... of` statement"},G),X=k("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),n.body.walk(e)}))},_validate:function(){C(this,"expression")}},I),K=k("Scope","fn_defs may_call_this uses_eval uses_with",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:l,_validate:function(){if("Scope"==this.TYPE)throw new Error("should not instantiate AST_Scope")}},j),Q=k("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Dictionary/S] a map of name ---\x3e SymbolDef for all undeclared names"},wrap:function(e){var n=this.body;return Yt(["(function(exports){'$ORIG';})(typeof ",e,"=='undefined'?(",e,"={}):",e,");"].join(""),{filename:"wrap="+JSON.stringify(e)}).transform(new ct((function(e){if(e instanceof O&&"$ORIG"==e.value)return d.splice(n)})))},enclose:function(e){"string"!=typeof e&&(e="");var n=e.indexOf(":");n<0&&(n=e.length);var t=this.body;return Yt(["(function(",e.slice(0,n),'){"$ORIG"})(',e.slice(n+1),")"].join(""),{filename:"enclose="+JSON.stringify(e)}).transform(new ct((function(e){if(e instanceof O&&"$ORIG"==e.value)return d.splice(t)})))}},K),Z=k("Lambda","argnames length_read rest safe_ids uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_DefaultValue|AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",length_read:"[boolean/S] whether length property of this function is accessed",rest:"[(AST_Destructured|AST_SymbolFunarg)?] rest parameter, or null if absent",uses_arguments:"[boolean|number/S] whether this function accesses the arguments array"},each_argname:function(e){var n=new ft((function(t){return t instanceof Xe?(t.name.walk(n),!0):t instanceof bn?(t.value.walk(n),!0):void(t instanceof Cn&&e(t))}));this.argnames.forEach((function(e){e.walk(n)})),this.rest&&this.rest.walk(n)},walk:function(e){var n=this;e.visit(n,(function(){n.name&&n.name.walk(e),n.argnames.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e),P(n,e)}))},_validate:function(){if("Lambda"==this.TYPE)throw new Error("should not instantiate AST_Lambda");this.argnames.forEach((function(e){_n(e,(function(e){if(!(e instanceof Cn))throw new Error("argnames must be AST_SymbolFunarg[]")}),!0)})),null!=this.rest&&_n(this.rest,(function(e){if(!(e instanceof Cn))throw new Error("rest must be AST_SymbolFunarg")}))}},K),ee=k("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(null!=this.name)throw new Error("name must be null")}},Z),ne=k("LambdaExpression","inlined",{$documentation:"Base class for function expressions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined"},_validate:function(){if("LambdaExpression"==this.TYPE)throw new Error("should not instantiate AST_LambdaExpression")}},Z);function te(e){return e instanceof ae||e instanceof se}function ie(e){return e instanceof se||e instanceof de||e instanceof fe||e instanceof he||e instanceof ce}function re(e){return e instanceof he||e instanceof ce||e instanceof me||e instanceof le}function oe(e,n){te(e)&&e.value?e.value.walk(n):P(e,n)}var ae=k("Arrow","value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(e){var n=this;e.visit(n,(function(){n.argnames.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e),n.value?n.value.walk(e):P(n,e)}))},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(C(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},ne),se=k("AsyncArrow","value",{$documentation:"An asynchronous arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(e){var n=this;e.visit(n,(function(){n.argnames.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e),n.value?n.value.walk(e):P(n,e)}))},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(C(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},ne),fe=k("AsyncFunction","name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof Fn))throw new Error("name must be AST_SymbolLambda")}},ne),ce=k("AsyncGeneratorFunction","name",{$documentation:"An asynchronous generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof Fn))throw new Error("name must be AST_SymbolLambda")}},ne),ue=k("Function","name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof Fn))throw new Error("name must be AST_SymbolLambda")}},ne),le=k("GeneratorFunction","name",{$documentation:"A generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof Fn))throw new Error("name must be AST_SymbolLambda")}},ne),pe=k("LambdaDefinition","inlined name",{$documentation:"Base class for function definitions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined",name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if("LambdaDefinition"==this.TYPE)throw new Error("should not instantiate AST_LambdaDefinition");if(!(this.name instanceof Mn))throw new Error("name must be AST_SymbolDefun")}},Z),de=k("AsyncDefun",null,{$documentation:"An asynchronous function definition"},pe),he=k("AsyncGeneratorDefun",null,{$documentation:"An asynchronous generator function definition"},pe),ve=k("Defun",null,{$documentation:"A function definition"},pe),me=k("GeneratorDefun",null,{$documentation:"A generator function definition"},pe),_e=k("Class","extends name properties",{$documentation:"Base class for class literals",$propdoc:{extends:"[AST_Node?] the super class, or null if not specified",properties:"[AST_ClassProperty*] array of class properties"},walk:function(e){var n=this;e.visit(n,(function(){n.name&&n.name.walk(e),n.extends&&n.extends.walk(e),n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){if("Class"==this.TYPE)throw new Error("should not instantiate AST_Class");null!=this.extends&&C(this,"extends"),this.properties.forEach((function(e){if(!(e instanceof ye))throw new Error("properties must contain AST_ClassProperty")}))}},F),ge=k("DefClass",null,{$documentation:"A class definition",$propdoc:{name:"[AST_SymbolDefClass] the name of this class"},resolve:function(e){return e?this:this.parent_scope.resolve()},_validate:function(){if(!(this.name instanceof Pn))throw new Error("name must be AST_SymbolDefClass")}},_e),be=k("ClassExpression",null,{$documentation:"A class expression",$propdoc:{name:"[AST_SymbolClass?] the name of this class, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof jn))throw new Error("name must be AST_SymbolClass")}},_e),ye=k("ClassProperty","key private static value",{$documentation:"Base class for `class` properties",$propdoc:{key:"[string|AST_Node] property name (AST_Node for computed property)",private:"[boolean] whether this is a private property",static:"[boolean] whether this is a static property",value:"[AST_Node?] property value (AST_Accessor for getters/setters, AST_LambdaExpression for methods, null if not specified for fields)"},walk:function(e){var n=this;e.visit(n,(function(){n.key instanceof S&&n.key.walk(e),n.value&&n.value.walk(e)}))},_validate:function(){if("ClassProperty"==this.TYPE)throw new Error("should not instantiate AST_ClassProperty");if("string"!=typeof this.key){if(!(this.key instanceof S))throw new Error("key must be string or AST_Node");C(this,"key")}if(null!=this.value&&!(this.value instanceof S))throw new Error("value must be AST_Node")}}),we=k("ClassField",null,{$documentation:"A `class` field",_validate:function(){null!=this.value&&C(this,"value")}},ye),xe=k("ClassGetter",null,{$documentation:"A `class` getter",_validate:function(){if(!(this.value instanceof ee))throw new Error("value must be AST_Accessor")}},ye),ke=k("ClassSetter",null,{$documentation:"A `class` setter",_validate:function(){if(!(this.value instanceof ee))throw new Error("value must be AST_Accessor")}},ye),Ee=k("ClassMethod",null,{$documentation:"A `class` method",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_LambdaExpression");if(te(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of class method's lambda must be null")}},ye),Se=k("Jump",null,{$documentation:"Base class for \u201cjumps\u201d (for now that's `return`, `throw`, `break` and `continue`)",_validate:function(){if("Jump"==this.TYPE)throw new Error("should not instantiate AST_Jump")}},A),Te=k("Exit","value",{$documentation:"Base class for \u201cexits\u201d (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},walk:function(e){var n=this;e.visit(n,(function(){n.value&&n.value.walk(e)}))},_validate:function(){if("Exit"==this.TYPE)throw new Error("should not instantiate AST_Exit")}},Se),Ae=k("Return",null,{$documentation:"A `return` statement",_validate:function(){null!=this.value&&C(this,"value")}},Te),De=k("Throw",null,{$documentation:"A `throw` statement",_validate:function(){C(this,"value")}},Te),Oe=k("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},walk:function(e){var n=this;e.visit(n,(function(){n.label&&n.label.walk(e)}))},_validate:function(){if("LoopControl"==this.TYPE)throw new Error("should not instantiate AST_LoopControl");if(null!=this.label&&!(this.label instanceof Rn))throw new Error("label must be AST_LabelRef")}},Se),$e=k("Break",null,{$documentation:"A `break` statement"},Oe),qe=k("Continue",null,{$documentation:"A `continue` statement"},Oe),ze=k("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},walk:function(e){var n=this;e.visit(n,(function(){n.condition.walk(e),n.body.walk(e),n.alternative&&n.alternative.walk(e)}))},_validate:function(){if(C(this,"condition"),null!=this.alternative&&!q(this.alternative))throw new Error("alternative must be AST_Statement")}},I),Ce=k("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` \u201cdiscriminant\u201d"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),P(n,e)}))},_validate:function(){C(this,"expression"),this.body.forEach((function(e){if(!(e instanceof Me))throw new Error("body must be AST_SwitchBranch[]")}))}},j),Me=k("SwitchBranch",null,{$documentation:"Base class for `switch` branches",_validate:function(){if("SwitchBranch"==this.TYPE)throw new Error("should not instantiate AST_SwitchBranch")}},j),Fe=k("Default",null,{$documentation:"A `default` switch branch"},Me),Pe=k("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),P(n,e)}))},_validate:function(){C(this,"expression")}},Me),je=k("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},walk:function(e){var n=this;e.visit(n,(function(){P(n,e),n.bcatch&&n.bcatch.walk(e),n.bfinally&&n.bfinally.walk(e)}))},_validate:function(){if(null!=this.bcatch&&!(this.bcatch instanceof Ne))throw new Error("bcatch must be AST_Catch");if(null!=this.bfinally&&!(this.bfinally instanceof Ie))throw new Error("bfinally must be AST_Finally")}},j),Ne=k("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},walk:function(e){var n=this;e.visit(n,(function(){n.argname&&n.argname.walk(e),P(n,e)}))},_validate:function(){null!=this.argname&&_n(this.argname,(function(e){if(!(e instanceof Nn))throw new Error("argname must be AST_SymbolCatch")}))}},j),Ie=k("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},j),He=k("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},walk:function(e){var n=this;e.visit(n,(function(){n.definitions.forEach((function(n){n.walk(e)}))}))},_validate:function(){if("Definitions"==this.TYPE)throw new Error("should not instantiate AST_Definitions");if(this.definitions.length<1)throw new Error("must have at least one definition")}},A),Ye=k("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach((function(e){if(!(e instanceof Be))throw new Error("definitions must be AST_VarDef[]");_n(e.name,(function(e){if(!(e instanceof On))throw new Error("name must be AST_SymbolConst")}))}))}},He),Re=k("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach((function(e){if(!(e instanceof Be))throw new Error("definitions must be AST_VarDef[]");_n(e.name,(function(e){if(!(e instanceof qn))throw new Error("name must be AST_SymbolLet")}))}))}},He),Le=k("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach((function(e){if(!(e instanceof Be))throw new Error("definitions must be AST_VarDef[]");_n(e.name,(function(e){if(!(e instanceof zn))throw new Error("name must be AST_SymbolVar")}))}))}},He),Be=k("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},walk:function(e){var n=this;e.visit(n,(function(){n.name.walk(e),n.value&&n.value.walk(e)}))},_validate:function(){null!=this.value&&C(this,"value")}}),Ue=k("ExportDeclaration","body",{$documentation:"An `export` statement",$propdoc:{body:"[AST_DefClass|AST_Definitions|AST_LambdaDefinition] the statement to export"},walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e)}))},_validate:function(){if(!(this.body instanceof ge||this.body instanceof He||this.body instanceof pe))throw new Error("body must be AST_DefClass, AST_Definitions or AST_LambdaDefinition")}},A),Ve=k("ExportDefault","body",{$documentation:"An `export default` statement",$propdoc:{body:"[AST_Node] the default export"},walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e)}))},_validate:function(){this.body instanceof ge||this.body instanceof pe||C(this,"body")}},A),We=k("ExportForeign","aliases keys path quote",{$documentation:"An `export ... from '...'` statement",$propdoc:{aliases:"[string*] array of aliases to export",keys:"[string*] array of keys to import",path:"[string] the path to import module",quote:"[string?] the original quote character"},_validate:function(){if(this.aliases.length!=this.keys.length)throw new Error("aliases:key length mismatch: "+this.aliases.length+" != "+this.keys.length);if(this.aliases.forEach((function(e){if("string"!=typeof e)throw new Error("aliases must contain string")})),this.keys.forEach((function(e){if("string"!=typeof e)throw new Error("keys must contain string")})),"string"!=typeof this.path)throw new Error("path must be string");if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}}},A),Ge=k("ExportReferences","properties",{$documentation:"An `export { ... }` statement",$propdoc:{properties:"[AST_SymbolExport*] array of aliases to export"},walk:function(e){var n=this;e.visit(n,(function(){n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){this.properties.forEach((function(e){if(!(e instanceof Yn))throw new Error("properties must contain AST_SymbolExport")}))}},A),Je=k("Import","all default path properties quote",{$documentation:"An `import` statement",$propdoc:{all:"[AST_SymbolImport?] the imported namespace, or null if not specified",default:"[AST_SymbolImport?] the alias for default `export`, or null if not specified",path:"[string] the path to import module",properties:"[(AST_SymbolImport*)?] array of aliases, or null if not specified",quote:"[string?] the original quote character"},walk:function(e){var n=this;e.visit(n,(function(){n.all&&n.all.walk(e),n.default&&n.default.walk(e),n.properties&&n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){if(null!=this.all){if(!(this.all instanceof $n))throw new Error("all must be AST_SymbolImport");if(null!=this.properties)throw new Error("cannot import both * and {} in the same statement")}if(null!=this.default){if(!(this.default instanceof $n))throw new Error("default must be AST_SymbolImport");if(""!==this.default.key)throw new Error("invalid default key: "+this.default.key)}if("string"!=typeof this.path)throw new Error("path must be string");if(null!=this.properties&&this.properties.forEach((function(e){if(!(e instanceof $n))throw new Error("properties must contain AST_SymbolImport")})),null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}}},A),Xe=k("DefaultValue","name value",{$documentation:"A default value declaration",$propdoc:{name:"[AST_Destructured|AST_SymbolDeclaration] name of the variable",value:"[AST_Node] value to assign if variable is `undefined`"},walk:function(e){var n=this;e.visit(n,(function(){n.name.walk(e),n.value.walk(e)}))},_validate:function(){C(this,"value")}});function Ke(e,n,t,i){e[n].forEach((function(e){z(e,n,!0,t,i)}))}var Qe=k("Call","args expression optional pure terminal",{$documentation:"A function call expression",$propdoc:{args:"[AST_Node*] array of arguments",expression:"[AST_Node] expression to invoke as function",optional:"[boolean] whether the expression is optional chaining",pure:"[boolean/S] marker for side-effect-free call expression",terminal:"[boolean] whether the chain has ended"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),n.args.forEach((function(n){n.walk(e)}))}))},_validate:function(){C(this,"expression"),Ke(this,"args",!0)}}),Ze=k("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties",_validate:function(){if(this.optional)throw new Error("optional must be false");if(this.terminal)throw new Error("terminal must be false")}},Qe),en=k("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},walk:function(e){var n=this;e.visit(n,(function(){n.expressions.forEach((function(n){n.walk(e)}))}))},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");Ke(this,"expressions")}});function nn(e){for(;e instanceof tn;)e=e.expression;return e}var tn=k("PropAccess","expression optional property terminal",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the \u201ccontainer\u201d expression",optional:"[boolean] whether the expression is optional chaining",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node",terminal:"[boolean] whether the chain has ended"},get_property:function(){var e=this.property;return e instanceof Gn?e.value:e instanceof fn&&"void"==e.operator&&e.expression instanceof Gn?void 0:e},_validate:function(){if("PropAccess"==this.TYPE)throw new Error("should not instantiate AST_PropAccess");C(this,"expression")}}),rn=k("Dot",null,{$documentation:"A dotted property access expression",walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){if("string"!=typeof this.property)throw new Error("property must be string")}},tn),on=k("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),n.property.walk(e)}))},_validate:function(){C(this,"property")}},tn),an=k("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){C(this,"expression")}}),sn=k("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){if("Unary"==this.TYPE)throw new Error("should not instantiate AST_Unary");if("string"!=typeof this.operator)throw new Error("operator must be string");C(this,"expression")}}),fn=k("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},sn),cn=k("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},sn),un=k("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},walk:function(e){var n=this;e.visit(n,(function(){n.left.walk(e),n.right.walk(e)}))},_validate:function(){if(this instanceof pn||C(this,"left"),"string"!=typeof this.operator)throw new Error("operator must be string");C(this,"right")}}),ln=k("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},walk:function(e){var n=this;e.visit(n,(function(){n.condition.walk(e),n.consequent.walk(e),n.alternative.walk(e)}))},_validate:function(){C(this,"condition"),C(this,"consequent"),C(this,"alternative")}}),pn=k("Assign",null,{$documentation:"An assignment expression \u2014 `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof mn){if("="!=this.operator)throw new Error("invalid destructuring operator: "+this.operator);_n(this.left,(function(e){if(!(e instanceof tn||e instanceof Hn))throw new Error("left must be assignable: "+e.TYPE)}))}else if(!(this.left instanceof rt||this.left instanceof nt||this.left instanceof tn&&!this.left.optional||this.left instanceof Hn||this.left instanceof tt))throw new Error("left must be assignable")}},un),dn=k("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){C(this,"expression")}}),hn=k("Yield","expression nested",{$documentation:"A yield expression",$propdoc:{expression:"[AST_Node?] return value for iterator, or null if undefined",nested:"[boolean] whether to iterate over expression as generator"},walk:function(e){var n=this;e.visit(n,(function(){n.expression&&n.expression.walk(e)}))},_validate:function(){if(null!=this.expression)C(this,"expression");else if(this.nested)throw new Error("yield* must contain expression")}}),vn=k("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(e){var n=this;e.visit(n,(function(){n.elements.forEach((function(n){n.walk(e)}))}))},_validate:function(){Ke(this,"elements",!0,!0)}}),mn=k("Destructured","rest",{$documentation:"Base class for destructured literal",$propdoc:{rest:"[(AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)?] rest parameter, or null if absent"},_validate:function(){if("Destructured"==this.TYPE)throw new Error("should not instantiate AST_Destructured")}});function _n(e,n,t){if(e instanceof Xe&&t)return _n(e.name,n);if(e instanceof mn){if(null!=e.rest&&_n(e.rest,n),e instanceof gn)return e.elements.forEach((function(e){e instanceof it||_n(e,n,!0)}));if(e instanceof yn)return e.properties.forEach((function(e){_n(e.value,n,!0)}))}n(e)}var gn=k("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[(AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)*] array of elements"},walk:function(e){var n=this;e.visit(n,(function(){n.elements.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e)}))}},mn),bn=k("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef] property value"},walk:function(e){var n=this;e.visit(n,(function(){n.key instanceof S&&n.key.walk(e),n.value.walk(e)}))},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof S))throw new Error("key must be string or AST_Node");C(this,"key")}if(!(this.value instanceof S))throw new Error("value must be AST_Node")}}),yn=k("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},walk:function(e){var n=this;e.visit(n,(function(){n.properties.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e)}))},_validate:function(){this.properties.forEach((function(e){if(!(e instanceof bn))throw new Error("properties must be AST_DestructuredKeyVal[]")}))}},mn),wn=k("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},walk:function(e){var n=this;e.visit(n,(function(){n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){this.properties.forEach((function(e){if(!(e instanceof xn||e instanceof an))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")}))}}),xn=k("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},walk:function(e){var n=this;e.visit(n,(function(){n.key instanceof S&&n.key.walk(e),n.value.walk(e)}))},_validate:function(){if("ObjectProperty"==this.TYPE)throw new Error("should not instantiate AST_ObjectProperty");if("string"!=typeof this.key){if(!(this.key instanceof S))throw new Error("key must be string or AST_Node");C(this,"key")}if(!(this.value instanceof S))throw new Error("value must be AST_Node")}}),kn=k("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){C(this,"value")}},xn),En=k("ObjectMethod",null,{$documentation:"A key(){} object property",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_LambdaExpression");if(te(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of object method's lambda must be null")}},kn),Sn=k("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof ee))throw new Error("value must be AST_Accessor")}},xn),Tn=k("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof ee))throw new Error("value must be AST_Accessor")}},xn),An=k("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_validate:function(){if("Symbol"==this.TYPE)throw new Error("should not instantiate AST_Symbol");if("string"!=typeof this.name)throw new Error("name must be string")}}),Dn=k("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},An),On=k("SymbolConst",null,{$documentation:"Symbol defining a constant"},Dn),$n=k("SymbolImport","key",{$documentation:"Symbol defined by an `import` statement",$propdoc:{key:"[string] the original `export` name"},_validate:function(){if("string"!=typeof this.key)throw new Error("key must be string")}},On),qn=k("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},Dn),zn=k("SymbolVar",null,{$documentation:"Symbol defining a variable"},Dn),Cn=k("SymbolFunarg","unused",{$documentation:"Symbol naming a function argument"},zn),Mn=k("SymbolDefun",null,{$documentation:"Symbol defining a function"},Dn),Fn=k("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},Dn),Pn=k("SymbolDefClass",null,{$documentation:"Symbol defining a class"},On),jn=k("SymbolClass",null,{$documentation:"Symbol naming a class expression"},On),Nn=k("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},Dn),In=k("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},An),Hn=k("SymbolRef","fixed in_arg redef",{$documentation:"Reference to some symbol (not definition/declaration)"},An),Yn=k("SymbolExport","alias",{$documentation:"Reference in an `export` statement",$propdoc:{alias:"[string] the `export` alias"},_validate:function(){if("string"!=typeof this.alias)throw new Error("alias must be string")}},Hn),Rn=k("LabelRef",null,{$documentation:"Reference to a label symbol"},An),Ln=k("ObjectIdentity",null,{$documentation:"Base class for `super` & `this`",_validate:function(){if("ObjectIdentity"==this.TYPE)throw new Error("should not instantiate AST_ObjectIdentity")}},An),Bn=k("Super",null,{$documentation:"The `super` symbol",_validate:function(){if("super"!==this.name)throw new Error('name must be "super"')}},Ln),Un=k("This",null,{$documentation:"The `this` symbol",_validate:function(){if("This"==this.TYPE&&"this"!==this.name)throw new Error('name must be "this"')}},Ln),Vn=k("NewTarget",null,{$documentation:"The `new.target` symbol",initialize:function(){this.name="new.target"},_validate:function(){if("new.target"!==this.name)throw new Error('name must be "new.target": '+this.name)}},Un),Wn=k("Template","expressions strings tag",{$documentation:"A template literal, i.e. tag`str1${expr1}...strN${exprN}strN+1`",$propdoc:{expressions:"[AST_Node*] the placeholder expressions",strings:"[string*] the raw text segments",tag:"[AST_Node] tag function, or null if absent"},walk:function(e){var n=this;e.visit(n,(function(){n.tag&&n.tag.walk(e),n.expressions.forEach((function(n){n.walk(e)}))}))},_validate:function(){if(this.expressions.length+1!=this.strings.length)throw new Error("malformed template with "+this.expressions.length+" placeholder(s) but "+this.strings.length+" text segment(s)");Ke(this,"expressions"),this.strings.forEach((function(e){if("string"!=typeof e)throw new Error("strings must contain string")})),null!=this.tag&&C(this,"tag")}}),Gn=k("Constant",null,{$documentation:"Base class for all constants",_validate:function(){if("Constant"==this.TYPE)throw new Error("should not instantiate AST_Constant")}}),Jn=k("String","quote value",{$documentation:"A string literal",$propdoc:{quote:"[string?] the original quote character",value:"[string] the contents of this string"},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},Gn),Xn=k("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if("number"!=typeof this.value)throw new Error("value must be number");if(!isFinite(this.value))throw new Error("value must be finite");if(this.value<0)throw new Error("value cannot be negative")}},Gn),Kn=k("BigInt","value",{$documentation:"A BigInt literal",$propdoc:{value:"[string] the numeric representation"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string");if("-"==this.value[0])throw new Error("value cannot be negative")}},Gn),Qn=k("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},Gn),Zn=k("Atom",null,{$documentation:"Base class for atoms",_validate:function(){if("Atom"==this.TYPE)throw new Error("should not instantiate AST_Atom")}},Gn),et=k("Null",null,{$documentation:"The `null` atom",value:null},Zn),nt=k("NaN",null,{$documentation:"The impossible value",value:NaN},Zn),tt=k("Undefined",null,{$documentation:"The `undefined` value",value:void 0},Zn),it=k("Hole",null,{$documentation:"A hole in an array",value:void 0},Zn),rt=k("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},Zn),ot=k("Boolean",null,{$documentation:"Base class for booleans",_validate:function(){if("Boolean"==this.TYPE)throw new Error("should not instantiate AST_Boolean")}},Zn),at=k("False",null,{$documentation:"The `false` atom",value:!1},ot),st=k("True",null,{$documentation:"The `true` atom",value:!0},ot);function ft(e){this.callback=e,this.directives=Object.create(null),this.stack=[]}function ct(e,n){ft.call(this),this.before=e,this.after=n}ft.prototype={visit:function(e,n){this.push(e),!this.callback(e,n||f)&&n&&n(),this.pop()},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof Z?this.directives=Object.create(this.directives):e instanceof O&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(){this.stack.pop()instanceof Z&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length-1;--t>=0;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof K)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof O))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n=this.stack;if(e.label)for(var t=n.length;--t>=0;){if((i=n[t])instanceof H&&i.label.name==e.label.name)return i.body}else for(t=n.length;--t>=0;){var i;if((i=n[t])instanceof Y||e instanceof $e&&i instanceof Ce)return i}},in_boolean_context:function(){for(var e,n=!0,t=0,i=this.self();e=this.parent(t++);i=e){if(e instanceof un)switch(e.operator){case"&&":case"||":e.left===i&&(n=!1);continue;default:return!1}if(!(e instanceof ln)){if(e instanceof R)return e.condition===i;if(e instanceof U)return e.condition===i;if(e instanceof ze)return e.condition===i;if(e instanceof Ae){if(e.in_bool)return!0;for(;e=this.parent(t++);)if(e instanceof Z){if(e.name)return!1;if("Call"!=(e=this.parent(t++)).TYPE)return!1;break}}if(e instanceof en){if(e.tail_node()===i)continue;return!n||"d"}return e instanceof M?!n||"d":e instanceof fn&&"!"==e.operator}if(e.condition===i)return!0}}},ct.prototype=new ft,function(e){function n(e,n){return d(e,(function(e){return e.transform(n,!0)}))}function t(e,t){e.argnames=n(e.argnames,t),e.rest&&(e.rest=e.rest.transform(t)),e.value?e.value=e.value.transform(t):e.body=n(e.body,t)}e(S,f),e(H,(function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)})),e(M,(function(e,n){e.body=e.body.transform(n)})),e(j,(function(e,t){e.body=n(e.body,t)})),e(L,(function(e,n){e.body=e.body.transform(n),e.condition=e.condition.transform(n)})),e(B,(function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)})),e(U,(function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)})),e(V,(function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)})),e(X,(function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)})),e(Te,(function(e,n){e.value&&(e.value=e.value.transform(n))})),e(Oe,(function(e,n){e.label&&(e.label=e.label.transform(n))})),e(ze,(function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))})),e(Ce,(function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)})),e(Pe,(function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)})),e(je,(function(e,t){e.body=n(e.body,t),e.bcatch&&(e.bcatch=e.bcatch.transform(t)),e.bfinally&&(e.bfinally=e.bfinally.transform(t))})),e(Ne,(function(e,t){e.argname&&(e.argname=e.argname.transform(t)),e.body=n(e.body,t)})),e(He,(function(e,t){e.definitions=n(e.definitions,t)})),e(Be,(function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))})),e(Xe,(function(e,n){e.name=e.name.transform(n),e.value=e.value.transform(n)})),e(Z,(function(e,t){e.name&&(e.name=e.name.transform(t)),e.argnames=n(e.argnames,t),e.rest&&(e.rest=e.rest.transform(t)),e.body=n(e.body,t)})),e(ae,t),e(se,t),e(_e,(function(e,t){e.name&&(e.name=e.name.transform(t)),e.extends&&(e.extends=e.extends.transform(t)),e.properties=n(e.properties,t)})),e(ye,(function(e,n){e.key instanceof S&&(e.key=e.key.transform(n)),e.value&&(e.value=e.value.transform(n))})),e(Qe,(function(e,t){e.expression=e.expression.transform(t),e.args=n(e.args,t)})),e(en,(function(e,t){e.expressions=n(e.expressions,t)})),e(dn,(function(e,n){e.expression=e.expression.transform(n)})),e(hn,(function(e,n){e.expression&&(e.expression=e.expression.transform(n))})),e(rn,(function(e,n){e.expression=e.expression.transform(n)})),e(on,(function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)})),e(an,(function(e,n){e.expression=e.expression.transform(n)})),e(sn,(function(e,n){e.expression=e.expression.transform(n)})),e(un,(function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)})),e(ln,(function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)})),e(vn,(function(e,t){e.elements=n(e.elements,t)})),e(gn,(function(e,t){e.elements=n(e.elements,t),e.rest&&(e.rest=e.rest.transform(t))})),e(bn,(function(e,n){e.key instanceof S&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)})),e(yn,(function(e,t){e.properties=n(e.properties,t),e.rest&&(e.rest=e.rest.transform(t))})),e(wn,(function(e,t){e.properties=n(e.properties,t)})),e(xn,(function(e,n){e.key instanceof S&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)})),e(Ue,(function(e,n){e.body=e.body.transform(n)})),e(Ve,(function(e,n){e.body=e.body.transform(n)})),e(Ge,(function(e,t){e.properties=n(e.properties,t)})),e(Je,(function(e,t){e.all&&(e.all=e.all.transform(t)),e.default&&(e.default=e.default.transform(t)),e.properties&&(e.properties=n(e.properties,t))})),e(Wn,(function(e,t){e.tag&&(e.tag=e.tag.transform(t)),e.expressions=n(e.expressions,t)}))}((function(e,n){e.DEFMETHOD("transform",(function(e,t){var i,r;return e.push(this),e.before&&(i=e.before(this,n,t)),"undefined"===typeof i&&(n(i=this,e),e.after&&"undefined"!==typeof(r=e.after(i,t))&&(i=r)),e.pop(),i}))}));var ut="break case catch class const continue debugger default delete do else extends finally for function if in instanceof new return switch throw try typeof var void while with",lt="false null true",pt=["abstract async await boolean byte char double enum export final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield",lt,ut].join(" "),dt="return new delete throw else case";ut=_(ut),pt=_(pt),dt=_(dt),lt=_(lt);var ht=/^0b([01]+)$/i,vt=/^0x([0-9a-f]+)$/i,mt=/^0o?([0-7]+)$/i,_t=_(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%","**",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=","**=",">>=","<<=",">>>=","&=","|=","^=","&&","||","??","&&=","||=","??="]),gt="\n\r\u2028\u2029",bt="+-*&%=<>!?|~^",yt=",;:)}]",wt="[{(,;:",xt=wt+"`)}]",kt=gt+" \xa0\t\f\v\u200b\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\ufeff",Et=_(t("./'\"#"+bt+xt+kt));function St(e){return e>=55296&&e<=56319}function Tt(e){return e>=56320&&e<=57343}function At(e){return e>=48&&e<=57}function Dt(e){return!Et[e]}function Ot(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function $t(e){switch(e[0]){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"u":var n;if("{"==e[1]&&"}"==e.slice(-1))n=e.slice(2,-1);else{if(5!=e.length)return;n=e.slice(1)}if((t=parseInt(n,16))<0||isNaN(t))return;if(t<65536)return String.fromCharCode(t);if(t>1114111)return;return String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t));case"v":return"\v";case"x":if(3!=e.length)return;var t;if((t=parseInt(e.slice(1),16))<0||isNaN(t))return;return String.fromCharCode(t);case"\r":case"\n":return"";default:if("0"==e)return"\0";if(e[0]>="0"&&e[0]<="9")return;return e}}function qt(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function zt(e,n,t,i,r){throw new qt(e,n,t,i,r)}function Ct(e,n,t){return e.type==n&&(null==t||e.value==t)}gt=_(t(gt)),bt=_(t(bt)),yt=_(t(yt)),wt=_(t(wt)),xt=_(t(xt)),kt=_(t(kt)),qt.prototype=Object.create(Error.prototype),qt.prototype.constructor=qt,qt.prototype.name="SyntaxError",o(qt);var Mt={};function Ft(e,n,t,i){var r={text:e,filename:n,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[],read_template:A("Unterminated template literal",(function(e){for(var n="";;){var t=i();switch(t){case"\\":t+=i();break;case"`":return void e.push(n);case"$":if("{"==a())return s(),e.push(n),r.regex_allowed=!0,!0}n+=t}function i(){var e=s(!0,!0);return"\r"==e?"\n":e}}))},o=!1;function a(){return r.text.charAt(r.pos)}function s(e,n){var t=r.text.charAt(r.pos++);if(e&&!t)throw Mt;return gt[t]?(r.col=0,r.line++,n||(r.newline_before=!0),"\r"==t&&"\n"==a()&&(r.pos++,t="\n")):r.col++,t}function f(e){for(;e-- >0;)s()}function c(e){return r.text.substr(r.pos,e.length)==e}function u(){r.tokline=r.line,r.tokcol=r.col,r.tokpos=r.pos}function l(t,i,a){r.regex_allowed="operator"==t&&!jt[i]||"keyword"==t&&dt[i]||"punc"==t&&wt[i],"punc"==t&&"."==i?o=!0:a||(o=!1);var s={type:t,value:i,line:r.tokline,col:r.tokcol,pos:r.tokpos,endline:r.line,endcol:r.col,endpos:r.pos,nlb:r.newline_before,file:n};return/^(?:num|string|regexp)$/i.test(t)&&(s.raw=e.substring(s.pos,s.endpos)),a||(s.comments_before=r.comments_before,s.comments_after=r.comments_before=[]),r.newline_before=!1,new E(s)}function p(){for(;kt[a()];)s()}function d(e){zt(e,n,r.tokline,r.tokcol,r.tokpos)}function h(e){return/^0[0-7_]+$/.test(e)}function v(e){var n=!1,t=!1,i=!1,r="."==e,o=function(e){for(var n,t="";(n=a())&&e(n,t);)t+=s();return t}((function(e,o){switch(e){case"x":case"X":return!i&&(i=!0);case"e":case"E":return!!i||!n&&(n=t=!0);case"+":case"-":return t;case t=!1,".":return!(r||n||i||h(o))&&(r=!0)}return/[_0-9a-dfo]/i.test(e)}));e&&(o=e+o),h(o)?D.has_directive("use strict")&&d("Legacy octal literals are not allowed in strict mode"):o=o.replace(i?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1");var f=function(e){var n;if(n=ht.exec(e))return parseInt(n[1],2);if(n=vt.exec(e))return parseInt(n[1],16);if(n=mt.exec(e))return parseInt(n[1],8);var t=parseFloat(e);return t==e?t:void 0}(o);return isNaN(f)&&d("Invalid syntax: "+o),r||n||"n"!=a()?l("num",f):l("bigint",o.toLowerCase()+s())}function m(e){var n=s(!0,e);if(n>="0"&&n<="7")return function(e){var n=a();n>="0"&&n<="7"&&(e+=s(!0))[0]<="3"&&(n=a())>="0"&&n<="7"&&(e+=s(!0));if("0"===e)return"\0";e.length>0&&D.has_directive("use strict")&&d("Legacy octal escape sequences are not allowed in strict mode");return String.fromCharCode(parseInt(e,8))}(n);if("u"==n){var t=s(!0,e);if(n+=t,"{"!=t)n+=s(!0,e)+s(!0,e)+s(!0,e);else do{n+=t=s(!0,e)}while("}"!=t)}else"x"==n&&(n+=s(!0,e)+s(!0,e));var i=$t(n);return"string"!=typeof i&&d("Invalid escape sequence: \\"+n),i}var _=A("Unterminated string constant",(function(e){for(var n=s(),t="";;){var i=s(!0,!0);if("\\"==i)i=m(!0);else if(gt[i])d("Unterminated string constant");else if(i==n)break;t+=i}var r=l("string",t);return r.quote=e,r}));function g(e){var n,t=r.regex_allowed,i=function(){for(var e=r.text,n=r.pos;n<r.text.length;++n)if(gt[e[n]])return n;return-1}();return-1==i?(n=r.text.substr(r.pos),r.pos=r.text.length):(n=r.text.substring(r.pos,i),r.pos=i),r.col=r.tokcol+(r.pos-r.tokpos),r.comments_before.push(l(e,n,!0)),r.regex_allowed=t,D}var b=A("Unterminated multiline comment",(function(){var e=r.regex_allowed,n=function(e,n){var t=r.text.indexOf(e,r.pos);if(n&&-1==t)throw Mt;return t}("*/",!0),t=r.text.substring(r.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return f(t.length+2),r.comments_before.push(l("comment2",t,!0)),r.regex_allowed=e,D}));function y(){for(var e,n=!1,t=!1,i="#"==a()?s():"";e=a();)if(n)"u"!=e&&d("Expecting UnicodeEscapeSequence -- uXXXX"),Dt(e=m())||d("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),i+=e,n=!1;else if("\\"==e)t=n=!0,s();else{if(!Dt(e))break;i+=s()}if(ut[i]&&t){var r=i.charCodeAt(0).toString(16).toUpperCase();i="\\u"+"0000".substr(r.length)+r+i.slice(1)}return i}var w=A("Unterminated regular expression",(function(e){for(var n,t=!1,i=!1;n=s(!0);)if(gt[n])d("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=y();try{var o=new RegExp(e,r);return o.raw_source=e,l("regexp",o)}catch(a){d(a.message)}}));function x(e){return l("operator",function e(n){if(!a())return n;var t=n+a();return _t[t]?(s(),e(t)):n}(e||s()))}function k(){switch(s(),a()){case"/":return s(),g("comment1");case"*":return s(),b()}return r.regex_allowed?w(""):x("/")}function S(){s();var e=a();if("."==e){var n=".";do{n+=".",s()}while("."==a());return l("operator",n)}return At(e.charCodeAt(0))?v("."):l("punc",".")}function T(){var e=y();return o?l("name",e):lt[e]?l("atom",e):ut[e]?_t[e]?l("operator",e):l("keyword",e):l("name",e)}function A(e,n){return function(t){try{return n(t)}catch(i){if(i!==Mt)throw i;d(e)}}}function D(e){if(null!=e)return w(e);for(i&&0==r.pos&&c("#!")&&(u(),f(2),g("comment5"));;){if(p(),u(),t){if(c("\x3c!--")){f(4),g("comment3");continue}if(c("--\x3e")&&r.newline_before){f(3),g("comment4");continue}}var n=a();if(!n)return l("eof");var o=n.charCodeAt(0);switch(o){case 34:case 39:return _(n);case 46:return S();case 47:var h=k();if(h===D)continue;return h}if(At(o))return v();if(xt[n])return l("punc",s());if(c("=>"))return l("punc",s()+s());if(bt[n])return x();if(35==o||92==o||!Et[n])return T();break}d("Unexpected character '"+n+"'")}return D.context=function(e){return e&&(r=e),r},D.add_directive=function(e){r.directive_stack[r.directive_stack.length-1].push(e),r.directives[e]?r.directives[e]++:r.directives[e]=1},D.push_directives_stack=function(){r.directive_stack.push([])},D.pop_directives_stack=function(){for(var e=r.directive_stack.pop(),n=e.length;--n>=0;)r.directives[e[n]]--},D.has_directive=function(e){return r.directives[e]>0},D}var Pt=_("typeof void delete -- ++ ! ~ - +"),jt=_("-- ++"),Nt=_("= += -= /= *= %= **= >>= <<= >>>= &= |= ^= &&= ||= ??="),It=function(e,n){for(var t=0;t<e.length;)for(var i=e[t++],r=0;r<i.length;r++)n[i[r]]=t;return n}([["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),Ht=_("atom bigint num regexp string");function Yt(e,n){n=s(n,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var t={input:"string"==typeof e?Ft(e,n.filename,n.html5_comments,n.shebang):e,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_generator:!1,in_loop:0,labels:[],peeked:null,prev:null,token:null};function i(e,n){return Ct(t.token,e,n)}function o(){return t.peeked||(t.peeked=t.input())}function a(){return t.prev=t.token,t.peeked?(t.token=t.peeked,t.peeked=null):t.token=t.input(),t.in_directives=t.in_directives&&("string"==t.token.type||i("punc",";")),t.token}function f(){return t.prev}function c(e,n,i,r){var o=t.input.context();zt(e,o.filename,null!=n?n:o.tokline,null!=i?i:o.tokcol,null!=r?r:o.tokpos)}function u(e,n){c(n,e.line,e.col)}function l(e,n){return e+(void 0===n?"":" \xab"+n+"\xbb")}function p(e){null==e&&(e=t.token),u(e,"Unexpected token: "+l(e.type,e.value))}function d(e,n){if(i(e,n))return a();u(t.token,"Unexpected token: "+l(t.token.type,t.token.value)+", expected: "+l(e,n))}function h(e){return d("punc",e)}function v(e){return e.nlb||!g(e.comments_before,(function(e){return!e.nlb}))}function m(){return!n.strict&&(i("eof")||i("punc","}")||v(t.token))}function _(e){i("punc",";")?a():e||m()||h(";")}function b(){h("(");var e=ft();return h(")"),e}function w(e){return function(){var n=t.token,i=e.apply(null,arguments),r=f();return i.start=n,i.end=r,i}}function x(){(i("operator","/")||i("operator","/="))&&(t.peeked=null,t.token=t.input(t.token.value.substr(1)))}t.token=a();var k=w((function(){switch(x(),t.token.type){case"string":var e=t.in_directives,r=ft();if(e)if(r instanceof Jn){var s=r.start.raw.slice(1,-1);t.input.add_directive(s),r.value=s}else t.in_directives=e=!1;return _(),e?new O(r):new M({body:r});case"num":case"bigint":case"regexp":case"operator":case"atom":return E();case"name":switch(t.token.value){case"async":if(Ct(o(),"keyword","function"))return a(),a(),i("operator","*")?(a(),C(he)):C(de);break;case"await":if(t.in_async)return E();break;case"export":return a(),function(){if(i("operator","*")){a();var e="*";i("name","as")&&(a(),F()||d("name"),e=t.token.value,a()),d("name","from");var n=t.token;return d("string"),_(),new We({aliases:[e],keys:["*"],path:n.value,quote:n.quote})}if(i("punc","{")){a();for(var r=[],s=[];F();){var c=t.token;a(),s.push(c),i("name","as")?(a(),F()||d("name"),r.push(t.token.value),a()):r.push(c.value),i("punc","}")||h(",")}if(h("}"),i("name","from")){a();n=t.token;return d("string"),_(),new We({aliases:r,keys:s.map((function(e){return e.value})),path:n.value,quote:n.quote})}return _(),new Ge({properties:s.map((function(e,n){Ct(e,"name")||u(e,"Name expected");var t=Oe(Yn,e);return t.alias=r[n],t}))})}if(i("keyword","default")){a();var l=t.token,p=function(){if(i("name","async")){if(!Ct(o(),"keyword","function"))return;return a(),a(),i("operator","*")?(a(),P(he,C(ce))):P(de,C(fe))}if(i("keyword"))switch(t.token.value){case"class":return a(),P(ge,A(be));case"function":return a(),i("operator","*")?(a(),P(me,C(le))):P(ve,C(ue))}}();return p?(p.start=l,p.end=f()):(x(),p=ft(),_()),new Ve({body:p})}return new Ue({body:j()})}();case"import":var l=o();if("punc"!=l.type||!/^[(.]$/.test(l.value))return a(),function(){var e=null,n=Ke($n,!0),r=null;if(n?(n.key="",i("punc",",")&&a()):!i("string"))if(i("operator","*"))a(),d("name","as"),(e=Ke($n)).key="*";else{for(h("{"),r=[];F();){var s;if(Ct(o(),"name","as")){var f=t.token.value;a(),a(),(s=Ke($n)).key=f}else(s=Ke($n)).key=s.name;r.push(s),i("punc","}")||h(",")}h("}")}(e||n||r)&&d("name","from");var c=t.token;return d("string"),_(),new Je({all:e,default:n,path:c.value,properties:r,quote:c.quote})}();break;case"let":if(K()){a();var y=ne();return _(),y}break;case"yield":if(t.in_generator)return E()}return Ct(o(),"punc",":")?function(){var e=Ke(In);g(t.labels,(function(n){return n.name!=e.name}))||c("Label "+e.name+" defined twice");h(":"),t.labels.push(e);var n=k();t.labels.pop(),n instanceof Y||e.references.forEach((function(n){n instanceof qe&&u(n.label.start,"Continue label `"+e.name+"` must refer to IterationStatement")}));return new H({body:n,label:e})}():E();case"punc":switch(t.token.value){case"{":return new N({start:t.token,body:I(),end:f()});case"[":case"(":case"`":return E();case";":return t.in_directives=!1,a(),new $;default:p()}case"keyword":switch(t.token.value){case"break":return a(),S($e);case"class":return a(),A(ge);case"const":a();y=Z();return _(),y;case"continue":return a(),S(qe);case"debugger":return a(),_(),new D;case"do":a();r=ct(k);d("keyword","while");var w=b();return _(!0),new L({body:r,condition:w});case"while":return a(),new B({condition:b(),body:ct(k)});case"for":return a(),function(){var e=i("name","await")&&a();h("(");var n=null;if(e||!i("punc",";")){var t;if(n=i("keyword","const")?(a(),Z(!0)):i("name","let")&&K()?(a(),ne(!0)):i("keyword","var")?(a(),te(!0)):ft(!0),e?(d("name","of"),t=J):i("operator","in")?(a(),t=W):i("name","of")&&(a(),t=G),t)return n instanceof He?(n.definitions.length>1&&u(n.start,"Only one variable declaration allowed in for..in/of loop"),t!==W&&n.definitions[0].value&&u(n.definitions[0].value.start,"No initializers allowed in for..of loop")):nt(n)||(n=tt(n))instanceof mn||u(n.start,"Invalid left-hand side in for..in/of loop"),function(e,n){x();var t=ft();return h(")"),new e({init:n,object:t,body:ct(k)})}(t,n)}return function(e){h(";");var n=i("punc",";")?null:ft();h(";");var t=i("punc",")")?null:ft();return h(")"),new U({init:e,condition:n,step:t,body:ct(k)})}(n)}();case"function":return a(),i("operator","*")?(a(),C(me)):C(ve);case"if":return a(),function(){var e=b(),n=k(),t=null;i("keyword","else")&&(a(),t=k());return new ze({condition:e,body:n,alternative:t})}();case"return":0!=t.in_function||n.bare_returns||c("'return' outside of function"),a();s=null;return i("punc",";")?a():m()||(s=ft(),_()),new Ae({value:s});case"switch":return a(),new Ce({expression:b(),body:ct(R)});case"throw":a(),v(t.token)&&c("Illegal newline after 'throw'");s=ft();return _(),new De({value:s});case"try":return a(),function(){var e=I(),n=null,r=null;if(i("keyword","catch")){var o=t.token;a();var s=null;i("punc","(")&&(a(),s=nn(Nn),h(")")),n=new Ne({start:o,argname:s,body:I(),end:f()})}if(i("keyword","finally")){o=t.token;a(),r=new Ie({start:o,body:I(),end:f()})}n||r||c("Missing catch/finally blocks");return new je({body:e,bcatch:n,bfinally:r})}();case"var":a();y=te();return _(),y;case"with":return t.input.has_directive("use strict")&&c("Strict mode may not include a with statement"),a(),new X({expression:b(),body:k()})}}p()}));function E(){var e=ft();return _(),new M({body:e})}function S(e){var n,i=null;m()||(i=Ke(Rn,!0)),null!=i?((n=r((function(e){return e.name==i.name}),t.labels))||u(i.start,"Undefined label "+i.name),i.thedef=n):0==t.in_loop&&c(e.TYPE+" not inside a loop or switch"),_();var o=new e({label:i});return n&&n.references.push(o),o}function T(e){if(i("name",e)){var n=o();if(n&&!Ct(n,"operator","=")&&("punc"!=n.type||!/^[(;}]$/.test(n.value))&&!v(n))return a()}}function A(e){var n,r=t.in_async,o=t.in_generator;t.input.push_directives_stack(),t.input.add_directive("use strict"),n=e===ge?Ke(Pn):Ke(jn,!0);var s=null;i("keyword","extends")&&(a(),x(),s=re(!0)),h("{");for(var c=[];!i("punc","}");)if(i("punc",";"))a();else{var u=t.token,l=!!T("static"),d=T("async");if(i("operator","*")){a();var v=i("name")&&/^#/.test(t.token.value),m=Se(),g=t.token,b=C(d?ce:le);b.start=g,b.end=f(),c.push(new Ee({start:u,static:l,private:v,key:m,value:b,end:f()}))}else{v=i("name")&&/^#/.test(t.token.value),m=Se();if(i("punc","(")){var y=t.token,w=C(d?fe:ue);w.start=y,w.end=f(),c.push(new Ee({start:u,static:l,private:v,key:m,value:w,end:f()}))}else{d&&p(d);var k=null;if(i("operator","="))a(),t.in_async=!1,t.in_generator=!1,k=ot(),t.in_generator=o,t.in_async=r;else if(!i("punc",";")&&!i("punc","}")){var E=null;switch(m){case"get":E=xe;break;case"set":E=ke}if(E){c.push(new E({start:u,static:l,private:i("name")&&/^#/.test(t.token.value),key:Se(),value:_e(),end:f()}));continue}}_(),c.push(new we({start:u,static:l,private:v,key:m,value:k,end:f()}))}}}return a(),t.input.pop_directives_stack(),t.in_generator=o,t.in_async=r,new e({extends:s,name:n,properties:c})}function q(e){if(e instanceof vn){var n=null;return e.elements[e.elements.length-1]instanceof an&&(n=q(e.elements.pop().expression)),new gn({start:e.start,elements:e.elements.map(q),rest:n,end:e.end})}if(e instanceof pn)return new Xe({start:e.start,name:q(e.left),value:e.right,end:e.end});if(e instanceof Xe)return e.name=q(e.name),e;if(e instanceof gn)return e.elements=e.elements.map(q),e.rest&&(e.rest=q(e.rest)),e;if(e instanceof yn)return e.properties.forEach((function(e){e.value=q(e.value)})),e.rest&&(e.rest=q(e.rest)),e;if(e instanceof it)return e;if(e instanceof wn){n=null;return e.properties[e.properties.length-1]instanceof an&&(n=q(e.properties.pop().expression)),new yn({start:e.start,properties:e.properties.map((function(e){return e instanceof kn||u(e.start,"Invalid destructuring assignment"),new bn({start:e.start,key:e.key,value:q(e.value),end:e.end})})),rest:n,end:e.end})}return e instanceof Cn?e:e instanceof Hn?new Cn(e):e instanceof hn?new Cn({start:e.start,name:"yield",end:e.end}):void u(e.start,"Invalid arrow parameter")}function z(e,n,r){var o=t.in_async,a=t.in_generator;t.in_async=r,t.in_generator=!1;var s=t.in_funarg;t.in_funarg=t.in_function;var c,u,l=e.map(q),p=e.rest||null;p&&(p=q(p)),t.in_funarg=s,h("=>");var d=t.in_loop,v=t.labels;++t.in_function,t.in_directives=!0,t.input.push_directives_stack(),t.in_loop=0,t.labels=[],i("punc","{")?(c=I(),u=null):(c=[],x(),u=ot());var m=t.input.has_directive("use strict");t.input.pop_directives_stack(),--t.in_function,t.in_loop=d,t.labels=v,t.in_generator=a,t.in_async=o;var _=new(r?se:ae)({start:n,argnames:l,rest:p,body:c,value:u,end:f()});return m&&_.each_argname(Me),_}var C=function(e){var i,r=t.in_async,o=t.in_generator;/Defun$/.test(e.TYPE)?(i=Ke(Mn),t.in_async=/^Async/.test(e.TYPE),t.in_generator=/Generator/.test(e.TYPE)):(t.in_async=/^Async/.test(e.TYPE),t.in_generator=/Generator/.test(e.TYPE),i=Ke(Fn,!0)),!i||e===ee||i instanceof Dn||p(f()),h("(");var a=t.in_funarg;t.in_funarg=t.in_function;var s=oe(")",!n.strict,!1,(function(){return sn(Cn)}));t.in_funarg=a;var c=t.in_loop,u=t.labels;++t.in_function,t.in_directives=!0,t.input.push_directives_stack(),t.in_loop=0,t.labels=[];var l=I(),d=t.input.has_directive("use strict");t.input.pop_directives_stack(),--t.in_function,t.in_loop=c,t.labels=u,t.in_generator=o,t.in_async=r;var v=new e({name:i,argnames:s,rest:s.rest||null,body:l});return d&&(i&&Me(i),v.each_argname(Me)),v};function F(){return i("name")||Ot(t.token.value)}function P(e,n){return n.name&&((n=new e(n)).name=new(e===ge?Pn:Mn)(n.name)),n}var j=w((function(){if(i("name"))switch(t.token.value){case"async":return a(),d("keyword","function"),i("operator","*")?(a(),C(he)):C(de);case"let":a();var e=ne();return _(),e}else if(i("keyword"))switch(t.token.value){case"class":return a(),A(ge);case"const":a();e=Z();return _(),e;case"function":return a(),i("operator","*")?(a(),C(me)):C(ve);case"var":a();e=te();return _(),e}p()}));function I(){h("{");for(var e=[];!i("punc","}");)i("eof")&&h("}"),e.push(k());return a(),e}function R(){h("{");for(var e,n,r,o,s=[];!i("punc","}");)i("eof")&&h("}"),i("keyword","case")?(e&&(e.end=f()),n=[],e=new Pe({start:(o=t.token,a(),o),expression:ft(),body:n}),s.push(e),h(":")):i("keyword","default")?(e&&(e.end=f()),r&&c("More than one default clause in switch statement"),n=[],e=new Fe({start:(o=t.token,a(),h(":"),o),body:n}),s.push(e),r=e):(n||p(),n.push(k()));return e&&(e.end=f()),a(),s}function V(e,n){for(var r=[];;){var o=t.token,s=nn(e),u=null;if(i("operator","=")?(a(),u=ot(n)):!n&&(e===On||s instanceof mn)&&c("Missing initializer in declaration"),r.push(new Be({start:o,name:s,value:u,end:f()})),!i("punc",","))break;a()}return r}function K(){var e=o();return Ct(e,"name")||Ct(e,"punc","[")||Ct(e,"punc","{")}var Z=function(e){return new Ye({start:f(),definitions:V(On,e),end:f()})},ne=function(e){return new Re({start:f(),definitions:V(qn,e),end:f()})},te=function(e){return new Le({start:f(),definitions:V(zn,e),end:f()})},ie=function(e){var r,s=t.token;if(d("operator","new"),i("punc",".")&&Ct(o(),"name","target"))a(),a(),r=new Vn;else{var c,u=re(!1);i("punc","(")?(a(),c=oe(")",!n.strict)):c=[],r=new Ze({expression:u,args:c})}return r.start=s,r.end=f(),xn(r,e)};var re=function(e){if(i("operator","new"))return ie(e);var n=t.token;if(i("punc")){switch(n.value){case"`":return xn(_n(null),e);case"(":if(a(),i("punc",")"))return a(),z([],n);var r=ft(!1,!0),s=n.comments_before.length;if([].unshift.apply(r.start.comments_before,n.comments_before),n.comments_before.length=0,n.comments_before=r.start.comments_before,n.comments_before_length=s,0==s&&n.comments_before.length>0){var c=n.comments_before[0];c.nlb||(c.nlb=n.nlb,n.nlb=!1)}n.comments_after=r.start.comments_after,r.start=n,h(")");var u=f();return u.comments_before=r.end.comments_before,u.comments_after.forEach((function(e){r.end.comments_after.push(e),e.nlb&&(t.token.nlb=!0)})),u.comments_after.length=0,u.comments_after=r.end.comments_after,r.end=u,i("punc","=>")?z(r instanceof en?r.expressions:[r],n):xn(r,e);case"[":return xn(pe(),e);case"{":return xn(ye(),e)}p()}if(i("keyword"))switch(n.value){case"class":a();var l=A(be);return l.start=n,l.end=f(),xn(l,e);case"function":return a(),i("operator","*")?(a(),v=C(le)):v=C(ue),v.start=n,v.end=f(),xn(v,e)}if(i("name")){var d=Oe(Hn,n);if(a(),"async"==d.name){var v;if(i("keyword","function"))return a(),i("operator","*")?(a(),v=C(ce)):v=C(fe),v.start=n,v.end=f(),xn(v,e);if(i("name")&&Ct(o(),"punc","=>"))return n=t.token,d=Oe(Hn,n),a(),z([d],n,!0);if(i("punc","(")){var m=xn(d,e);if(!i("punc","=>"))return m;var _=m.args;return _[_.length-1]instanceof an&&(_.rest=_.pop().expression),z(_,n,!0)}}return i("punc","=>")?z([d],n):xn(d,e)}if(Ht[t.token.type])return xn(function(){var e,n=t.token,i=n.value;switch(n.type){case"num":isFinite(i)?e=new Xn({value:i}):(e=new rt,i<0&&(e=new fn({operator:"-",expression:e})));break;case"bigint":e=new Kn({value:i});break;case"string":e=new Jn({value:i,quote:n.quote});break;case"regexp":e=new Qn({value:i});break;case"atom":switch(i){case"false":e=new at;break;case"true":e=new st;break;case"null":e=new et;break;default:p()}break;default:p()}return a(),e.start=e.end=n,e}(),e);p()};function oe(e,n,r,o){o||(o=ot);for(var s=!0,c=[];!i("punc",e)&&(s?s=!1:h(","),!n||!i("punc",e));)if(r&&i("punc",","))c.push(new it({start:t.token,end:t.token}));else if(i("operator","...")){if(o!==ot){a(),c.rest=o(),c.rest instanceof Xe&&u(c.rest.start,"Invalid rest parameter");break}c.push(new an({start:t.token,expression:(a(),o()),end:f()}))}else c.push(o());return h(e),c}var pe=w((function(){return h("["),new vn({elements:oe("]",!n.strict,!0)})})),_e=w((function(){return C(ee)})),ye=w((function(){h("{");for(var e=!0,r=[];!i("punc","}")&&(e?e=!1:h(","),n.strict||!i("punc","}"));){var s=t.token;if(i("operator","*")){a();var c=Se(),u=t.token,l=C(le);l.start=u,l.end=f(),r.push(new En({start:s,key:c,value:l,end:f()}))}else if(i("operator","..."))a(),r.push(new an({start:s,expression:ot(),end:f()}));else if(Ct(o(),"operator","=")){var d=Ke(Hn);a(),r.push(new kn({start:s,key:s.value,value:new pn({start:s,left:d,operator:"=",right:ot(),end:f()}),end:f()}))}else if(Ct(o(),"punc",",")||Ct(o(),"punc","}"))r.push(new kn({start:s,key:s.value,value:Ke(Hn),end:f()}));else{c=Se();if(i("punc","(")){var v=t.token;(_=C(ue)).start=v,_.end=f(),r.push(new En({start:s,key:c,value:_,end:f()}))}else if(i("punc",":"))a(),r.push(new kn({start:s,key:c,value:ot(),end:f()}));else{if("name"==s.type)switch(c){case"async":var m=i("operator","*")&&a();c=Se();var _;v=t.token;(_=C(m?ce:fe)).start=v,_.end=f(),r.push(new En({start:s,key:c,value:_,end:f()}));continue;case"get":r.push(new Tn({start:s,key:Se(),value:_e(),end:f()}));continue;case"set":r.push(new Sn({start:s,key:Se(),value:_e(),end:f()}));continue}p()}}}return a(),new wn({properties:r})}));function Se(){var e=t.token;switch(e.type){case"operator":ut[e.value]||p();case"num":case"string":case"name":case"keyword":case"atom":return a(),""+e.value;case"punc":h("[");var n=ot();return h("]"),n;default:p()}}function Te(){var e=t.token.value;return d("name"),e}function Oe(e,n){var i=n.value;switch(i){case"await":t.in_async&&p(n);break;case"super":e=Bn;break;case"this":e=Un;break;case"yield":t.in_generator&&p(n)}return new e({name:""+i,start:n,end:n})}function Me(e){"arguments"!=e.name&&"eval"!=e.name&&"let"!=e.name||u(e.start,"Unexpected "+e.name+" in strict mode")}function Ke(e,n){if(!i("name"))return n||c("Name expected"),null;var r=Oe(e,t.token);return t.input.has_directive("use strict")&&r instanceof Dn&&Me(r),a(),r}function nn(e){var r=t.token;if(i("punc","[")){a();var s=oe("]",!n.strict,!0,(function(){return sn(e)}));return new gn({start:r,elements:s,rest:s.rest||null,end:f()})}if(i("punc","{")){a();for(var c=!0,u=[],l=null;!i("punc","}")&&(c?c=!1:h(","),n.strict||!i("punc","}"));){var p=t.token;if(i("punc","[")||Ct(o(),"punc",":")){var d=Se();h(":"),u.push(new bn({start:p,key:d,value:sn(e),end:f()}))}else{if(i("operator","...")){a(),l=nn(e);break}var v=Ke(e);i("operator","=")&&(a(),v=new Xe({start:v.start,name:v,value:ot(),end:f()})),u.push(new bn({start:p,key:p.value,value:v,end:f()}))}}return h("}"),new yn({start:r,properties:u,rest:l,end:f()})}return Ke(e)}function sn(e){var n=t.token,r=nn(e);return i("operator","=")?(a(),new Xe({start:n,name:r,value:ot(),end:f()})):r}function _n(e){for(var n=e?e.start:t.token,r=t.input.context().read_template,o=[],s=[];r(o);)a(),s.push(ft()),i("punc","}")||p();return a(),new Wn({start:n,expressions:s,strings:o,tag:e,end:f()})}function xn(e,t){for(var r=e.start,s=null;;)if(i("operator","?")&&Ct(o(),"punc",".")&&(a(),a(),s=e),i("punc","[")){a();var u=ft();h("]"),e=new on({start:r,optional:s===e,expression:e,property:u,end:f()})}else if(t&&i("punc","("))a(),e=new Qe({start:r,optional:s===e,expression:e,args:oe(")",!n.strict),end:f()});else if(s===e||i("punc","."))s!==e&&a(),e=new rn({start:r,optional:s===e,expression:e,property:Te(),end:f()});else{if(!i("punc","`"))break;s&&c("Invalid template on optional chain"),e=_n(e)}if(s&&(e.terminal=!0),e instanceof Qe&&!e.pure)for(var l=(r=e.start).comments_before,p=y(r,"comments_before_length")?r.comments_before_length:l.length;--p>=0;)if(/[@#]__PURE__/.test(l[p].value)){e.pure=!0;break}return e}function An(e){var n=t.token;if(t.in_async&&i("name","await"))return t.in_funarg===t.in_function&&c("Invalid use of await in function argument"),t.input.context().regex_allowed=!0,a(),new dn({start:n,expression:An(e),end:f()});if(t.in_generator&&i("name","yield")){t.in_funarg===t.in_function&&c("Invalid use of yield in function argument"),t.input.context().regex_allowed=!0,a();var r=null,o=!1;return i("operator","*")?(a(),r=ot(e),o=!0):(i("punc")?yt[t.token.value]:m())||(r=ot(e)),new hn({start:n,expression:r,nested:o,end:f()})}if(i("operator")&&Pt[n.value]){a(),x();var s=Ln(fn,n,An(e));return s.start=n,s.end=f(),s}for(var u=re(!0);i("operator")&&jt[t.token.value]&&!v(t.token);)(u=Ln(cn,t.token,u)).start=n,u.end=t.token,a();return u}function Ln(e,n,i){var r=n.value;switch(r){case"++":case"--":nt(i)||u(n,"Invalid use of "+r+" operator");break;case"delete":i instanceof Hn&&t.input.has_directive("use strict")&&u(i.start,"Calling delete on expression not allowed in strict mode")}return new e({operator:r,expression:i})}var Gn=function e(n,r,o){var s=i("operator")?t.token.value:null;"in"==s&&o&&(s=null);var f=null!=s?It[s]:null;if(null!=f&&f>r){a();var c=e(An(o),"**"==s?f-1:f,o);return e(new un({start:n.start,left:n,operator:s,right:c,end:c.end}),r,o)}return n};function Zn(e){return Gn(An(e),0,e)}function nt(e){return e instanceof tn&&!e.optional||e instanceof Hn}function tt(e){if(e instanceof vn){var n=null;if(e.elements[e.elements.length-1]instanceof an&&!((n=tt(e.elements.pop().expression))instanceof mn||nt(n)))return e;var t=e.elements.map(tt);return g(t,(function(e){return e instanceof Xe||e instanceof mn||e instanceof it||nt(e)}))?new gn({start:e.start,elements:t,rest:n,end:e.end}):e}if(e instanceof pn){var i=tt(e.left);return i instanceof mn||nt(i)?new Xe({start:e.start,name:i,value:e.right,end:e.end}):e}if(!(e instanceof wn))return e;n=null;if(e.properties[e.properties.length-1]instanceof an&&!((n=tt(e.properties.pop().expression))instanceof mn||nt(n)))return e;for(var r=[],o=0;o<e.properties.length;o++){var a=e.properties[o];if(!(a instanceof kn))return e;var s=tt(a.value);if(!(s instanceof Xe||s instanceof mn||nt(s)))return e;r.push(new bn({start:a.start,key:a.key,value:s,end:a.end}))}return new yn({start:e.start,properties:r,rest:n,end:e.end})}function ot(e){var n=t.token,r=function(e){var n=t.token,r=Zn(e);if(i("operator","?")){a();var o=ot();return h(":"),new ln({start:n,condition:r,consequent:o,alternative:ot(e),end:f()})}return r}(e),o=t.token.value;if(i("operator")&&Nt[o]){if(nt(r)||"="==o&&(r=tt(r))instanceof mn)return a(),new pn({start:n,left:r,operator:o,right:ot(e),end:f()});c("Invalid assignment")}return r}function ft(e,n){for(var r=t.token,s=[];;){if(n&&i("operator","...")){a(),s.rest=nn(Cn);break}if(s.push(ot(e)),!i("punc",","))break;if(a(),n&&i("punc",")")&&Ct(o(),"punc","=>"))break}return 1!=s.length||s.rest?new en({start:r,expressions:s,end:f()}):s[0]}function ct(e){++t.in_loop;var n=e();return--t.in_loop,n}if(n.expression){x();var lt=ft();return d("eof"),lt}return function(){var e=t.token,r=[];for(t.input.push_directives_stack();!i("eof");)r.push(k());t.input.pop_directives_stack();var o=f()||e,a=n.toplevel;return a?(a.body=a.body.concat(r),a.end=o):a=new Q({start:e,body:r,end:o}),a}()}function Rt(e,n,t,i){this._bits=0,this.defun=void 0,this.eliminated=0,this.id=e,this.init=i,this.mangled_name=null,this.name=t.name,this.orig=[t],this.references=[],this.replaced=0,this.safe_ids=void 0,this.scope=n}function Lt(e){return e.orig[0]instanceof Cn||e.orig[1]instanceof Cn}Rt.prototype={forEach:function(e){this.orig.forEach(e),this.references.forEach(e)},mangle:function(e){var n=e.cache&&e.cache.props;if(this.global&&n&&n.has(this.name))this.mangled_name=n.get(this.name);else if(!this.mangled_name&&!this.unmangleable(e)){var t=this.redefined();this.mangled_name=t?t.mangled_name||t.name:function(e,n){var t,r=e.scope,o=Gt(r,n),a=r.cname_holes,s=new b,f=[r];e.forEach((function(e){var t=e.scope;do{if(i(t,f))break;Gt(t,n).each((function(e,n){s.set(n,e)})),f.push(t)}while(t=t.parent_scope)}));for(var c=0;c<a.length;c++)if(t=Xt(a[c]),!s.has(t))return a.splice(c,1),o.set(t,!0),t;for(;;)if(t=Xt(++r.cname),!(o.has(t)||pt[t]||n.reserved.has[t])){if(!s.has(t))break;a.push(r.cname)}return o.set(t,!0),t}(this,e),this.global&&n&&n.set(this.name,this.mangled_name)}},redefined:function(){var e=this,n=e.defun;if(n){var t=e.name,i=n.variables.get(t)||n instanceof Q&&n.globals.get(t)||e.orig[0]instanceof On&&r((function(e){return e.name==t}),n.enclosed);return i&&i!==e?i.redefined()||i:void 0}},unmangleable:function(e){if(this.exported)return!0;if(this.undeclared)return!0;if(!e.eval&&this.scope.pinned())return!0;if(e.keep_fargs&&Lt(this))return!0;if(e.keep_fnames){var n=this.orig[0];if(n instanceof jn)return!0;if(n instanceof Pn)return!0;if(n instanceof Mn)return!0;if(n instanceof Fn)return!0}return!(e.toplevel||!this.global)}},x(Rt,["const_redefs","cross_loop","direct_access","exported","global","undeclared"]);var Bt=_("delete ++ --");function Ut(e,n){return n instanceof pn?n.left===e&&e:n instanceof Xe?n.name===e&&e:n instanceof mn||n instanceof bn?e:n instanceof V?n.init===e&&e:n instanceof sn?Bt[n.operator]&&n.expression:void 0}function Vt(e,n){e.enclosed=[],e.parent_scope=n,e.functions=new b,e.variables=new b,n&&(e.make_def=n.make_def)}function Wt(e,n){Vt(e,n),e.uses_eval=!1,e.uses_with=!1}function Gt(e,n){var t=e.names_in_use;if(!t){e.cname=-1,e.cname_holes=[],e.names_in_use=t=new b;var i=n.cache&&n.cache.props;e.enclosed.forEach((function(e){e.unmangleable(n)&&t.set(e.name,!0),e.global&&i&&i.has(e.name)&&t.set(i.get(e.name),!0)}))}return t}function Jt(e){return e=s(e,{eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1}),Array.isArray(e.reserved)||(e.reserved=[]),h(e.reserved,"arguments"),e.reserved.has=_(e.reserved),e}Q.DEFMETHOD("figure_out_scope",(function(e){e=s(e,{cache:null,ie:!1});var n=this,t=null,i=!1,r=0,o=n.parent_scope=null,a=new ft((function(n,r){if(n instanceof ge){var s=i;return i=a.parent()instanceof Ue,n.name.walk(a),i=s,u((function(){n.extends&&n.extends.walk(a),n.properties.forEach((function(e){e.walk(a)}))})),!0}if(n instanceof He){s=i;return i=a.parent()instanceof Ue,r(),i=s,!0}if(n instanceof pe){s=i;return i=a.parent()instanceof Ue,n.name.walk(a),i=s,u((function(){n.argnames.forEach((function(e){e.walk(a)})),n.rest&&n.rest.walk(a),P(n,a)})),!0}if(n instanceof Me)return n.init_vars(o),r(),!0;if(n instanceof je)return u((function(){P(n,a)})),n.bcatch&&n.bcatch.walk(a),n.bfinally&&n.bfinally.walk(a),!0;if(n instanceof X){var f=o;do{if((f=f.resolve()).uses_with)break;f.uses_with=!0}while(f=f.parent_scope);return u(r),!0}if(n instanceof F)return u(r),!0;if(n instanceof An&&(n.scope=o),n instanceof In&&(n.thedef=n,n.references=[]),n instanceof Nn)o.def_variable(n).defun=t;else if(n instanceof On){(c=o.def_variable(n)).defun=t,i&&(c.exported=!0)}else if(n instanceof Mn){var c=t.def_function(n,a.parent());i&&(c.exported=!0)}else if(n instanceof Cn)t.def_variable(n);else if(n instanceof Fn){c=t.def_function(n,"arguments"==n.name?void 0:t);e.ie&&"arguments"!=n.name&&(c.defun=t.parent_scope.resolve())}else if(n instanceof qn){c=o.def_variable(n);i&&(c.exported=!0)}else if(n instanceof zn){c=t.def_variable(n,n instanceof $n?void 0:null);i&&(c.exported=!0)}function u(e){n.init_vars(o);var i=t,r=o;n instanceof K&&(t=n),o=n,e(),o=r,t=i}}));n.make_def=function(e,n){return new Rt(++r,this,e,n)},n.walk(a),n.globals=new b;var f=[];a=new ft((function(t){if(t instanceof Ne){if(!(t.argname instanceof mn))return;return f.push(t),t.argname.walk(a),f.pop(),P(t,a),!0}if(t instanceof Z)return f.push(t),t.name&&t.name.walk(a),t.argnames.forEach((function(e){e.walk(a)})),t.rest&&t.rest.walk(a),f.pop(),oe(t,a),!0;if(t instanceof Oe)return t.label&&t.label.thedef.references.push(t),!0;if(t instanceof Dn){var i=t.definition();if(i.preinit=i.references.length,t instanceof Nn){if(o=i.redefined())for(var r=t.scope;r&&(h(r.enclosed,o),r!==o.scope);r=r.parent_scope);}else if(t instanceof On){(o=i.redefined())&&(o.const_redefs=!0)}else if(i.scope!==t.scope&&(t instanceof Mn||t instanceof Cn||t instanceof zn)){t.mark_enclosed(e);var o=t.scope.find_variable(t.name);t.thedef!==o&&(t.thedef=o,o.orig.push(t),t.mark_enclosed(e))}return"arguments"!=t.name||((d=t instanceof zn&&a.parent())instanceof Be&&!d.value||(u=t.scope.resolve().find_variable("arguments"))&&c(u)&&(u.scope.uses_arguments=3)),!0}if(t instanceof Hn){for(var s=t.name,u=t.scope.find_variable(s),l=f.length;l>0&&u&&!((l=f.lastIndexOf(u.scope,l-1))<0);){var p=u.orig[0];if(p instanceof Nn||p instanceof Cn||p instanceof Fn){t.in_arg=!0;break}u=u.scope.parent_scope.find_variable(s)}if(u){if("arguments"==s&&c(u)){var d;Ut(t,d=a.parent())?u.scope.uses_arguments=3:u.scope.uses_arguments<2&&!(d instanceof tn&&d.expression===t)?u.scope.uses_arguments=2:u.scope.uses_arguments||(u.scope.uses_arguments=!0)}}else u=n.def_global(t);if("eval"==s)if("Call"==(d=a.parent()).TYPE&&d.expression===t){r=t.scope;do{if((r=r.resolve()).uses_eval)break;r.uses_eval=!0}while(r=r.parent_scope)}else u.undeclared&&(n.uses_eval=!0);if(u.init instanceof pe&&u.scope!==u.init.name.scope){var v=t.scope;do{if(v===u.init.name.scope)break}while(v=v.parent_scope);v||(u.init=void 0)}return t.thedef=u,t.reference(e),!0}}));function c(e){return e.orig[0]instanceof Cn&&!(e.orig[1]instanceof Cn||e.orig[2]instanceof Cn)&&!te(e.scope)}function u(t,i){var r=t.name,o=t.thedef;if(!g(o.orig,(function(e){return!(e instanceof On||e instanceof qn)})))return!1;var a=i.find_variable(r);if(a){var s=a.redefined();s&&(a=s)}else a=n.globals.get(r);return a?a.orig.push(t):a=i.def_variable(t),a.undeclared&&n.variables.set(r,a),"arguments"==r&&c(o)&&t instanceof Fn||(o.defun=a.scope,o.forEach((function(n){n.redef=o,n.thedef=a,n.reference(e)}))),!0}n.walk(a),e.ie&&n.walk(new ft((function(e){if(e instanceof Nn){var n=e.thedef.defun;return n.name instanceof Fn&&n.name.name==e.name&&(n=n.parent_scope.resolve()),u(e,n),!0}if(e instanceof Fn){var t=e.thedef;return u(e,e.scope.parent_scope.resolve())?"undefined"!==typeof e.thedef.init?e.thedef.init=!1:t.init&&(e.thedef.init=t.init):t.defun=void 0,!0}})))})),Q.DEFMETHOD("def_global",(function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);var i=this.make_def(e);return i.undeclared=!0,i.global=!0,n.set(t,i),i})),F.DEFMETHOD("init_vars",(function(e){Vt(this,e)})),K.DEFMETHOD("init_vars",(function(e){Wt(this,e)})),ae.DEFMETHOD("init_vars",(function(e){return Wt(this,e),this})),se.DEFMETHOD("init_vars",(function(e){Wt(this,e)})),Z.DEFMETHOD("init_vars",(function(e){return Wt(this,e),this.uses_arguments=!1,this.def_variable(new Cn({name:"arguments",scope:this,start:this.start,end:this.end})),this})),An.DEFMETHOD("mark_enclosed",(function(e){for(var n=this.definition(),t=this.scope;t&&(h(t.enclosed,n),e?(e.keep_fargs&&t instanceof Z&&t.each_argname((function(e){h(n.scope.enclosed,e.definition())})),e.keep_fnames&&t.functions.each((function(e){h(n.scope.enclosed,e)}))):t._var_names=void 0,t!==n.scope);t=t.parent_scope);})),An.DEFMETHOD("reference",(function(e){this.definition().references.push(this),this.mark_enclosed(e)})),F.DEFMETHOD("find_variable",(function(e){return this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)})),F.DEFMETHOD("def_function",(function(e,n){var t=this.def_variable(e,n);return(!t.init||t.init instanceof pe)&&(t.init=n),this.functions.set(e.name,t),t})),F.DEFMETHOD("def_variable",(function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),t.init instanceof ne&&(t.init=n)):(t=this.make_def(e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t})),An.DEFMETHOD("unmangleable",(function(e){var n=this.definition();return!n||n.unmangleable(e)})),In.DEFMETHOD("unmangleable",c),An.DEFMETHOD("definition",(function(){return this.thedef})),Q.DEFMETHOD("mangle_names",(function(e){if((e=Jt(e)).cache&&e.cache.props){var n=Gt(this,e);e.cache.props.each((function(e){n.set(e,!0)}))}var t=-1,i=[],r=new ft((function(n,a){if(n instanceof H){var s=t;return a(),e.v8&&function(n){var t,i=0;for(;t=n.parent(i++);){if(t instanceof j)return t instanceof Q&&!e.toplevel;if(t instanceof H)return!0}}(r)||(t=s),!0}if(n instanceof F){e.webkit&&n instanceof Y&&n.init instanceof Re&&n.init.definitions.forEach((function(e){e.name.match_symbol((function(e){if(e instanceof qn){var n=e.definition(),t=e.scope.parent_scope,i=t.def_variable(e);e.thedef=n,t.to_mangle.push(i),n.redefined=function(){return i}}}))}),!0);var f=n.to_mangle=[];if(n.variables.each((function(n){(function(n){var t=n.orig[0],r=n.redefined();if(!r){if(!(t instanceof On))return!1;var o=n.scope.resolve();if(n.scope===o)return!1;if(n.scope.parent_scope.find_variable(t.name))return!1;r=o.def_variable(t),o.to_mangle.push(r)}i.push(n),n.references.forEach(a),(t instanceof Nn||t instanceof On)&&a(t);return!0;function a(t){t.thedef=r,t.reference(e),t.thedef=n}})(n)||f.push(n)})),a(),e.cache&&n instanceof Q&&n.globals.each(o),n instanceof ve&&r.has_directive("use asm")){var c=new Hn(n.name);c.scope=n,c.reference(e)}if(f.length>36){var u=f.map((function(e,n){return n})).sort((function(e,n){return f[n].references.length-f[e].references.length||e-n}));f=u.slice(0,36).sort((function(e,n){return e-n})).map((function(e){return f[e]})).concat(u.slice(36).sort((function(e,n){return e-n})).map((function(e){return f[e]})))}return f.forEach(o),!0}if(n instanceof In){var l;do{l=Xt(++t)}while(pt[l]);return n.mangled_name=l,!0}}));function o(n){e.reserved.has[n.name]||n.mangle(e)}this.walk(r),i.forEach(o)})),Q.DEFMETHOD("find_colliding_names",(function(e){var n=e.cache&&e.cache.props,t=Object.create(pt);return e.reserved.forEach(i),this.globals.each(r),this.walk(new ft((function(e){e instanceof F&&e.variables.each(r)}))),t;function i(e){t[e]=!0}function r(t){var r=t.name;if(t.global&&n&&n.has(r))r=n.get(r);else if(!t.unmangleable(e))return;i(r)}})),Q.DEFMETHOD("expand_names",(function(e){Xt.reset(),Xt.sort(),e=Jt(e);var n=this.find_colliding_names(e),t=0;function i(i){if((!i.global||!e.cache)&&!i.unmangleable(e)&&!e.reserved.has[i.name]){var r=i.redefined(),o=r?r.rename||r.name:function(){var e;do{e=Xt(t++)}while(n[e]);return e}();i.rename=o,i.forEach((function(e){e.definition()===i&&(e.name=o)}))}}this.globals.each(i),this.walk(new ft((function(e){e instanceof F&&e.variables.each(i)})))})),S.DEFMETHOD("tail_node",l),en.DEFMETHOD("tail_node",(function(){return this.expressions[this.expressions.length-1]})),Q.DEFMETHOD("compute_char_frequency",(function(e){e=Jt(e),Xt.reset();var n=An.prototype.add_source_map;try{An.prototype.add_source_map=function(){this.unmangleable(e)||Xt.consider(this.name,-1)},e.properties&&(rn.prototype.add_source_map=function(){Xt.consider(this.property,-1)},on.prototype.add_source_map=function(){t(this.property)}),Xt.consider(this.print_to_string(),1)}finally{An.prototype.add_source_map=n,delete rn.prototype.add_source_map,delete on.prototype.add_source_map}function t(e){e instanceof Jn?Xt.consider(e.value,-1):e instanceof ln?(t(e.consequent),t(e.alternative)):e instanceof en&&t(e.tail_node())}Xt.sort()}));var Xt=function(){var e=Object.create(null);function n(n){for(var t=[],i=0;i<n.length;i++){var r=n[i];t.push(r),e[r]=-.01*i}return t}var t,i,r=n("0123456789"),o=n("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_");function a(){t=null,i=Object.create(e)}function s(e,n){return i[n]-i[e]}function f(e){var n=o[e%54];for(e=Math.floor(e/54);--e>=0;e>>=6)n+=t[63&e];return n}return f.consider=function(e,n){for(var t=e.length;--t>=0;)i[e[t]]+=n},f.sort=function(){t=o.sort(s).concat(r).sort(s)},f.reset=a,a(),f}();function Kt(e,n){if(!(this instanceof Kt))return new Kt(e,n);ct.call(this,this.before,this.after),this.options=s(e,{annotations:!n,arguments:!n,arrows:!n,assignments:!n,awaits:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,default_values:!n,directives:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,functions:!n,global_defs:!1,hoist_exports:!n,hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie:!1,if_return:!n,imports:!n,inline:!n,join_vars:!n,keep_fargs:n,keep_fnames:!1,keep_infinity:!1,loops:!n,merge_vars:!n,negate_iife:!n,objects:!n,optional_chains:!n,passes:1,properties:!n,pure_funcs:null,pure_getters:!n&&"strict",reduce_funcs:!n,reduce_vars:!n,rests:!n,sequences:!n,side_effects:!n,spreads:!n,strings:!n,switches:!n,templates:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,varify:!n,webkit:!1,yields:!n},!0);var t=this.options.evaluate;this.eval_threshold=/eager/.test(t)?1/0:+t;var r=this.options.global_defs;if("object"==typeof r)for(var o in r)/^@/.test(o)&&y(r,o)&&(r[o.slice(1)]=Yt(r[o],{expression:!0}));!0===this.options.inline&&(this.options.inline=4),this.drop_fargs=this.options.keep_fargs?c:function(e,n){if(e.length_read)return!1;var t=e.name;if(!t)return n&&"Call"==n.TYPE&&n.expression===e;if(t.fixed_value()!==e)return!1;var i=t.definition();if(i.direct_access)return!1;var r=i.escaped;return r&&1!=r.depth};var a=this.options.pure_funcs;"function"==typeof a?this.pure_funcs=a:"string"==typeof a?this.pure_funcs=function(e){var n;return e instanceof Qe?n=e.expression:e instanceof Wn&&(n=e.tag),!(n&&a===n.print_to_string())}:Array.isArray(a)?this.pure_funcs=function(e){var n;return e instanceof Qe?n=e.expression:e instanceof Wn&&(n=e.tag),!(n&&i(n.print_to_string(),a))}:this.pure_funcs=u;var f=this.options.sequences;this.sequences_limit=1==f?800:0|f;var l=this.options.top_retain;l instanceof RegExp?this.top_retain=function(e){return l.test(e.name)}:"function"==typeof l?this.top_retain=l:l&&("string"==typeof l&&(l=l.split(/,/)),this.top_retain=function(e){return i(e.name,l)});var p=this.options.toplevel;this.toplevel="string"==typeof p?{funcs:/funcs/.test(p),vars:/vars/.test(p)}:{funcs:p,vars:p}}function Qt(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function Zt(e){e=s(e,{annotations:!1,ascii_only:!1,beautify:!1,braces:!1,comments:!1,galio:!1,ie:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var n=c;if(e.comments){var t=e.comments;if("string"===typeof e.comments&&/^\/.*\/[a-zA-Z]*$/.test(e.comments)){var i=e.comments.lastIndexOf("/");t=new RegExp(e.comments.substr(1,i-1),e.comments.substr(i+1))}n=t instanceof RegExp?function(e){return"comment5"!=e.type&&t.test(e.value)}:"function"===typeof t?function(e){return"comment5"!=e.type&&t(this,e)}:"some"===t?Qt:u}function r(e){if("number"==typeof e)return new Array(e+1).join(" ");if(!e)return"";if(!/^\s*$/.test(e))throw new Error("unsupported indentation: "+JSON.stringify(""+e));return e}var o,a,l,p,d,h,v,m=0,b=1,y=r(e.indent_start),w=r(e.indent_level),x=w.length+1>>1,k=0,T=!0,D=e.source_map&&[],O=!1,$=!1,q="";function z(){o="",p=!1,d=!1,v=[];var e=h;return h="",e}z();var C=e.ascii_only?function(e,n){return n&&(e=e.replace(/[\ud800-\udbff][\udc00-\udfff]/g,(function(e){return"\\u{"+(e.charCodeAt(0)-55232<<10|e.charCodeAt(1)-56320).toString(16)+"}"}))),e.replace(/[\u0000-\u001f\u007f-\uffff]/g,(function(e){var t=e.charCodeAt(0).toString(16);if(t.length<=2&&!n){for(;t.length<2;)t="0"+t;return"\\x"+t}for(;t.length<4;)t="0"+t;return"\\u"+t}))}:function(e){for(var n="",t=0,i=0;t<e.length;t++){var r=e.charCodeAt(t);if(St(r)){if(Tt(e.charCodeAt(t+1))){t++;continue}}else if(!Tt(r))continue;n+=e.slice(i,t)+"\\u"+r.toString(16),i=t+1}return 0==i?e:n+e.slice(i)};function M(e){return"'"+e.replace(/\x27/g,"\\'")+"'"}function F(e){return'"'+e.replace(/\x22/g,'\\"')+'"'}var P=[null,M,F,function(e,n){return"'"==n?M(e):F(e)}][e.quote_style]||function(e,n,t,i){return t>i?M(e):F(e)};function j(n,t){var i=0,r=0;return n=n.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,(function(t,o){switch(t){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return e.ie?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(n.charAt(o+1))?"\\x00":"\\0"}return t})),P(C(n),t,i,r)}var N=D?function(e,n){D.forEach((function(t){t.line+=e,t.col+=n}))}:f,I=D?function(){D.forEach((function(n){e.source_map.add(n.token.file,n.line,n.col,n.token.line,n.token.col,n.name||"name"!=n.token.type?n.name:n.token.value)})),D=[]}:f;function H(e){q+=h.slice(0,k);var n=(h=h.slice(k)).length;for(N(e,n-m),b+=e,m=n;e--;)q+="\n"}var Y=e.max_line_len?function(n){T?m>e.max_line_len&&S.warn("Output exceeds {max_line_len} characters",e):(m>e.max_line_len&&(H(1),T=!0),(T||n)&&I())}:f,R=_("( [ + * / - , ."),L=e.beautify||e.comments||e.max_line_len||e.preserve_line||e.shebang||!e.semicolons||e.source_map||e.width?function(n){var t=n.charAt(0);O&&t&&(O=!1,"\n"!=t&&(L("\n"),U())),$&&t&&($=!1,/[\s;})]/.test(t)||B());var i=o.slice(-1);if(d&&(d=!1,":"==i&&"}"==t||";"!=i&&(!t||";}".indexOf(t)<0))){var r=R[t];r||e.semicolons?(h+=";",m++,T||(Y(),T&&!r&&";"==h&&(h="",m=0)),k==h.length-1&&k++):(Y(),h+="\n",b++,m=0,/^\s+$/.test(n)&&(d=!0)),e.beautify||(p=!1)}p&&((Dt(i)&&(Dt(t)||"\\"==t)||"/"==t&&t==i||("+"==t||"-"==t)&&t==o||"--"==n&&"!"==o||"in"==n&&"/"==i||"--"==o&&">"==t)&&(h+=" ",m++),"<"==i&&"!"==n||(p=!1)),l&&(D.push({token:l,name:a,line:b,col:m}),l=!1,T&&I()),h+=n;var s=n.split(/\r?\n/),f=s.length-1;b+=f,m+=s[0].length,f>0&&(Y(),m=s[f].length),o=n}:function(e){var n=e.charAt(0),t=o.slice(-1);d&&(d=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(h+=";",p=!1)),p&&((Dt(t)&&(Dt(n)||"\\"==n)||"/"==n&&n==t||("+"==n||"-"==n)&&n==o||"--"==e&&"!"==o||"in"==e&&"/"==t||"--"==o&&">"==n)&&(h+=" "),"<"==t&&"!"==e||(p=!1)),h+=e,o=e},B=e.beautify?function(){L(" ")}:function(){p=!0},U=e.beautify?function(e){O&&L("\n"),L(e?y.slice(0,-x):y)}:f,V=e.beautify?function(e){var n=y;y+=w,e(),y=n}:function(e){e()},W=e.max_line_len||e.preserve_line?function(){Y(),k=h.length,T=!1}:f,G=e.beautify?function(){L("\n"),k=h.length}:W,J=e.beautify?function(){L(";")}:function(){d=!0};var X=D?function(e,n){l=e,a=n}:f;function K(e,n){O||(!e.nlb||!n&&/(^|\n) *$/.test(h)?n&&($=!0):O=!0)}function Q(e){var n=e.value.replace(/[@#]__PURE__/g," ");return!(/^\s*$/.test(n)&&!/^\s*$/.test(e.value))&&(/comment[134]/.test(e.type)?(L("//"+n),O=!0):"comment2"==e.type&&L("/*"+n+"*/"),!0)}return{get:function(){return T||Y(!0),q+h},reset:z,indent:U,should_break:e.beautify&&e.width?function(){return m>=e.width}:c,has_parens:function(){return"("==o.slice(-1)},newline:G,print:L,space:B,comma:function(){W(),L(","),W(),B()},colon:function(){L(":"),B()},last:function(){return o},semicolon:J,force_semicolon:function(){d&&L(";"),L(";")},to_utf8:C,print_name:function(e){L(C(e.toString(),!0))},print_string:e.inline_script?function(e,n){e=j(e,n).replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2"),L(e.replace(/\x3c!--/g,"\\x3c!--").replace(/--\x3e/g,"--\\x3e"))}:function(e,n){L(j(e,n))},with_indent:V,with_block:function(e){L("{"),G(),V(e),U(),L("}")},with_parens:function(e){L("("),W(),e(),W(),L(")")},with_square:function(e){L("["),W(),e(),W(),L("]")},add_mapping:X,option:function(n){return e[n]},prepend_comments:e.comments||e.shebang?function(t){var i,r=this;t instanceof Te?i=t.value:t instanceof hn&&(i=t.expression);var o=c(t);if(o||(o=[]),i){var a=new ft((function(e){if(!function(e,n){return n instanceof un?n.left===e:"Call"==n.TYPE?n.expression===e:n instanceof ln?n.condition===e:n instanceof rn?n.expression===e:n instanceof Te||(n instanceof en?n.expressions[0]===e:n instanceof on?n.expression===e:n instanceof cn||n instanceof hn||void 0)}(e,a.parent()))return!0;var n=c(e);n&&(o=o.concat(n))}));a.push(t),i.walk(a)}if(1==b&&0==m){o.length>0&&e.shebang&&"comment5"==o[0].type&&(L("#!"+o.shift().value+"\n"),U());var s=e.preamble;s&&L(s.replace(/\r\n?|\u2028|\u2029|(^|\S)\s*$/g,"$1\n"))}o=o.filter(n,t);var f=!1;function c(e){var n=e.start;if(!n){if(!i)return;e.start=n=new E}var t=n.comments_before;if(!t){if(!i)return;n.comments_before=t=[]}if(t._dumped!==r)return t._dumped=r,t}o.forEach((function(e,n){K(e,n),Q(e)&&(f=!0)})),f&&K(t.start,!0)}:f,append_comments:e.comments?function(e,t){var i=e.end;if(i){var r=i[t?"comments_before":"comments_after"];r&&r._dumped!==this&&(e instanceof A||g(r,(function(e){return!/comment[134]/.test(e.type)})))&&(r._dumped=this,r.filter(n,e).forEach((function(e,n){K(e,n||!t),Q(e)})))}}:f,push_node:function(e){v.push(e)},pop_node:e.preserve_line?function(){var e=v.pop();e.start&&e.start.line>b&&H(e.start.line-b)}:function(){v.pop()},parent:function(e){return v[v.length-2-(e||0)]}}}Kt.prototype=new ct((function(e,n,t){if(e._squeezed)return e;var i=e instanceof K;i&&(e.hoist_properties(this),e.hoist_declarations(this),e.process_returns(this)),n(e,this),n(e,this);var r=e.optimize(this);return!i||r!==e||this.has_directive("use asm")||r.pinned()||(r.drop_unused(this),r.merge_variables(this)&&r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r})),Kt.prototype.option=function(e){return this.options[e]},Kt.prototype.exposed=function(e){if(e.exported)return!0;if(e.undeclared)return!0;if(!(e.global||e.scope.resolve()instanceof Q))return!1;var n=this.toplevel;return!g(e.orig,(function(e){return n[e instanceof Mn?"funcs":"vars"]}))},Kt.prototype.compress=function(e){(e=e.resolve_defines(this)).hoist_exports(this),this.option("expression")&&e.process_expression(!0);for(var n=this.options.merge_vars,t=+this.options.passes||1,i=1/0,r=!1,o={ie:this.option("ie")},a=0;a<t;a++)if(e.figure_out_scope(o),(a>0||this.option("reduce_vars"))&&e.reset_opt_flags(this),this.options.merge_vars=n&&(r||a==t-1),e=e.transform(this),t>1){var s=0;if(e.walk(new ft((function(){s++}))),S.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:a,min_count:i,count:s}),s<i)i=s,r=!1;else{if(r)break;r=!0}}return this.option("expression")&&e.process_expression(!1),e},function(e){function n(e,n){var t=n.get_property();if(!(t instanceof S)){var i;if(e instanceof vn){var r=e.elements;if("length"==t)return ut(r.length,e);"number"==typeof t&&t in r&&(i=r[t])}else if(e instanceof Z){if("length"==t)return e.length_read=!0,ut(e.argnames.length,e)}else if(e instanceof wn){t=""+t;for(var o=e.properties,a=o.length;--a>=0;){if(!Qi(o[a]))return;i||o[a].key!==t||(i=o[a].value)}}return i instanceof Hn&&i.fixed_value()||i}}function t(e,i,r,o,a,s,f){var c=i.parent(a);if(!(e.option("unsafe")&&c instanceof rn&&function(e,n){return e instanceof ot?Xt.Boolean[n]:e instanceof Xn?Xt.Number[n]:e instanceof Jn?Xt.String[n]:"valueOf"!=n&&(e instanceof vn?Xt.Array[n]:e instanceof Z?Xt.Function[n]:e instanceof wn?Xt.Object[n]:e instanceof Qn?Xt.RegExp[n]&&!e.value.global:void 0)}(o,c.property))){var u=Ut(r,c);if(u)return u;if(0!=a||!o||!o.is_constant()){if(c instanceof vn)return t(e,i,c,c,a+1);if(c instanceof pn)switch(c.operator){case"=":return t(e,i,c,o,a+1,s,f);case"&&=":case"||=":case"??=":return t(e,i,c,c,a+1);default:return}if(c instanceof un){if(!Ft[c.operator])return;return t(e,i,c,c,a+1)}if(c instanceof Qe)return!s&&c.expression===r&&!c.is_expr_pure(e)&&(!(o instanceof ne)||!(c instanceof Ze)&&o.contains_this());if(c instanceof ln){if(c.condition===r)return;return t(e,i,c,c,a+1)}if(c instanceof V)return c.init===r;if(c instanceof kn){if(c.value!==r)return;var l=i.parent(a+1);return t(e,i,l,l,a+2)}if(c instanceof tn){if(c.expression!==r)return;var p=n(o,c);return(!s||f)&&t(e,i,c,p,a+1)}if(c instanceof en){if(c.tail_node()!==r)return;return t(e,i,c,o,a+1,s,f)}}}}function o(e){return e instanceof _e||e instanceof Z}function a(e){return e instanceof _e||e instanceof ve||e instanceof ue}function s(e){return"arguments"==e.name&&e.scope.uses_arguments}function x(e,n){do{if(e===n)return!1;if(n instanceof K)return!0}while(n=n.parent_scope)}function k(e,n,t){var i=e.redef||e.definition();return(!e.in_arg||!Lt(i))&&g(i.orig,(function(e){return e instanceof On||e instanceof qn?e instanceof $n||n&&Ai(n,e):!(t&&e instanceof Fn)}))}function E(e,n,t,i){return i instanceof pn?"="==i.operator&&i.right===t:i instanceof Qe?i.expression!==t||i instanceof Ze:i instanceof Te?i.value===t&&n.resolve()!==e.scope.resolve():i instanceof Be?i.value===t:void 0}e(S,(function(e,n){return e})),S.DEFMETHOD("equivalent_to",(function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()})),Q.DEFMETHOD("hoist_exports",(function(e){if(e.option("hoist_exports")){for(var n=this.body,t=[],i=0;i<n.length;i++){var r=n[i];r instanceof Ue?(n[i]=r=r.body,r instanceof He?r.definitions.forEach((function(e){e.name.match_symbol(o,!0)})):o(r.name)):r instanceof Ge&&(n.splice(i--,1),[].push.apply(t,r.properties))}t.length&&n.push(Rn(Ge,this,{properties:t}))}function o(e){if(e instanceof Dn){var n=Rn(Yn,e,e);n.alias=n.name,t.push(n)}}})),K.DEFMETHOD("process_expression",(function(e,n){var t=this,i=new ct((function(r){if(e){if(r instanceof O&&(r=Rn(M,r,{body:Rn(Jn,r,r)})),r instanceof M)return n?n(r):Rn(Ae,r,{value:r.body})}else if(r instanceof Ae){if(n)return n(r);var o=r.value;return o instanceof Jn?Rn(O,r,o):Rn(M,r,{body:o||Rn(fn,r,{operator:"void",expression:Rn(Xn,r,{value:0})})})}if(r instanceof j){if(r instanceof Z){if(r!==t)return r}else if("awaits"===e&&r instanceof je&&r.bfinally)return r;for(var a=r.body.length;--a>=0;){var s=r.body[a];if(!Tt(s,!0)){r.body[a]=s.transform(i);break}}}else r instanceof ze?(r.body=r.body.transform(i),r.alternative&&(r.alternative=r.alternative.transform(i))):r instanceof X&&(r.body=r.body.transform(i));return r}));t.transform(i)}));var T=/^(0|[1-9][0-9]*)$/;function z(e){e._squeezed=!1,e._optimized=!1,e instanceof F&&(e._var_names=void 0),e instanceof Hn&&(e.fixed=void 0)}function C(e,n){return this.transform(new ct((function(t,i){return t instanceof Xe?((t=t.clone()).name=t.name.transform(this),t):t instanceof mn?(i(t=t.clone(),this),t):t instanceof bn?((t=t.clone()).value=t.value.transform(this),t):t.convert_symbol(e,n)})))}function I(e,n){var t=Rn(e,this,this);return n(t,this),t}function G(e){var n=e.definition();n.assignments++,n.references.push(e)}function xe(e,n){var t=new ft((function(i){return i instanceof Xe?(i.value.walk(n),i.name.walk(t),!0):i instanceof bn?(i.key instanceof S&&i.key.walk(n),i.value.walk(t),!0):e(i)}));this.walk(t)}function ke(e){return e(this)}function We(e,n){var t=!1,i=new ft((function(r){return!!t||(r instanceof Xe?n?(r.name.walk(i),!0):t=!0:r instanceof bn?!n&&r.key instanceof S?t=!0:(r.value.walk(i),!0):e(r)?t=!0:void 0)}));return this.walk(i),t}function Ke(e){return e instanceof he||e instanceof ce}function _n(e){for(var n,t=0;n=e.parent(t++);)if(n.variables)return n}!function(e){function r(e,n,t){t.assignments=0,t.bool_return=0,t.drop_return=0,t.cross_loop=!1,t.direct_access=!1,t.escaped=[],t.fixed=!t.const_redefs&&!t.scope.pinned()&&!n.exposed(t)&&!(t.init instanceof ne&&t.init!==t.scope)&&t.init,t.reassigned=0,t.recursive_refs=0,t.references=[],t.single_use=void 0}function a(e,n,t){t.variables.each((function(e){r(0,n,e)}))}function l(e,n,t){t.fn_defs=[],t.variables.each((function(i){r(0,n,i);var o=i.init;o instanceof pe&&(t.fn_defs.push(o),o.safe_ids=null),null===i.fixed?(i.safe_ids=e.safe_ids,A(e,i)):i.fixed&&(e.loop_ids[i.id]=e.in_loop,A(e,i))})),t.may_call_this=function(){t.may_call_this=t.contains_this()?u:c},t.uses_arguments&&t.each_argname((function(e){e.definition().last_ref=!1})),n.option("ie")&&t.variables.each((function(e){var n=e.orig[0].definition();n!==e&&(n.fixed=!1)}))}function p(e,n){var t=n.safe_ids;return void 0===t||t===e.safe_ids}function d(e,n){var t=e.fn_scanning;e.fn_scanning=n,n.walk(e),e.fn_scanning=t}function v(e,n){n.enclosed.forEach((function(t){if(n.variables.get(t.name)!==t&&!O(e,t)){t.single_use=!1;var i=t.fixed;"function"==typeof i&&(i=i()),i instanceof Z&&void 0!==i.safe_ids||(t.fixed=!1)}}))}function m(e,n,t){var r=t.safe_ids;if(void 0!==r&&!1!==r)if(t.parent_scope.resolve().may_call_this===u)i(t,e.fn_visited)&&v(e,t);else if(r){var o=i(t,e.fn_visited);r===e.safe_ids?o||d(e,t):o?v(e,t):t.safe_ids=!1}else e.fn_scanning&&e.fn_scanning!==n.scope.resolve()?t.safe_ids=!1:(t.safe_ids=e.safe_ids,d(e,t))}function _(e,n){var t=n.fn_defs,i=n.may_call_this===u?t:t.filter((function(n){return!1===n.safe_ids||(n.safe_ids=e.safe_ids,d(e,n),!1)}));w(e),i.forEach((function(n){n.safe_ids=e.safe_ids,d(e,n)})),t.forEach((function(e){e.safe_ids=void 0})),n.fn_defs=void 0,n.may_call_this=void 0}function b(e){e.safe_ids=Object.create(e.safe_ids)}function w(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function A(e,n){e.safe_ids[n.id]={}}function D(e,n){e.references.push(n),!1!==e.last_ref&&(e.last_ref=n)}function O(e,n){if("m"==n.single_use)return!1;var t=e.safe_ids[n.id];if(t){var i=y(e.safe_ids,n.id);return i||(t.read=!(!t.read||t.read===e.safe_ids)||e.safe_ids),null==n.fixed?!s(n)&&((!n.global||"arguments"!=n.name)&&(e.loop_ids[n.id]=null,n.fixed=Rn(tt,n.orig[0]),i&&(n.safe_ids=void 0),!0)):!t.assign||t.assign===e.safe_ids}return n.fixed instanceof pe}function $(e,n,t){if(!t){if(Lt(n)&&n.scope.uses_arguments&&!e.has_directive("use strict"))return!1;if(!g(n.orig,(function(e){return!(e instanceof On)})))return!1}if(void 0===n.fixed)return t||g(n.orig,(function(e){return!(e instanceof qn)}));if(!1===n.fixed||0===n.fixed)return!1;var i=e.safe_ids[n.id];if(n.safe_ids)return n.safe_ids[n.id]=!1,n.safe_ids=void 0,null===n.fixed||y(e.safe_ids,n.id)&&!i.read;if(!y(e.safe_ids,n.id)){if(!i)return!1;if(i.read||e.in_loop){var r=e.find_parent(F);if(r instanceof _e)return!1;if(n.scope.resolve()!==r.resolve())return!1}i.assign=!(!i.assign||i.assign===e.safe_ids)||e.safe_ids}if(null!=n.fixed&&i.read){if(i.read!==e.safe_ids)return!1;if(e.loop_ids[n.id]!==e.in_loop)return!1}return O(e,n)&&g(n.orig,(function(e){return!(e instanceof Fn)}))}function q(e,n){var t=Rn(Hn,e,e);return t.fixed=n||Rn(tt,e),t}function C(e,n){return function(){var t=q(e,n),i=e.definition();return i.references.push(t),i.replaced++,t}}function j(e){if(!e)return!1;if(e instanceof pn){var n=e.operator;return"="==n?j(e.right):!Ft[n.slice(0,-1)]}return e instanceof en?j(e.tail_node()):e.is_constant()||o(e)||e instanceof Ln}function N(e,t,i,r,o,a,s){var f=e.parent(a);if(!o||!o.is_constant()){if(E(t,i,r,f))return t.escaped.push(f),!(s>1)||o&&o.is_constant_expression(i)||(s=1),(!t.escaped.depth||t.escaped.depth>s)&&(t.escaped.depth=s),t.scope.resolve()!==i.resolve()&&(t.escaped.cross_scope=!0),void(t.fixed&&(t.fixed.escaped=t.escaped));if(function(e,n){return n instanceof vn||(n instanceof un?Ft[n.operator]:n instanceof ln?n.condition!==e:n instanceof en?n.tail_node()===e:n instanceof an||void 0)}(r,f))N(e,t,i,f,f,a+1,s);else if(f instanceof kn&&f.value===r){var c=e.parent(a+1);N(e,t,i,c,c,a+2,s)}else if(f instanceof tn&&f.expression===r&&(N(e,t,i,f,o=n(o,f),a+1,s+1),o))return;a>0||f instanceof Qe&&f.expression===r||f instanceof en&&f.tail_node()!==r||f instanceof M||f instanceof sn&&!Bt[f.operator]||(t.direct_access=!0,t.fixed&&(t.fixed.direct_access=!0))}}function I(e){if(e instanceof on){var n=e.expression;if(n instanceof Hn){var t=n.definition();if(s(t)){var i=e.property;i.is_constant()&&(i=i.value),(i instanceof S||T.test(i))&&(t.reassigned++,(i instanceof S?t.scope.argnames:[t.scope.argnames[i]]).forEach((function(e){e instanceof Cn&&(e.definition().fixed=!1)})))}}}}function Y(e,n){var t,i;return function(){var r=e();return t!==r&&(t=r,i=n(r)),i}}function R(e,n,t,i,r){var o=new ft((function(t){if(t instanceof Xe)return z(t),b(e),t.value.walk(e),w(e),(s=i)&&(i=function(e,n,t){var i,r;return function(){var o,a=t();return Mt(a,e)||void 0===(o=wi(e,a,!0))?(i!==a&&(i=a,r=Zn(n,[a,n.value])),r):o instanceof S?n:a}}(n,t,s)),t.name.walk(o),i=s,!0;if(t instanceof gn){z(t);var a,s=i;if(t.elements.forEach((function(e,n){if(e instanceof it)return z(e);s&&(i=Y(s,(function(t){return Rn(on,e,{expression:t,property:Rn(Xn,e,{value:n})})}))),e.walk(o)})),t.rest)s&&(i=n.option("rests")&&Y(s,(function(e){if(!(e instanceof vn))return t;for(var n=0,i=t.elements.length;n<i;n++)if(e.elements[n]instanceof an)return t;return a||(a=Rn(vn,t)),a.elements=e.elements.slice(i),a}))),t.rest.walk(o);return i=s,!0}if(t instanceof yn){z(t);s=i;return t.properties.forEach((function(n){z(n),n.key instanceof S&&(b(e),n.key.walk(e),w(e)),s&&(i=Y(s,(function(e){var t=n.key,i=on;return"string"==typeof t&&(Ot(t)?i=rn:t=ut(t,n)),Rn(i,n,{expression:e,property:t})}))),n.value.walk(o)})),t.rest&&(i=!1,t.rest.walk(o)),i=s,!0}return r(t,i,(function(){for(var n=e.stack.length,i=0,r=o.stack.length-1;i<r;i++)e.stack.push(o.stack[i]);t.walk(e),e.stack.length=n})),!0}));t.walk(o)}function W(e,n,t){var i=this;i.inlined=!1;var r=e.parent(),o=ie(i)||re(i),a=!1;i.walk(new ft((function(e){return o?a=!0:e instanceof Ae?o=!0:e instanceof K&&e!==i||void 0}))),a&&b(e),l(e,t,i);var s=!i.uses_arguments||e.has_directive("use strict");i.argnames.forEach((function(n,o){var a=r.args[o];R(e,t,n,(function(){var e=i.argnames.indexOf(n),t=e<0?a:r.args[e];return t instanceof en&&t.expressions.length<2&&(t=t.expressions[0]),t||Rn(tt,r)}),p)}));var f,c=i.rest;c&&R(e,t,c,t.option("rests")&&function(){return i.rest!==c?c:(f||(f=Rn(vn,i)),f.elements=r.args.slice(i.argnames.length),f)},p),oe(i,e);var u=e.safe_ids;return _(e,i),a||(e.safe_ids=u),!0;function p(n,t){var i=n.definition();t&&s&&void 0===i.fixed?(A(e,i),e.loop_ids[i.id]=e.in_loop,i.fixed=t,i.fixed.assigns=[n]):i.fixed=!1}}e(S,f),e(pn,(function(e,n,i){var r=this,o=r.left,a=r.right,s=o instanceof Hn&&o.definition(),f=s||o instanceof mn;switch(r.operator){case"=":return o.equivalent_to(a)&&!o.has_side_effects(i)?(a.walk(e),function n(t){if(t instanceof rn)n(t.expression);else if(t instanceof on)n(t.expression),t.property.walk(e);else if(t instanceof Hn){var i=t.definition();D(i,t),i.fixed&&(t.fixed=i.fixed,t.fixed.assigns?t.fixed.assigns.push(r):t.fixed.assigns=[r])}else t.walk(e)}(o),r.redundant=!0,!0):s&&a instanceof ne?(p(),a.parent_scope.resolve().fn_defs.push(a),a.safe_ids=null,s.fixed&&r.write_only||m(e,s,a),!0):f?(a.walk(e),p(),!0):void I(o);case"&&=":case"||=":case"??=":var c=!0;default:if(!f)return I(o),d();s.assignments++;var u=s.fixed;if(t(i,e,r,r,0))return s.fixed=!1,d();var l=O(e,s);return c&&b(e),a.walk(e),c&&w(e),l&&!o.in_arg&&$(e,s)?(D(s,o),A(e,s),s.single_use&&(s.single_use=!1),o.fixed=s.fixed=function(){return Rn(un,r,{operator:r.operator.slice(0,-1),left:q(o,u),right:r.right})},o.fixed.assigns=u&&u.assigns?u.assigns.slice():[s.orig[0]],o.fixed.assigns.push(r),o.fixed.to_binary=C(o,u)):(o.walk(e),s.fixed=!1),!0}function p(){var n=s&&Li(e,s),f=t(i,e,r,a,0,j(a),n);R(e,i,o,(function(){return r.right}),(function(n,t,i){if(!(n instanceof Hn))return I(n),void i();var s=n.definition();s.assignments++,t&&!n.in_arg&&$(e,s)?f?(i(),s.fixed=0):(D(s,n),A(e,s),(o instanceof mn||1==s.orig.length&&s.orig[0]instanceof Mn)&&(s.single_use=!1),e.loop_ids[s.id]=e.in_loop,n.fixed=s.fixed=t,n.fixed.assigns=[r],N(e,s,n.scope,r,a,0,1)):(i(),s.fixed=!1)}))}function d(){if(c)return o.walk(e),b(e),a.walk(e),w(e),!0}})),e(un,(function(e){if(Ft[this.operator])return this.left.walk(e),b(e),this.right.walk(e),w(e),!0})),e(F,(function(e,n,t){a(0,t,this)})),e(Qe,(function(e,n){var t=this,i=t.expression;if(i instanceof ne){var r=wt(t);return t.args.forEach((function(n){n.walk(e),n instanceof an&&(r=!1)})),r&&(i.reduce_vars=W),i.walk(e),r&&delete i.reduce_vars,!0}if("Call"==t.TYPE)switch(e.in_boolean_context()){case"d":var o=!0;case!0:!function e(n,t){if(n instanceof pn){if("="!=n.operator)return;e(n.left,t),e(n.right,t)}else if(n instanceof un){if(!Ft[n.operator])return;e(n.left,t),e(n.right,t)}else if(n instanceof ln)e(n.consequent,t),e(n.alternative,t);else if(n instanceof Hn){var i=n.definition();i.bool_return++,t&&i.drop_return++}}(i,o)}i.walk(e);var a=t.optional;a&&b(e),t.args.forEach((function(n){n.walk(e)})),a&&w(e);var s=i instanceof Hn&&i.fixed_value();return s instanceof Z?m(e,i.definition(),s):e.find_parent(K).may_call_this(),!0})),e(_e,(function(e,n,t){var i=this;a(0,t,i),i.extends&&i.extends.walk(e);var r=i.properties.filter((function(n){return z(n),n.key instanceof S&&n.key.walk(e),n.value}));if(i.name){var o=i.name.definition(),s=e.parent();(s instanceof Ue||s instanceof Ve)&&(o.single_use=!1),$(e,o,!0)?(A(e,o),e.loop_ids[o.id]=e.in_loop,o.fixed=function(){return i},o.fixed.assigns=[i],Ei(o)||(o.single_use=!1)):o.fixed=!1}return r.forEach((function(n){!n.static||n instanceof we&&n.value.contains_this()?(b(e),n.value.walk(e),w(e)):n.value.walk(e)})),!0})),e(ln,(function(e){return this.condition.walk(e),b(e),this.consequent.walk(e),w(e),b(e),this.alternative.walk(e),w(e),!0})),e(Xe,(function(e){return this.name.walk(e),b(e),this.value.walk(e),w(e),!0})),e(L,(function(e){var n=e.in_loop;return e.in_loop=this,b(e),this.body.walk(e),gi(this,e.parent())&&(w(e),b(e)),this.condition.walk(e),w(e),e.in_loop=n,!0})),e(U,(function(e,n,t){var i=this;a(0,t,i),i.init&&i.init.walk(e);var r=e.in_loop;return e.in_loop=i,b(e),i.condition&&i.condition.walk(e),i.body.walk(e),i.step&&(gi(i,e.parent())&&(w(e),b(e)),i.step.walk(e)),w(e),e.in_loop=r,!0})),e(V,(function(e,n,t){var i=this;a(0,t,i),i.object.walk(e);var r=e.in_loop;e.in_loop=i,b(e);var o=i.init;return o instanceof He?o.definitions[0].name.mark_symbol((function(e){if(e instanceof Dn){var n=e.definition();n.assignments++,n.fixed=!1}}),e):o instanceof mn||o instanceof Hn?o.mark_symbol((function(e){if(e instanceof Hn){var n=e.definition();D(n,e),n.assignments++,e.is_immutable()||(n.fixed=!1)}}),e):o.walk(e),i.body.walk(e),w(e),e.in_loop=r,!0})),e(ze,(function(e){return this.condition.walk(e),b(e),this.body.walk(e),w(e),this.alternative&&(b(e),this.alternative.walk(e),w(e)),!0})),e(H,(function(e){return b(e),this.body.walk(e),w(e),!0})),e(Z,(function(e,n,t){var i=this;return!p(e,i)||(!h(e.fn_visited,i)||(i.inlined=!1,b(e),l(e,t,i),n(),_(e,i),i.name&&N(e,i.name.definition(),i,i.name,i,0,1),!0))})),e(pe,(function(e,n,t){var i=this,r=i.name.definition(),o=e.parent();return(o instanceof Ue||o instanceof Ve)&&(r.single_use=!1),!p(e,i)||(!h(e.fn_visited,i)||(i.inlined=!1,b(e),l(e,t,i),n(),_(e,i),!0))})),e(on,(function(e){if(this.optional)return this.expression.walk(e),b(e),this.property.walk(e),w(e),!0})),e(Ce,(function(e,n,t){var i=this;a(0,t,i),i.expression.walk(e);var r=!0;return i.body.forEach((function(n){n instanceof Fe||(n.expression.walk(e),r&&(r=!1,b(e)))})),r||w(e),P(i,e),!0})),e(Me,(function(e){return b(e),P(this,e),w(e),!0})),e(Nn,(function(){this.definition().fixed=!1})),e($n,(function(){this.definition().fixed=!1})),e(Hn,(function(e,n,i){var r=this.definition();D(r,this),1==r.references.length&&!r.fixed&&r.orig[0]instanceof Mn&&(e.loop_ids[r.id]=e.in_loop);var a,s=Li(e,r);if(s&&s.enclosed.forEach((function(n){if(r!==n&&n.scope.resolve()!==s){var t=n.fixed&&n.fixed.assigns;if(t&&!(t[t.length-1]instanceof Be)){var i=e.safe_ids[n.id];i&&(i.assign=!0)}}})),!1===r.fixed||0===r.fixed){var f=r.redefined();f&&x(r.scope,this.scope)&&(f.single_use=!1)}else if(void 0!==r.fixed&&O(e,r)){if(r.fixed){this.in_arg&&r.orig[0]instanceof Fn&&(this.fixed=r.scope);var c=this.fixed_value();s?r.recursive_refs++:c&&function(e,n){return e.option("unused")&&!n.scope.pinned()&&!1!==n.single_use&&n.references.length-n.recursive_refs==1&&!(Lt(n)&&n.scope.uses_arguments)}(i,r)?(r.in_loop=e.loop_ids[r.id]!==e.in_loop,r.single_use=o(c)&&!c.pinned()&&(!r.in_loop||e.parent()instanceof Qe)||!r.in_loop&&r.scope===this.scope.resolve()&&c.is_constant_expression()):r.single_use=!1,t(i,e,this,c,0,j(c),s)&&(r.single_use?r.single_use="m":r.fixed=0),r.fixed&&e.loop_ids[r.id]!==e.in_loop&&(r.cross_loop=!0),N(e,r,this.scope,this,c,0,1)}}else r.fixed=!1;this.fixed||(this.fixed=r.fixed),c instanceof Z&&!((a=e.parent())instanceof Qe&&a.expression===this)&&m(e,r,c)})),e(Wn,(function(e,n){var t=this,i=t.tag;if(i){if(i instanceof ne)return t.expressions.forEach((function(n){n.walk(e)})),i.walk(e),!0;i.walk(e),t.expressions.forEach((function(n){n.walk(e)}));var r=i instanceof Hn&&i.fixed_value();return r instanceof Z?m(e,i.definition(),r):e.find_parent(K).may_call_this(),!0}})),e(Q,(function(e,n,t){var i=this;return i.globals.each((function(e){r(0,t,e)})),b(e),l(e,t,i),n(),_(e,i),!0})),e(je,(function(e,n,t){var i=this;return a(0,t,i),b(e),P(i,e),w(e),i.bcatch&&(b(e),i.bcatch.walk(e),w(e)),i.bfinally&&i.bfinally.walk(e),!0})),e(sn,(function(e,n){var t=this;if(jt[t.operator]){var i=t.expression;if(i instanceof Hn){var r=i.definition();r.assignments++;var o=r.fixed;return O(e,r)&&!i.in_arg&&$(e,r)?(D(r,i),A(e,r),r.single_use&&(r.single_use=!1),r.fixed=function(){return Rn(un,t,{operator:t.operator.slice(0,-1),left:Rn(fn,t,{operator:"+",expression:q(i,o)}),right:Rn(Xn,t,{value:1})})},r.fixed.assigns=o&&o.assigns?o.assigns.slice():[],r.fixed.assigns.push(t),t instanceof fn?i.fixed=r.fixed:(i.fixed=function(){return Rn(fn,t,{operator:"+",expression:q(i,o)})},i.fixed.assigns=o&&o.assigns,i.fixed.to_prefix=C(i,r.fixed))):(i.walk(e),r.fixed=!1),!0}I(i)}})),e(Be,(function(e,n,t){var i=this,r=i.value;if(r instanceof ne&&i.name instanceof Dn){a(),r.parent_scope.resolve().fn_defs.push(r),r.safe_ids=null;var o=i.name.definition();o.fixed||m(e,o,r)}else r?(r.walk(e),a()):e.parent()instanceof Re&&a();return!0;function a(){R(e,t,i.name,(function(){return i.value||Rn(tt,i)}),(function(n,t){var r=n.definition();t&&$(e,r,!0)?(A(e,r),e.loop_ids[r.id]=e.in_loop,r.fixed=t,r.fixed.assigns=[i],(n instanceof On&&r.redefined()||!k(n)&&!Ei(r))&&(r.single_use=!1)):r.fixed=!1}))}})),e(B,(function(e,n){var t=e.in_loop;return e.in_loop=this,b(e),n(),w(e),e.in_loop=t,!0}))}((function(e,n){e.DEFMETHOD("reduce_vars",n)})),Q.DEFMETHOD("reset_opt_flags",(function(e){var n=new ft(e.option("reduce_vars")?function(t,i){return z(t),t.reduce_vars(n,i,e)}:z);n.fn_scanning=null,n.fn_visited=[],n.in_loop=null,n.loop_ids=Object.create(null),n.safe_ids=Object.create(null),this.walk(n)})),An.DEFMETHOD("fixed_value",(function(){var e=this.definition().fixed;if(e)return this.fixed&&(e=this.fixed),(e instanceof S?e:e()).tail_node();if(!(e=0===e&&this.fixed))return e;var n=(e instanceof S?e:e()).tail_node();return n.is_constant()&&n})),Hn.DEFMETHOD("is_immutable",(function(){var e=this.redef||this.definition();return(this.in_arg||1==e.orig.length)&&e.orig[0]instanceof Fn})),S.DEFMETHOD("convert_symbol",f),Xe.DEFMETHOD("convert_symbol",C),mn.DEFMETHOD("convert_symbol",C),Dn.DEFMETHOD("convert_symbol",I),Hn.DEFMETHOD("convert_symbol",I),Xe.DEFMETHOD("mark_symbol",xe),mn.DEFMETHOD("mark_symbol",xe),Dn.DEFMETHOD("mark_symbol",ke),Hn.DEFMETHOD("mark_symbol",ke),S.DEFMETHOD("match_symbol",(function(e){return e(this)})),Xe.DEFMETHOD("match_symbol",We),mn.DEFMETHOD("match_symbol",We);var Pn=_("Infinity NaN undefined");function In(e,n){if(e instanceof Ln)return!0;if(e instanceof tn){if("__proto__"===e.property)return!0;if((e=e.expression)instanceof Hn){if(e.is_immutable())return!1;e=e.fixed_value()}return!e||(!!e.tail_node().is_constant()||In(e,n))}if(e instanceof Hn){if(e.is_immutable())return!0;var t=e.definition();return n.exposed(t)&&Pn[t.name]}return!1}function Rn(e,n,t){return t||(t={}),n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function Zn(e,n){return 1==n.length?n[0]:Rn(en,e,{expressions:n.reduce(dt,[])})}function ut(e,n){switch(typeof e){case"string":return Rn(Jn,n,{value:e});case"number":return isNaN(e)?Rn(nt,n):isFinite(e)?1/e<0?Rn(fn,n,{operator:"-",expression:Rn(Xn,n,{value:-e})}):Rn(Xn,n,{value:e}):e<0?Rn(fn,n,{operator:"-",expression:Rn(rt,n)}):Rn(rt,n);case"boolean":return Rn(e?st:at,n);case"undefined":return Rn(tt,n);default:if(null===e)return Rn(et,n);if(e instanceof RegExp)return Rn(Qn,n,{value:e});throw new Error(v("Can't handle constant of type: {type}",{type:typeof e}))}}function lt(e,n){return n instanceof tn||xt(n)&&"eval"==n.name}function pt(e,n,t,i){var r=!1;return"Call"==n.TYPE?r=n.expression===t&&lt(0,i):n instanceof Wn?r=n.tag===t&&lt(0,i):n instanceof fn&&(r="delete"==n.operator||"typeof"==n.operator&&xt(i)),r?Zn(t,[Rn(Xn,t,{value:0}),i]):i}function dt(e,n){return n instanceof en?[].push.apply(e,n.expressions):e.push(n),e}function ht(e){return e instanceof Ye||e instanceof ge||e instanceof Re}function vt(e){if(e instanceof pe){var n=e.name.definition(),t=e.name.scope;return n.scope===t||g(n.references,(function(e){var n=e.scope;do{if(n===t)return!0}while(n=n.parent_scope)}))}return!ht(e)}function mt(e){if(null===e)return[];if(e instanceof N)return g(e.body,vt)?e.body:[e];if(e instanceof $)return[];if(q(e))return[e];throw new Error("Can't convert thing to statement array")}function _t(e){return null===e||(e instanceof $||e instanceof N&&0==e.body.length)}function gt(e){return g(e.body,(function(e){return _t(e)||e instanceof ve||e instanceof Le&&St(e)}))}function bt(e){return e instanceof Y&&e.body instanceof N?e.body:e}function yt(e){if("Call"!=e.TYPE)return!1;do{e=e.expression}while(e instanceof tn);return e instanceof ne?!te(e):yt(e)}function wt(e){var n=e.expression;if(n.name)return!1;if(!(e instanceof Ze))return!0;var t=!1;return n.walk(new ft((function(e){return!!t||(e instanceof Vn?t=!0:e instanceof K&&e!==n||void 0)}))),!t}function xt(e){return e instanceof Hn&&e.definition().undeclared}var kt,Et=_("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Map Math Number parseFloat parseInt RangeError ReferenceError RegExp Object Set setInterval setTimeout String SyntaxError TypeError unescape URIError WeakMap WeakSet");function St(e){return g(e.definitions,(function(e){return!e.value}))}function Tt(e,n){return e instanceof ge?n&&!e.extends&&g(e.properties,(function(e){return!(e.key instanceof S)&&!(e instanceof we&&e.static&&e.value)})):e instanceof He?(n||e instanceof Le)&&St(e):e instanceof Ue||e instanceof Ve?Tt(e.body,n):e instanceof pe}function At(e,n){var t=e.lastIndexOf(n);if(t<0)return!1;for(;++t<e.length;)if(!Tt(e[t],!0))return!1;return!0}function Dt(e,n){var t;if(e.init instanceof N&&(t=e.init,e.init=t.body.pop(),t.body.push(e)),e.init instanceof ve?(t||(t=Rn(N,e,{body:[e]})),t.body.splice(-1,0,e.init),e.init=null):e.init instanceof M?e.init=e.init.body:_t(e.init)&&(e.init=null),t)return n?d.splice(t.body):t}function zt(e,n){var r,o,a,f,u=v(n,(function(e){return e instanceof Z}));!function(){var e=n.self(),t=0;do{if(!r&&e.variables&&(r=e),e instanceof Ne)n.parent(t).bfinally&&(a||(a={}),a.bfinally=!0),t++;else if(e instanceof Ie)t++;else if(e instanceof Y)o=!0;else{if(e instanceof K){f=e;break}e instanceof je&&(a||(a={}),e.bcatch&&(a.bcatch=!0),e.bfinally&&(a.bfinally=!0))}}while(e=n.parent(t++))}();var l,p,h=10;do{if(p=l,l=0,y(e)&&(l=1),!l&&1==p)break;if(n.option("dead_code")&&(x(e,n)&&(l=2),!l&&2==p))break;if(n.option("if_return")&&(w(e,n)&&(l=3),!l&&3==p))break;if(n.option("awaits")&&n.option("side_effects")&&(T(e,n)&&(l=4),!l&&4==p))break;if(n.option("inline")>=4&&(A(e,n)&&(l=5),!l&&5==p))break;if(n.sequences_limit>0){if(z(e,n)&&(l=6),!l&&6==p)break;if(P(e,n)&&(l=7),!l&&7==p)break}if(n.option("join_vars")&&(fe(e)&&(l=8),!l&&8==p))break;n.option("collapse_vars")&&_(e,n)&&(l=9)}while(l&&h-- >0);return e;function v(e,n){var t,i=e.self(),r=0;do{do{if(n(i))return!0;i=e.parent(r++)}while(i instanceof ze&&(t=i))}while((i instanceof N||i instanceof K)&&At(i.body,t))}function _(e,n){if(!f.pinned()){for(var u,l,p=new b,h=[],v=!1,m=new b,_=e.length,y=new ct((function(e,t){if(Ee)return e;if(!ke)return e!==x[A]?e:++A<x.length?Ye(e,y):(ke=!0,(I=(P?Sn:Ke)(e,0))===e&&(Ee=!0),e);var i,r,o=y.parent();if(!H&&Ue(e,o)&&(H=o),ae&&J&&$e&&!H&&e instanceof pn&&"="!=e.operator&&e.left.equivalent_to(W))return Se++,v=!0,S.info("Cascading {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),$e=!1,he=Vn(W),e.right.transform(y),Yn(O),Ee?i=O:(Ee=!0,i=Rn(un,O,{operator:ae,left:W.fixed&&W.definition().fixed?W.fixed.to_binary():W,right:be})),Rn(pn,e,{operator:"=",left:e.left,right:Rn(un,e,{operator:e.operator.slice(0,-1),left:i,right:e.right})});if(function(e,t){if(e===be)return!0;if(t instanceof U&&e!==t.init)return!0;if(e instanceof pn)return"="!=e.operator&&W.equivalent_to(e.left);if(e instanceof Qe)return W instanceof tn&&(!!W.equivalent_to(e.expression)&&!(be instanceof ne&&!be.contains_this()));return e instanceof _e?!n.has_directive("use strict"):e instanceof D||(e instanceof ve?se&&W.name===e.name.name:e instanceof bn?e.key instanceof S:e instanceof R||(e instanceof Oe||(e instanceof je||e instanceof X)))}(e,o))return Ee=!0,e;if(e.single_use&&o instanceof Be&&o.value===e)return e;if(!(e instanceof Dn)&&(J&&W.equivalent_to(e)||oe&&(r=oe(e,this)))){if(!$e||H&&(r||!me||!xe))return r||P||(Ee=!0),e;if(Ut(e,o))return P&&!r&&(z=!0),e;if(!r&&C&&e.fixed!==W.fixed)return Ee=!0,e;if(P)return H&&0==$&&($=T-Se),r||Se++,e;if(Se++,v=Ee=!0,S.info("Collapsing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),"Binary"==O.TYPE)return Bn(O,e),Rn(pn,O,{operator:"=",left:O.right.left,right:"&&"==O.operator?Rn(ln,O,{condition:O.left,consequent:O.right.right,alternative:e}):Rn(ln,O,{condition:O.left,consequent:e,alternative:O.right.right})});if(O instanceof cn)return Rn(fn,O,{operator:O.operator,expression:W.fixed&&W.definition().fixed?W.fixed.to_prefix():W});if(O instanceof fn)return Yn(O),O;if(Bn(be,e),O instanceof Be){var a=O.name.definition();return a.references.length-a.replaced!=1||n.exposed(a)?Rn(pn,O,{operator:"=",left:e,right:be}):(a.replaced++,pt(0,o,e,be))}Yn(be);var f=O.clone();return f.right=be,f}if(function(e,t){if(!(e instanceof Hn))return!1;if(e.is_declared(n)){if(e.fixed_value())return!1;if(k(e))return!(t instanceof tn&&t.expression===e)&&s(e.definition())}else if(Le(e,t))return!1;return!xe||(oe=!1,!1)}(e,o))return Ee=!0,e;if((Ve(e,o)||fe(e))&&(I=e,e instanceof K&&(Ee=!0)),e instanceof ee){var c=$e;return $e=!1,t(e,y),$e=c,Ie(e)}if(e instanceof mn){c=$e;return $e=!1,t(e,y),$e=c,Ie(e)}if(e instanceof Xe){e.name=e.name.transform(y);c=$e;return $e=!1,e.value=e.value.transform(y),$e=c,Ie(e)}if(e instanceof F&&!(e instanceof K)&&(!e.variables||!e.variables.all((function(e){return!pe.has(e.name)&&!he.has(e.name)})))){c=$e;return $e=!1,Ye(e,y)||t(e,y),$e=c,Ie(e)}return Ye(e,y)}),Ie),w=new ct((function(e){if(Ee)return e;if(!ke){if(e!==x[A])return e;switch(A++,x.length-A){case 0:if(ke=!0,z)return e;if(e!==O)return e;if(e instanceof Be)return e;Ne.replaced++;var n=w.parent();return n instanceof en&&n.tail_node()!==e?(P.replaced++,be===ge?d.skip:Zn(ge,ge.expressions.slice(0,-1))):be;case 1:if(!z&&e.body===O)return ke=!0,Ne.replaced++,P.replaced++,null;default:return Ye(e,w)}}if(e instanceof Hn&&e.definition()===Ne){if(Ut(e,w.parent()))return e;--Se||(Ee=!0),S.info("Replacing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col});var t=be.clone();return t.scope=e.scope,t.reference(),Se==$?(Ee=!0,Rn(pn,O,{operator:"=",left:e,right:t})):(Ne.replaced++,t)}return e instanceof Fe||e instanceof K?e:void 0}),(function(e){return Jn(e,w)}));--_>=0;){0==_&&n.option("unused")&&Ge();var x=[];for(Je(e[_]);h.length>0;){x=h.pop();var T,A=0,O=x[x.length-1],$=-1,z=!1,C=!1,P=null,I=null,H=null,W=qn(O),G=W&&W.has_side_effects(n),J=W&&(!G||W instanceof Hn)&&!In(W,n),oe=jn(O);if(J||oe){var ae=O instanceof pn&&O.operator.slice(0,-1),se=O.name instanceof Cn,fe=c;if(O.may_throw(n)){if(se&&ie(f))continue;fe=a?function(e){return e.has_side_effects(n)}:rt}var ce=!1,le=!1,pe=new b,de=!0,he=Vn(O),me=Kn(W),ge=Fn(O),be=ge;G||(!ae&&be instanceof en&&(be=be.tail_node()),G=Qn());var we=a||!me?function(e){return e instanceof mn}:c,xe=et(O),ke=se,Ee=!1,Se=0,$e=!u||!ke;if(!$e){for(var qe=O.arg_index+1;!Ee&&qe<u.length;qe++)u[qe]&&u[qe].transform(y);$e=!0}for(var Me=_;!Ee&&Me<e.length;Me++)e[Me].transform(y);if(P){if(!Se||T>Se+z){h.push(x),l=!0;continue}Se==$&&(z=!0);var Ne=W.definition();Ee=!1,A=0,ke=se;for(Me=_;!Ee&&Me<e.length;Me++)e[Me].transform(w)||e.splice(Me--,1);Se=O instanceof Be&&O===x[x.length-1]&&Ne.references.length==Ne.replaced&&!n.exposed(Ne),P.last_ref=!1,P.single_use=!1,v=!0}Se&&Gn(O)}}}return v}function Ie(e){return Ee||(I===e&&(Ee=!0),H===e&&(H=null)),e}function Ye(e,n){if(!(e instanceof F)){if(!(e instanceof ye)||e.static)return;return e.key instanceof S&&(e.key=e.key.transform(n)),e}if(e instanceof K)return e;if(e instanceof V)return e.object=e.object.transform(n),Ee=!0,e;if(e instanceof Ce){e.expression=e.expression.transform(n);for(var t=0;!Ee&&t<e.body.length;t++){var i=e.body[t];if(i instanceof Pe){if(!ke){if(i!==x[A])continue;A++}if(i.expression=i.expression.transform(n),!xe)break;oe=!1}}return Ee=!0,e}}function Le(e,n){return n instanceof pn?"="==n.operator&&n.left===e:n instanceof Xe?n.name===e:n instanceof gn||(n instanceof bn?n.value===e:void 0)}function Ue(e,n){return n instanceof pn?n.left!==e&&Ft[n.operator.slice(0,-1)]:n instanceof un?n.left!==e&&Ft[n.operator]:n instanceof Qe?n.optional&&n.expression!==e:n instanceof Pe?n.expression!==e:n instanceof ln||n instanceof ze?n.condition!==e:n instanceof on?n.optional&&n.expression!==e:void 0}function Ve(e,t){if(e instanceof dn)return!0;if("Binary"==e.TYPE)return"in"==e.operator&&!Ii(e.right);if(e instanceof Qe){var i=e.expression;if(i instanceof Hn&&(d=i.definition(),i=i.fixed_value()),!(i instanceof Z))return!e.is_expr_pure(n);if(d&&Li(n,d,i))return!0;if(i.collapse_scanning)return!1;i.collapse_scanning=!0;var r=$e;$e=!1;var o=I,c=H;if(g(i.argnames,(function(e){if(e instanceof Xe){if(e.value.transform(y),Ee)return!1;e=e.name}return!(e instanceof mn)})))if(te(i)&&i.value)i.value.transform(y);else for(var u=0;!Ee&&u<i.body.length;u++){var l=i.body[u];if(l instanceof Ae){l.value&&l.value.transform(y);break}l.transform(y)}else Ee=!0;return H=c,I=o,$e=r,i.collapse_scanning=!1,Ee?(Ee=!1,!0):!1}if(e instanceof Te){if(a){if(a.bfinally)return!0;if(a.bcatch&&e instanceof De)return!0}return G||W instanceof tn||it(W)}if(e instanceof ue)return n.option("ie")&&e.name&&he.has(e.name.name);if(e instanceof Ln)return nt(e,t);if(e instanceof tn){if(G)return!0;var p=e.expression;if(p instanceof Hn&&s(p.definition()))return!0;if(n.option("unsafe")){if(xt(p)&&Et[p.name])return!1;if(ei(p))return!1}return!de||!P&&(!(!a&&me)&&(!e.optional&&p.may_throw_on_access(n)))}if(e instanceof an)return!0;if(e instanceof Hn){if(nt(e,t))return!Le(e,t);if(G&&it(e))return!0;var d=e.definition();return(a||d.scope.resolve()!==f)&&!k(e)}if(e instanceof Wn)return!e.is_expr_pure(n);if(e instanceof Be)return!!we(e.name)||(e.value||t instanceof Re)&&e.name.match_symbol((function(e){return e instanceof Dn&&(he.has(e.name)||G&&it(e))}),!0);if(e instanceof hn)return!0;var h=Ut(e.left,e);return!!h&&(h instanceof tn||(!!we(h)||h.match_symbol((function(e){return e instanceof Hn&&(he.has(e.name)||ce&&n.exposed(e.definition()))}),!0)))}function We(e,t){if(!t)return!(e instanceof An);if(e instanceof Xe)return t.has_side_effects(n)||e.value.has_side_effects(n)||We(e.name,Mt(t)&&e.value);if(e instanceof mn){if(e.rest&&We(e.rest))return!0;if(e instanceof gn)return!(t instanceof vn||t.is_string(n))||!g(e.elements,(function(e){return!We(e)}));if(e instanceof yn)return!t.is_defined(n)||!g(e.properties,(function(e){return!(e instanceof S&&e.has_side_effects(n))&&!We(e.value)}))}}function Ge(){var e,t=n.self();if(t instanceof ne&&!re(t)&&!t.uses_arguments&&!t.pinned()&&(e=n.parent())instanceof Qe&&e.expression===t&&wt(e)&&g(e.args,(function(e){return!(e instanceof an)}))){var r=n.has_directive("use strict");r&&!i(r,t.body)&&(r=!1);for(var o=ie(t)?function(e){return e instanceof An&&"await"==e.name}:function(e){return e instanceof dn&&!s.find_parent(K)},a=null,s=new ft((function(e,n){if(!m)return!0;if(o(e)||e instanceof hn)return m=null,!0;if(e instanceof Ln&&(r||!a))return m=null,!0;if(e instanceof Hn&&t.variables.has(e.name)){var i=e.definition().scope;if(i!==f)for(;i=i.parent_scope;)if(i===f)return!0;m=null}if(e instanceof K&&!te(e)){var s=a;return a=e,n(),a=s,!0}})),c=(u=e.args.slice()).length,l=new b,p=t.argnames.length;--p>=0;){var d,v=t.argnames[p],m=u[p];if(v instanceof Xe&&(d=v.value,v=v.name,u[c+p]=d),v instanceof mn){if(!We(v,m))continue;h.length=0;break}if(!l.has(v.name)&&(l.set(v.name,!0),d&&(m=Mt(m)?d:null),m||d?m instanceof Z&&m.pinned()?m=null:m&&m.walk(s):m=Rn(tt,v).transform(n),m)){var _=Rn(Be,v,{name:v,value:m});_.name_index=p,_.arg_index=d?c+p:p,h.unshift([_])}}}}function Je(e,n){if(x.push(e),e instanceof vn)e.elements.forEach((function(e){Je(e,n)}));else if(e instanceof pn){var t=e.left;t instanceof mn||h.push(x.slice()),Je(t),Je(e.right),t instanceof Hn&&"="==e.operator&&p.set(t.name,(p.get(t.name)||0)+1)}else if(e instanceof dn)Je(e.expression,n);else if(e instanceof un){var i=Ft[e.operator];n&&i&&"??"!=e.operator&&e.right instanceof pn&&"="==e.right.operator&&!(e.right.left instanceof mn)&&h.push(x.slice()),Je(e.left,!i&&n),Je(e.right,n)}else if(e instanceof Qe)Je(e.expression),e.args.forEach(Je);else if(e instanceof Pe)Je(e.expression);else if(e instanceof ln)Je(e.condition),Je(e.consequent,n),Je(e.alternative,n);else if(e instanceof He)e.definitions.forEach(Je);else if(e instanceof rn)Je(e.expression);else if(e instanceof R)Je(e.condition),e.body instanceof j||Je(e.body);else if(e instanceof Te)e.value&&Je(e.value);else if(e instanceof U)e.init&&Je(e.init,!0),e.condition&&Je(e.condition),e.step&&Je(e.step,!0),e.body instanceof j||Je(e.body);else if(e instanceof V)Je(e.object),e.body instanceof j||Je(e.body);else if(e instanceof ze)Je(e.condition),e.body instanceof j||Je(e.body),!e.alternative||e.alternative instanceof j||Je(e.alternative);else if(e instanceof wn)e.properties.forEach((function(e){x.push(e),e.key instanceof S&&Je(e.key),e instanceof kn&&Je(e.value,n),x.pop()}));else if(e instanceof en){var r=e.expressions.length-(n?0:1);e.expressions.forEach((function(e,n){Je(e,n<r)}))}else if(e instanceof M)Je(e.body,!0);else if(e instanceof an)Je(e.expression);else if(e instanceof on)Je(e.expression),Je(e.property);else if(e instanceof Ce)Je(e.expression),e.body.forEach(Je);else if(e instanceof sn)jt[e.operator]?h.push(x.slice()):Je(e.expression);else if(e instanceof Be){if(e.name instanceof zn)if(e.value){var o=e.name.definition();o.references.length>o.replaced&&h.push(x.slice())}else m.set(e.name.name,(m.get(e.name.name)||0)+1);e.value&&Je(e.value)}else e instanceof hn&&e.expression&&Je(e.expression);x.pop()}function Ke(e,n){var t=y.parent(n);return t instanceof vn||t instanceof pn||t instanceof dn||t instanceof un||t instanceof Qe||t instanceof Pe||t instanceof ln?e:t instanceof He?Tn(t,n+1):t instanceof Te||t instanceof ze||t instanceof Y||t instanceof xn||t instanceof tn?e:t instanceof en?(t.tail_node()===e?Ke:Tn)(t,n+1):t instanceof M?Tn(t,n+1):t instanceof an||t instanceof Ce||t instanceof sn||t instanceof Be||t instanceof hn?e:null}function Ze(e,n,t){var i;do{i=e,e=y.parent(++t)}while(e instanceof pn&&e.operator.slice(0,-1)==n||e instanceof un&&e.operator==n);return i}function En(e,n,t,i,r){var o=$e;$e=!1;var a=I,s=H,f=y.stack;return y.stack=[i],e.transform(y),y.stack=f,H=s,I=a,$e=o,Ee?(Ee=!1,t):n(i,r+1)}function Sn(e,n){var t,i=y.parent(n);if(i instanceof vn)return Sn(i,n+1);if(i instanceof pn)return fe(i)||i.left.match_symbol((function(e){return e instanceof Hn&&(W.name==e.name||P.name==e.name)}))?e:i.left!==e&&Ft[t=i.operator.slice(0,-1)]?Ze(i,t,n):Sn(i,n+1);if(i instanceof un)return i.left!==e&&Ft[t=i.operator]?Ze(i,t,n):Sn(i,n+1);if(i instanceof Qe)return i;if(i instanceof Pe)return i.expression!==e?e:Sn(i,n+1);if(i instanceof ln)return i.condition!==e?e:Sn(i,n+1);if(i instanceof He)return Tn(i,n+1);if(i instanceof L)return e;if(i instanceof Te)return Tn(i,n+1);if(i instanceof U)return i.init!==e&&i.condition!==e?e:Sn(i,n+1);if(i instanceof V)return i.init!==e?e:Sn(i,n+1);if(i instanceof ze)return i.condition!==e?e:Sn(i,n+1);if(i instanceof xn){var r=y.parent(n+1);return g(r.properties,(function(e){return e instanceof kn}))?Sn(r,n+2):r}return i instanceof tn?i.expression===e?Sn(i,n+1):e:i instanceof en?(i.tail_node()===e?Sn:Tn)(i,n+1):i instanceof M?Tn(i,n+1):i instanceof an?Sn(i,n+1):i instanceof Ce?i.expression!==e?e:Sn(i,n+1):i instanceof sn?"delete"==i.operator?e:Sn(i,n+1):i instanceof Be?i.name.match_symbol((function(e){return e instanceof Dn&&(W.name==e.name||P.name==e.name)}))?e:Sn(i,n+1):i instanceof B?i.condition!==e?e:Sn(i,n+1):i instanceof hn?Sn(i,n+1):null}function Tn(e,n){var t=y.parent(n);if(Ve(e,t))return e;if(Ue(e,t))return e;if(t instanceof vn)return Tn(t,n+1);if(t instanceof pn)return o(t.left);if(t instanceof dn)return e;if(t instanceof un)return Tn(t,n+1);if(t instanceof Qe)return Tn(t,n+1);if(t instanceof Pe)return Tn(t,n+1);if(t instanceof ln)return Tn(t,n+1);if(t instanceof He)return Tn(t,n+1);if(t instanceof Te)return Tn(t,n+1);if(t instanceof ze)return Tn(t,n+1);if(t instanceof Y)return e;if(t instanceof xn){var i=y.parent(n+1);return g(i.properties,(function(e){return e instanceof kn}))?Tn(i,n+2):i}if(t instanceof tn){var r=t.expression;return r===e?Tn(t,n+1):En(r,Tn,e,t,n)}return t instanceof en||t instanceof M?Tn(t,n+1):t instanceof an?e:t instanceof Ce||t instanceof sn?Tn(t,n+1):t instanceof Be?o(t.name):t instanceof hn?e:null;function o(i){return fe(t)?e:i!==e&&i instanceof mn?En(i,Tn,e,t,n):Tn(t,n+1)}}function On(e){if(l)l=!1;else if(!(T<1)){var t=(e=e.tail_node())instanceof pn&&"="==e.operator?e.left:e;if(t instanceof Hn){var i=t.definition();if(!i.undeclared&&!s(i)){if(t!==e){if(In(t,n))return;if(i.references.length-i.replaced<2)return;var r=O.clone();r[r instanceof pn?"right":"value"]=t,O.name_index>=0&&(r.name_index=O.name_index,r.arg_index=O.arg_index),O=r}return P=i}}}}function $n(e){return e.references.length-e.replaced-(p.get(e.name)||0)}function qn(e){if(e instanceof pn){if(!((o=e.left)instanceof Hn))return o;var t=o.definition();if(f.uses_arguments&&Lt(t))return o;if(n.exposed(t))return o;if(T=$n(t),t.fixed&&o.fixed){var r=t.references.filter((function(e){return e.fixed===o.fixed})).length-1;r<T&&(T=r,$=0,C=!0)}return"="==e.operator&&On(e.right),o}if(e instanceof un)return e.right.left;if(e instanceof sn)return e.expression;if(e instanceof Be){var o;if((t=(o=e.name).definition()).const_redefs)return;if(!i(o,t.orig))return;if(f.uses_arguments&&Lt(t))return;var a=t.orig.length-t.eliminated-(m.get(t.name)||0);return T=$n(t),t.fixed&&(T=Math.min(T,t.references.filter((function(n){if(!n.fixed)return!0;if(!n.fixed.assigns)return!0;var t=n.fixed.assigns[0];return t===o||Fn(t)===e.value})).length)),a>1&&!(o instanceof Cn)?(On(e.value),Rn(Hn,o,o)):On(e.value)||1==T&&!n.exposed(t)?Rn(Hn,o,o):void 0}}function Fn(e){if(e instanceof pn)return e.right;if(e instanceof un){var n=e.clone();return n.right=e.right.right,n}return e instanceof Be?e.value:void 0}function Pn(e){return!(e instanceof vn)&&(e instanceof un&&Ft[e.operator]?Pn(e.left)&&Pn(e.right):!(e instanceof Qe)&&(e instanceof ln?Pn(e.consequent)&&Pn(e.alternative):!(e instanceof wn)&&!e.has_side_effects(n)))}function jn(e){if(!(e instanceof pn&&e.right.single_use)){for(var t,i=Object.create(null),r=new ft((function(e){e instanceof Hn&&(i[e.definition().id]=!0)}));e instanceof pn&&"="==e.operator;)e.left.walk(r),e=e.right;if(e instanceof Ln)return s;if(e instanceof Hn){var o=e.evaluate(n);return o===e?s:Nn(o,s)}if(e.is_truthy())return Nn(!0,c);if(e.is_constant()){var a=e.evaluate(n);if(!(a instanceof S))return Nn(a,s)}return W instanceof Hn&&(!!Pn(e)&&(e.walk(new ft((function(e){if(t)return!0;e instanceof Hn&&i[e.definition().id]&&(t=!0)}))),!t&&s))}function s(n){return e.equivalent_to(n)}}function Nn(e,t){return function(i,r){if(r.in_boolean_context()){if(e&&i.is_truthy()&&!i.has_side_effects(n))return!0;if(i.is_constant()){var o=i.evaluate(n);if(!(o instanceof S))return!o==!e}}return t(i)}}function Yn(e){for(;e.write_only&&(e.write_only=!1,e instanceof pn);)e=e.right}function Bn(e,n){var t=n.scope||_n(y)||r;e.walk(new ft((function(e){if(e instanceof F)return!0;e instanceof An&&(e.scope=t)})))}function Un(e){return e instanceof Hn&&!(e=e.fixed_value())||(e instanceof pn?"="==e.operator&&Un(e.right):e instanceof tn||e instanceof Ln)}function Vn(e){var i=new b;e instanceof Be&&(e.name.definition().fixed||(de=!1),i.add(e.name.name,W));var r=f.uses_arguments&&!n.has_directive("use strict"),o=f instanceof Q,a=new ft((function(s){var c;if(s instanceof Hn){if(!(c=s.fixed_value())){c=s;var u=s.definition(),l=s.fixed&&s.fixed.escaped||u.escaped;u.undeclared||!u.assignments&&l&&!l.cross_scope||!E(u,s.scope,s,a.parent())&&Bi(u)||(de=!1)}}else s instanceof Ln&&(c=s);if(c)i.add(s.name,t(n,a,s,c,0));else{if(s instanceof Z){for(var p,d=0,h=s;p=a.parent(d++);h=p){if(p instanceof pn){if(p.left===h)break;if("="==p.operator)continue;if(Ft[p.operator.slice(0,-1)])continue;break}if(p instanceof un){if(Ft[p.operator])continue;break}if(p instanceof Qe)return;if(p instanceof K)return;if(p instanceof en){if(p.tail_node()===h)continue;break}if(p instanceof Wn){if(p.tag)return;break}}return s.enclosed.forEach((function(e){e.scope!==s&&pe.set(e.name,!0)})),!0}r&&s instanceof on&&(f.each_argname((function(e){n.option("reduce_vars")&&!e.definition().assignments||(e.definition().fixed||(de=!1),i.add(e.name,!0))})),r=!1)}if(o)if("Call"==s.TYPE){if(le)return;var v=s.expression;if(v instanceof tn)return;if(v instanceof ne&&!v.contains_this())return;le=!0}else s instanceof tn&&Un(s.expression)&&(s!==W||e instanceof sn?ce=!0:le=!0)}));return e.walk(a),i}function Gn(t){var i=be===ge?null:Zn(ge,ge.expressions.slice(0,-1)),r=t.name_index;if(r>=0){var o,a=f.argnames[r];a instanceof Xe?(f.argnames[r]=a=a.clone(),a.value=i||Rn(Xn,a,{value:0})):(o=n.parent().args)[r]&&(f.argnames[r]=a.clone(),o[r]=i||Rn(Xn,o[r],{value:0}))}else{var s=x.length-1,c=x[s];(c instanceof Be||x[s-1].body===c)&&s--;var u=new ct((function(e,n,t){if(ke)return e;if(e!==x[A])return e;if(++A<=s)return Ye(e,u);if(ke=!0,e instanceof He){m.set(c.name.name,(m.get(c.name.name)||0)+1),P&&P.replaced++;var r=e.definitions,o=r.indexOf(c),a=c.clone();if(a.value=null,!i)return e.definitions[o]=a,e;var f=[Rn(M,i,{body:i})];if(o>0){var l=e.clone();l.definitions=r.slice(0,o),f.unshift(l),(e=e.clone()).definitions=r.slice(o)}return f.push(e),e.definitions[0]=a,t?d.splice(f):Rn(N,e,{body:f})}return i?q(e)?Rn(M,i,{body:i}):i:t?d.skip:null}),(function(e,n){return e instanceof U?Dt(e,n):Jn(e,u)}));Ee=!1,ke=!1,A=0,(e[_]=e[_].transform(u))||e.splice(_,1)}}function Jn(e,n){if(e instanceof en)switch(e.expressions.length){case 0:return null;case 1:return pt(0,n.parent(),e,e.expressions[0])}}function Kn(e){var n=nn(e);if(!(n instanceof Hn))return!1;if(n.definition().scope.resolve()!==f)return!1;if(!o)return!0;if(ae)return!1;if(O instanceof sn)return!1;var t=he.get(n.name);return!t||t[0]===e}function Qn(){return!(O instanceof sn)&&be.has_side_effects(n)}function et(e){if(e instanceof sn)return!1;if(G)return!1;if(P)return!0;if(!(W instanceof Hn))return!1;var n;if(e instanceof Be)n=1;else{if("="!=e.operator)return!1;n=2}var t=W.definition();return t.references.length-t.replaced==n||!!t.fixed&&(!!W.fixed&&(t.references.filter((function(e){return e.fixed===W.fixed})).length==n&&(C=!0,!0)))}function nt(e,n){var t=he.get(e.name);if(t&&!g(t,(function(e){return!e})))return t[0]!==W||void(oe=!1)}function it(e){var t=e.definition();return!(1==t.orig.length&&t.orig[0]instanceof Mn)&&(t.scope.resolve()!==f||(!(!le||!n.exposed(t))||!g(t.references,(function(e){return e.scope.resolve(!0)===f}))))}function rt(e,n){if(e instanceof pn)return rt(e.left,!0);if(e instanceof sn)return rt(e.expression,!0);if(e instanceof Be)return e.value&&rt(e.value);if(n){if(e instanceof rn)return rt(e.expression,!0);if(e instanceof on)return rt(e.expression,!0);if(e instanceof Hn)return e.definition().scope.resolve()!==f}return!1}}function y(e){for(var n=!1,t=[],r=0;r<e.length;){var o=e[r];if(o instanceof N&&g(o.body,vt))n=!0,y(o.body),[].splice.apply(e,[r,1].concat(o.body)),r+=o.body.length;else{if(o instanceof O){if(i(o.value,t)){n=!0,e.splice(r,1);continue}t.push(o.value)}o instanceof $?(n=!0,e.splice(r,1)):r++}}return n}function w(e,n){for(var t=!1,i=n.parent(),r=n.self(),o=u&&i&&"Call"==i.TYPE&&i.expression===r,a=u&&n.option("conditionals")&&n.option("sequences"),s=function(e){for(var n=0,t=e.length;--t>=0;){var i=e[t];if(i instanceof ze&&i.body instanceof Ae&&++n>1)return!0}return!1}(e),f=e.length;--f>=0;){var c=e[f],l=z(f),p=e[l];if(u&&!p&&c instanceof Ae){if(!c.value){t=!0,e.splice(f,1);continue}var d=c.value.tail_node();if(d instanceof fn&&"void"==d.operator){var h;t=!0,d===c.value?h=d.expression:(h=c.value.clone()).expressions[h.length-1]=d.expression,e[f]=Rn(M,c,{body:h});continue}}if(c instanceof ze){var _=ii(c.body);if(O(_)){_.label&&m(_.label.thedef.references,_),t=!0,(c=c.clone()).body=Rn(N,c,{body:q(c.body,_)}),c.alternative=Rn(N,c,{body:mt(c.alternative).concat($())}),e[f]=c,e[f]=c.transform(n);continue}if(_&&!c.alternative&&p instanceof Se){var b=c.condition;if((b=Pt(b,b.negate(n),c.body instanceof N))!==c.condition){t=!0,(c=c.clone()).condition=b,e[l]=c.body,c.body=p,e[f]=c,e[f]=c.transform(n);continue}}var y=ii(c.alternative);if(O(y)){y.label&&m(y.label.thedef.references,y),t=!0,(c=c.clone()).body=Rn(N,c.body,{body:mt(c.body).concat($())}),c.alternative=Rn(N,c.alternative,{body:q(c.alternative,y)}),e[f]=c,e[f]=c.transform(n);continue}if(n.option("typeofs")){if(_&&!y){var w=Rn(N,r,{body:e.slice(f+1)});yi(c.condition,null,w)}if(!_&&y){w=Rn(N,r,{body:e.slice(f+1)});yi(c.condition,w)}}}if(c instanceof ze&&c.body instanceof Ae){var x,k,E=c.body.value,S=c.body.in_bool||p instanceof Ae&&p.in_bool;if(!c.alternative&&p instanceof Ae){t=!0,(c=c.clone()).alternative=p,e.splice(f,1,c.transform(n)),e.splice(l,1);continue}if(!c.alternative&&!p&&u&&(S||E&&s)){t=!0,(c=c.clone()).alternative=Rn(Ae,c,{value:null}),e.splice(f,1,c.transform(n));continue}if(a&&!c.alternative&&(!(k=e[x=C(f)])&&o||k instanceof ze&&k.body instanceof Ae)&&z(l)==e.length&&p instanceof M){t=!0;var T=[],A=k?F(x,T):[f,1];c=c.clone(),T.push(c.condition),c.condition=Zn(c,T),c.alternative=Rn(N,p,{body:[p,Rn(Ae,p,{value:null})]}),A.push(c.transform(n)),e.splice(l,1),[].splice.apply(e,A),f=x+1;continue}}}return t;function D(e){return v(n,(function(n){return n===e}))}function O(t){if(!function(e){if(e instanceof Ae)return u&&Mt(e.value);if(!(e instanceof Oe))return!1;var t=n.loopcontrol_target(e);return e instanceof qe?D(bt(t)):!(t instanceof Y)&&D(t)}(t))return!1;for(var i=e.length;--i>f;){var r=e[i];if(r instanceof ge){if(r.name.definition().preinit)return!1}else if((r instanceof Ye||r instanceof Re)&&!g(r.definitions,(function(e){return!e.name.match_symbol((function(e){return e instanceof Dn&&e.definition().preinit}))})))return!1}return!0}function $(){var n=[],t=!1,i=e.splice(f+1).filter((function(e){return e instanceof pe?(n.push(e),!1):(ht(e)&&(t=!0),!0)}));return[].push.apply(t?i:e,n),i}function q(e,n){for(var t,i=mt(e),r=i;(t=r[r.length-1])!==n;)r=t.body;return r.pop(),n.value&&r.push(Rn(M,n.value,{body:n.value})),i}function z(n){for(var t=n+1;t<e.length&&Tt(e[t]);t++);return t}function C(n){for(var t=n;--t>=0&&e[t]instanceof Le;);return t}function F(t,i){for(var r=[t+1,f-t],o=[];++t<f;){var a=e[t];a.remove_initializers(n,o),a.definitions.forEach((function(e){e.value&&i.push(Rn(pn,e,{operator:"=",left:e.name.convert_symbol(Hn,G),right:e.value}))}))}return o.length>0&&r.push(Rn(Le,a,{definitions:o})),r}}function x(e,n){for(var t,i=n.self(),r=0,o=0,a=e.length;r<a;r++){var s=e[r];if(s instanceof Oe){var f=n.loopcontrol_target(s);bt(f)!==i||s instanceof $e&&f instanceof Y?e[o++]=s:s.label&&m(s.label.thedef.references,s)}else e[o++]=s;if(ii(s)){t=e.slice(r+1);break}}return e.length=o,t&&t.forEach((function(t){Ct(n,t,e)})),e.length!=a}function T(e,n){if(!(!u||a&&a.bfinally)){for(var t=!1,i=e.length;--i>=0;){var r=e[i];if(!(r instanceof M))break;var o=r.body;if(!(o instanceof dn))break;var s=o.expression;if(!Hi(n,s))break;if(t=!0,s=s.drop_side_effect_free(n,!0)){r.body=s;break}}return e.length=i+1,t}}function A(e,n){var t=!1,i=e.length-1;u&&i>=0&&((f=e[i].try_inline(n,r))&&(e[i--]=f,t=!0));for(var s=o&&a&&a.bfinally?"try":o;i>=0;i--){var f;(f=e[i].try_inline(n,r,!0,s))&&(e[i]=f,t=!0)}return t}function z(e,n){if(!(e.length<2)){for(var t=[],i=0,r=0,o=e.length;r<o;r++){var a=e[r];a instanceof M?(t.length>=n.sequences_limit&&s(),dt(t,a.body)):(Tt(a)||s(),e[i++]=a)}return s(),e.length=i,i!=o}function s(){if(t.length){var n=Zn(t[0],t);e[i++]=Rn(M,n,{body:n}),t=[]}}}function C(e,n){if(!(e instanceof N))return e;for(var t=null,i=0;i<e.body.length;i++){var r=e.body[i];if(r instanceof Le&&St(r))n.push(r);else{if(t||ht(r))return!1;t=r}}return t}function P(e,n){for(var t,i=!1,r=0,o=0;o<e.length;o++){var a=e[o];if(t)if(a instanceof Te)!a.value&&Ke(f)||(a.value=d(a.value||Rn(tt,a)).optimize(n));else if(a instanceof U){if(!(a.init instanceof He)){var s=!1;t.body.walk(new ft((function(e){return!!(s||e instanceof K)||(e instanceof un&&"in"==e.operator?(s=!0,!0):void 0)}))),s||(a.init?a.init=d(a.init):(a.init=t.body,r--,i=!0))}}else a instanceof W?ht(a.init)||(a.object=d(a.object)):a instanceof ze?a.condition=d(a.condition):(a instanceof Ce||a instanceof X)&&(a.expression=d(a.expression));if(n.option("conditionals")&&a instanceof ze){var c=[],u=C(a.body,c),l=C(a.alternative,c);if(!1!==u&&!1!==l&&c.length>0){var p=c.length;c.push(Rn(ze,a,{condition:a.condition,body:u||Rn($,a.body),alternative:l})),c.unshift(r,1),[].splice.apply(e,c),o+=p,r+=p+1,t=null,i=!0;continue}}e[r++]=a,t=a instanceof M?a:null}return e.length=r,i;function d(e){r--,i=!0;var n=t.body;return Zn(n,[n,e])}}function I(e){return e instanceof pn?[e]:e instanceof en?e.expressions.slice():void 0}function H(e,n,t){var i=I(n);if(i){t=t||0;for(var r=!1,o=i.length-t;--o>=0;){var a=i[o];if(u(a)){var s;if(a.left instanceof Hn)s=i.slice(o+1);else{if(!(a.left instanceof tn&&u(a.left.expression)))continue;s=i.slice(o+1);var f=a.clone();a=a.left.expression,f.left=f.left.clone(),f.left.expression=a.left.clone(),s.unshift(f)}0!=s.length&&se(a.left,a.right,s)&&(r=!0,i=i.slice(0,o).concat(a,s))}}if(e instanceof He){for(o=e.definitions.length;--o>=0;){var c=e.definitions[o];if(c.value){se(c.name,c.value,i)&&(r=!0),oe(c,i,t)&&(r=!0);break}}e instanceof Le&&ae(e.definitions,i,t)&&(r=!0)}return r&&i}function u(e){return e instanceof pn&&"="==e.operator}}function J(e,n){if(e instanceof M&&!St(n)){var t=I(e.body);if(t){var i=[];if(ae(i,t.reverse(),0))return n.definitions=i.reverse().concat(n.definitions),t.reverse()}}}function oe(e,t,i){if(n.option("conditionals")&&!(e.name instanceof mn)){for(var r=!1,o=e.name.definition();t.length>i;){var a=Mi(n,o,e.value,t[0]);if(!a)break;e.value=a,t.shift(),r=!0}return r}}function ae(e,n,t){for(var i=!1;n.length>t;){var r=n[0];if(!(r instanceof pn))break;if("="!=r.operator)break;var o=r.left;if(!(o instanceof Hn))break;if(xt(o))break;if(o.scope.resolve()!==f)break;var a=o.definition();if(a.scope!==f)break;if(a.orig.length>a.eliminated+1)break;if("SymbolVar"!=a.orig[0].TYPE)break;var s=Rn(zn,o,o);e.push(Rn(Be,r,{name:s,value:r.right})),a.orig.push(s),a.replaced++,n.shift(),i=!0}return i}function se(e,t,i){var r=new b;for(r.set(e.name,!0);t instanceof pn&&"="==t.operator;)t.left instanceof Hn&&r.set(t.left.name,!0),t=t.right;if(t instanceof wn){var o=!1;do{if(!a(i[0]))break;i.shift(),o=!0}while(i.length);return o}function a(e){if(e instanceof pn&&"="==e.operator&&e.left instanceof tn){var i=e.left.expression;if(i instanceof Hn&&r.has(i.name)&&e.right.is_constant_expression(f)){var o=e.left.property;if(o instanceof S&&(a(o)&&(o=e.left.property=o.right.clone()),o=o.evaluate(n)),!(o instanceof S)){var s="__proto__"==(o=""+o)||n.has_directive("use strict")?function(e){var n=e.key;return"string"==typeof n&&n!=o&&"__proto__"!=n}:function(e){var n=e.key;return e instanceof Tn||e instanceof Sn?"string"==typeof n&&n!=o:"__proto__"!==n};if(g(t.properties,s))return t.properties.push(Rn(kn,e,{key:o,value:e.right})),!0}}}}}function fe(e){for(var n,t=!1,i=0,r=-1;i<e.length;i++){var o=e[i],a=e[r];if(o instanceof He)if(a&&a.TYPE==o.TYPE)a.definitions=a.definitions.concat(o.definitions),t=!0;else if(n&&n.TYPE==o.TYPE&&St(o))n.definitions=n.definitions.concat(o.definitions),t=!0;else if(o instanceof Le){(f=J(a,o))?(f.length&&(a.body=Zn(a,f),r++),t=!0):r++,e[r]=n=o}else e[++r]=o;else{if(o instanceof Te)o.value=u(o.value);else if(o instanceof U){if(f=H(a,o.init))t=!0,o.init=f.length?Zn(o.init,f):null;else{if(a instanceof Le&&(!o.init||o.init.TYPE==a.TYPE)){o.init&&(a.definitions=a.definitions.concat(o.init.definitions)),o=o.clone(),n=o.init=a,e[r]=l(o),t=!0;continue}if(n&&o.init&&n.TYPE==o.init.TYPE&&St(o.init))n.definitions=n.definitions.concat(o.init.definitions),o.init=null,t=!0;else if(o.init instanceof Le&&(n=o.init,f=J(a,o.init))){if(t=!0,0==f.length){e[r]=l(o);continue}a.body=Zn(a,f)}}}else if(o instanceof V){if(n&&n.TYPE==o.init.TYPE){var s=n.definitions.slice();o.init=o.init.definitions[0].name.convert_symbol(Hn,(function(e,n){s.push(Rn(Be,n,{name:n,value:null})),n.definition().references.push(e)})),n.definitions=s,t=!0}o.object=u(o.object)}else if(o instanceof ze)o.condition=u(o.condition);else if(o instanceof M){var f,c;if(f=H(a,o.body)){if(t=!0,!f.length)continue;o.body=Zn(o.body,f)}else if(a instanceof He&&(c=e[i+1])&&a.TYPE==c.TYPE&&(c=c.definitions[0]).value){t=!0,c.value=Zn(o,[o.body,c.value]);continue}}else(o instanceof Ce||o instanceof X)&&(o.expression=u(o.expression));e[++r]=n?l(o):o}}return e.length=r+1,t;function u(e){var n=H(a,e,1);if(!n)return e;t=!0;var i=e.tail_node();return n[n.length-1]!==i&&n.push(i.left),Zn(e,n)}function l(e){return e.transform(new ct((function(e,i,r){if(e instanceof He){if(n===e)return e;if(n.TYPE!=e.TYPE)return e;var o=this.parent();return o instanceof V&&o.init===e?e:St(e)?(n.definitions=n.definitions.concat(e.definitions),t=!0,o instanceof U&&o.init===e?null:r?d.skip:Rn($,e)):e}return e instanceof Ue||e instanceof K?e:q(e)?void 0:e})))}}}function Ct(e,n,t){var i,r=!1;function o(e){i?(i.push(e),vt(e)||(i.required=!0)):t.push(e)}n.walk(new ft((function(a,s){if(a instanceof ge)return a.extends=null,a.properties=[],o(a),!0;if(a instanceof He){var f=[];return a.remove_initializers(e,f)&&S.warn("Dropping initialization in unreachable code [{file}:{line},{col}]",a.start),f.length>0&&(a.definitions=f,o(a)),!0}if(a instanceof pe)return o(a),!0;if(a instanceof K)return!0;if(a instanceof F){var c=i;return i=[],s(),i.required?t.push(Rn(N,n,{body:i})):i.length&&[].push.apply(t,i),i=c,!0}a instanceof Oe||(r=!0)}))),r&&S.warn("Dropping unreachable code [{file}:{line},{col}]",n.start)}function Mt(e,n){return null==e||e.is_undefined||e instanceof tt||e instanceof fn&&"void"==e.operator&&!(n&&e.expression.has_side_effects(n))}Hn.DEFMETHOD("is_declared",(function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&Et[this.name]})),(kt=function(e,n){e.DEFMETHOD("is_truthy",n)})(S,c),kt(vn,u),kt(pn,(function(){return"="==this.operator&&this.right.is_truthy()})),kt(Z,u),kt(wn,u),kt(Qn,u),kt(en,(function(){return this.tail_node().is_truthy()})),kt(Hn,(function(){var e=this.fixed_value();if(!e)return!1;this.is_truthy=c;var n=e.is_truthy();return delete this.is_truthy,n})),function(e){function n(e,n,t){switch(e){case"-":return n.is_negative_zero()&&(!(t instanceof Gn)||0==t.value);case"&&":case"||":return n.is_negative_zero()||t.is_negative_zero();case"*":case"/":case"%":case"**":return!0;default:return!1}}e(S,u),e(vn,c),e(pn,(function(){var e=this.operator;return"="==e?this.right.is_negative_zero():n(e.slice(0,-1),this.left,this.right)})),e(un,(function(){return n(this.operator,this.left,this.right)})),e(Gn,(function(){return 0==this.value&&1/this.value<0})),e(Z,c),e(wn,c),e(Qn,c),e(en,(function(){return this.tail_node().is_negative_zero()})),e(Hn,(function(){var e=this.fixed_value();if(!e)return!0;this.is_negative_zero=u;var n=e.is_negative_zero();return delete this.is_negative_zero,n})),e(fn,(function(){return"+"==this.operator&&this.expression.is_negative_zero()||"-"==this.operator}))}((function(e,n){e.DEFMETHOD("is_negative_zero",n)})),function(e){function n(e,n){return n||/strict/.test(e.option("pure_getters"))}S.DEFMETHOD("may_throw_on_access",(function(e,n){return!e.option("pure_getters")||this._dot_throw(e,n)})),e(S,n),e(vn,c),e(pn,(function(e){var n=this.operator,t=this.left,i=this.right;return"="!=n?Ft[n.slice(0,-1)]&&(t._dot_throw(e)||i._dot_throw(e)):!!i._dot_throw(e)&&(!(t instanceof Hn)||(!(i instanceof un&&"||"==i.operator&&t.name==i.left.name)||i.right._dot_throw(e)))})),e(un,(function(e){return Ft[this.operator]&&(this.left._dot_throw(e)||this.right._dot_throw(e))})),e(_e,c),e(ln,(function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)})),e(Gn,c),e(rn,(function(e,t){if(!n(e,t))return!1;var i=this.expression;return i instanceof Hn&&(i=i.fixed_value()),!("prototype"==this.property&&o(i))})),e(Z,c),e(et,u),e(wn,(function(e,t){return n(e,t)&&!g(this.properties,(function(n){return n instanceof kn&&!("__proto__"===n.key&&n.value._dot_throw(e,t))}))})),e(Ln,(function(e,t){return n(e,t)&&!this.scope.resolve().new})),e(en,(function(e){return this.tail_node()._dot_throw(e)})),e(Hn,(function(e,t){if(this.is_undefined)return!0;if(!n(e,t))return!1;if(xt(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;var i=this.definition();if(s(i)&&!i.scope.rest&&g(i.scope.argnames,(function(e){return e instanceof Cn})))return i.scope.uses_arguments>2;var r=this.fixed_value();return!r||(this._dot_throw=u,r._dot_throw(e)?(delete this._dot_throw,!0):(this._dot_throw=c,!1))})),e(fn,(function(){return"void"==this.operator})),e(cn,c),e(tt,u)}((function(e,n){e.DEFMETHOD("_dot_throw",n)})),function(e){function n(e,n,t){switch(n){case"&&":return t.left.is_defined(e)&&t.right.is_defined(e);case"||":return t.left.is_truthy()||t.right.is_defined(e);case"??":return t.left.is_defined(e)||t.right.is_defined(e);default:return!0}}e(S,c),e(vn,u),e(pn,(function(e){var t=this.operator;return"="==t?this.right.is_defined(e):n(e,t.slice(0,-1),this)})),e(un,(function(e){return n(e,this.operator,this)})),e(ln,(function(e){return this.consequent.is_defined(e)&&this.alternative.is_defined(e)})),e(Gn,u),e(it,c),e(Z,u),e(wn,u),e(en,(function(e){return this.tail_node().is_defined(e)})),e(Hn,(function(e){if(this.is_undefined)return!1;if(xt(this)&&this.is_declared(e))return!0;if(this.is_immutable())return!0;var n=this.fixed_value();if(!n)return!1;this.is_defined=c;var t=n.is_defined(e);return delete this.is_defined,t})),e(fn,(function(){return"void"!=this.operator})),e(cn,u),e(tt,c)}((function(e,n){e.DEFMETHOD("is_defined",n)})),function(e){e(S,c),e(pn,(function(e){return"="==this.operator&&this.right.is_boolean(e)}));var n=_("in instanceof == != === !== < <= >= >");e(un,(function(e){return n[this.operator]||Ft[this.operator]&&this.left.is_boolean(e)&&this.right.is_boolean(e)})),e(ot,u);var t=_("every hasOwnProperty isPrototypeOf propertyIsEnumerable some");e(Qe,(function(e){if(!e.option("unsafe"))return!1;var n=this.expression;return n instanceof rn&&(t[n.property]||"test"==n.property&&n.expression instanceof Qn)})),e(ln,(function(e){return this.consequent.is_boolean(e)&&this.alternative.is_boolean(e)})),e(Ze,c),e(en,(function(e){return this.tail_node().is_boolean(e)})),e(Hn,(function(e){var n=this.fixed_value();if(!n)return!1;this.is_boolean=c;var t=n.is_boolean(e);return delete this.is_boolean,t}));var i=_("! delete");e(fn,(function(){return i[this.operator]}))}((function(e,n){e.DEFMETHOD("is_boolean",n)})),function(e){e(S,c);var n=_("- * / % ** & | ^ << >> >>>");e(pn,(function(e){return n[this.operator.slice(0,-1)]||"="==this.operator&&this.right.is_number(e)})),e(un,(function(e){return!!n[this.operator]||"+"==this.operator&&((this.left.is_boolean(e)||this.left.is_number(e))&&(this.right.is_boolean(e)||this.right.is_number(e)))}));var t=_(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);e(Qe,(function(e){if(!e.option("unsafe"))return!1;var n=this.expression;return n instanceof rn&&(t[n.property]||xt(n.expression)&&"Math"==n.expression.name)})),e(ln,(function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)})),e(Ze,c),e(Xn,u),e(en,(function(e){return this.tail_node().is_number(e)})),e(Hn,(function(e,n){var t=this.fixed_value();if(!t)return!1;if(n&&t instanceof fn&&"+"==t.operator&&t.expression.equivalent_to(this))return!1;this.is_number=c;var i=t.is_number(e);return delete this.is_number,i}));var i=_("+ - ~ ++ --");e(sn,(function(){return i[this.operator]}))}((function(e,n){e.DEFMETHOD("is_number",n)})),function(e){e(S,c),e(pn,(function(e){switch(this.operator){case"+=":if(this.left.is_string(e))return!0;case"=":return this.right.is_string(e)}})),e(un,(function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}));var n=_(["charAt","substr","substring","toExponential","toFixed","toLowerCase","toPrecision","toString","toUpperCase","trim"]);e(Qe,(function(e){if(!e.option("unsafe"))return!1;var t=this.expression;return t instanceof rn&&n[t.property]})),e(ln,(function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)})),e(en,(function(e){return this.tail_node().is_string(e)})),e(Jn,u),e(Hn,(function(e){var n=this.fixed_value();if(!n)return!1;this.is_string=c;var t=n.is_string(e);return delete this.is_string,t})),e(Wn,(function(e){return!this.tag||Ui(e,this.tag)})),e(fn,(function(){return"typeof"==this.operator}))}((function(e,n){e.DEFMETHOD("is_string",n)}));var Ft=_("&& || ??");function Pt(e,n,t){return n.print_to_string().length-e.print_to_string().length<(t||0)?n:e}function Nt(e,n,t){return Pt(Rn(M,e,{body:e}),Rn(M,n,{body:n}),t).body}function Ht(e,n,t,i){return(w(e)?Nt:Pt)(n,t,i)}function Rt(e){var n=Object.create(null);return Object.keys(e).forEach((function(t){n[t]=_(e[t])})),n}function Vt(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof O))return t}}function Wt(){return this.value?Rn(Ae,this.value,{value:this.value}):Vt(this.body)}function Gt(e,n){var t=n.evaluate(e);return t===n?n:Ht(e,n,t=ut(t,n).optimize(e),e.eval_threshold)}!function(e){function n(e,t){if(e instanceof S)return e.clone(!0);if(Array.isArray(e))return Rn(vn,t,{elements:e.map((function(e){return n(e,t)}))});if(e&&"object"==typeof e){var i=[];for(var r in e)y(e,r)&&i.push(Rn(kn,t,{key:r,value:n(e[r],t)}));return Rn(wn,t,{properties:i})}return ut(e,t)}function t(e){S.warn("global_defs {node} redefined [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col})}Q.DEFMETHOD("resolve_defines",(function(e){return e.option("global_defs")?(this.figure_out_scope({ie:e.option("ie")}),this.transform(new ct((function(n){var i=n._find_defs(e,"");if(i){for(var r,o=0,a=n;(r=this.parent(o++))&&r instanceof tn&&r.expression===a;)a=r;if(!Ut(a,r))return i;t(n)}})))):this})),e(S,f),e(rn,(function(e,n){return this.expression._find_defs(e,"."+this.property+n)})),e(Dn,(function(e){this.definition().global&&y(e.option("global_defs"),this.name)&&t(this)})),e(Hn,(function(e,t){if(this.definition().global){var i=e.option("global_defs"),r=this.name+t;return y(i,r)?n(i[r],this):void 0}}))}((function(e,n){e.DEFMETHOD("_find_defs",n)})),ae.DEFMETHOD("first_statement",Wt),se.DEFMETHOD("first_statement",Wt),Z.DEFMETHOD("first_statement",(function(){return Vt(this.body)})),Z.DEFMETHOD("length",(function(){for(var e=this.argnames,n=0;n<e.length&&!(e[n]instanceof Xe);n++);return n}));var Jt=["constructor","toString","valueOf"],Xt=Rt({Array:["indexOf","join","lastIndexOf","slice"].concat(Jt),Boolean:Jt,Function:Jt,Number:["toExponential","toFixed","toPrecision"].concat(Jt),Object:Jt,RegExp:["exec","test"].concat(Jt),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(Jt)}),Qt=Rt({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode","raw"]});function ei(e){if(!(e instanceof rn))return!1;var n=e.expression;if(!xt(n))return!1;var t=Qt[n.name];return t&&(t[e.property]||"Math"==n.name&&"random"==e.property)}!function(e){e(S,c),e(Gn,u),e(Qn,c);var n=_("! ~ - + void");e(fn,(function(){return n[this.operator]&&this.expression instanceof Gn}))}((function(e,n){e.DEFMETHOD("is_constant",n)})),function(e){S.DEFMETHOD("evaluate",(function(e,n){if(!e.option("evaluate"))return this;var t=[],i=this._eval(e,n,t,1);return t.forEach((function(e){delete e._eval})),n||!i||i instanceof RegExp?i:"function"==typeof i||"object"==typeof i?this:i}));var n=new ft((function(e){e instanceof pn&&t(e.left),e instanceof V&&t(e.init),e instanceof sn&&jt[e.operator]&&t(e.expression)}));function t(e){e instanceof gn?e.elements.forEach(t):e instanceof yn?e.properties.forEach((function(e){t(e.value)})):e instanceof tn?t(e.expression):e instanceof Hn&&e.definition().references.forEach((function(e){delete e._eval}))}e(A,(function(){throw new Error(v("Cannot evaluate a statement [{file}:{line},{col}]",this.start))})),e(ee,l),e(Kn,l),e(_e,l),e(S,l),e(Gn,(function(){return this.value})),e(pn,(function(e,i,r,o){var a=this.left;if(!i){if(!(a instanceof Hn))return this;if(!y(a,"_eval")){if(!a.fixed)return this;var s=a.definition();if(!s.fixed)return this;if(s.undeclared)return this;if(s.last_ref!==a)return this;if("m"==s.single_use)return this}}var f,c=this.operator;f=!y(a,"_eval")&&a instanceof Hn&&a.fixed&&a.definition().fixed?a:"="==c?this.right:Rn(un,this,{operator:c.slice(0,-1),left:a,right:this.right}),a.walk(n);var u=f._eval(e,i,r,o);return"object"==typeof u?this:(t(a),u)})),e(en,(function(e,t,i,r){if(!t)return this;for(var o=this.expressions,a=0,s=o.length-1;a<s;a++)o[a].walk(n);var f=o[s],c=f._eval(e,t,i,r);return c===f?this:c})),e(Z,(function(e){if(e.option("unsafe")){var n=function(){};return n.node=this,n.toString=function(){return"function(){}"},n}return this})),e(vn,(function(e,n,t,i){if(e.option("unsafe")){for(var r=[],o=0;o<this.elements.length;o++){var a=this.elements[o];if(a instanceof it)return this;var s=a._eval(e,n,t,i);if(a===s)return this;r.push(s)}return r}return this})),e(wn,(function(e,n,t,i){if(e.option("unsafe")){for(var r={},o=0;o<this.properties.length;o++){var a=this.properties[o];if(!(a instanceof kn))return this;var s=a.key;if(s instanceof S&&(s=s._eval(e,n,t,i))===a.key)return this;switch(s){case"__proto__":case"toString":case"valueOf":return this}if(r[s]=a.value._eval(e,n,t,i),r[s]===a.value)return this}return r}return this}));var i=_("! typeof void");e(fn,(function(e,r,o,a){var s=this.expression,f=this.operator;if(e.option("typeofs")&&"typeof"==f&&(s instanceof Z||s instanceof Hn&&s.fixed_value()instanceof Z))return"function";var c=s instanceof Hn&&s.definition();i[f]||c&&c.fixed||a++,s.walk(n);var u=s._eval(e,r,o,a);if(u===s){if(r&&"void"==f)return;return this}switch(f){case"!":return!u;case"typeof":return u instanceof RegExp?this:typeof u;case"void":return;case"~":return~u;case"-":return-u;case"+":return+u;case"++":case"--":if(!c)return this;if(!r){if(c.undeclared)return this;if(c.last_ref!==s)return this}return y(s,"_eval")&&(u=+(f[0]+1)+ +u),t(s),u}return this})),e(cn,(function(e,i,r,o){var a=this.expression;if(a instanceof Hn){if(!y(a,"_eval")){if(!a.fixed)return this;if(!i){var s=a.definition();if(!s.fixed)return this;if(s.undeclared)return this;if(s.last_ref!==a)return this}}}else if(!i)return this;a instanceof Hn&&a.definition().fixed||o++,a.walk(n);var f=a._eval(e,i,r,o);return f===a?this:(t(a),+f)}));var r=_("&& || === !==");e(un,(function(e,n,t,i){r[this.operator]||i++;var o=this.left._eval(e,n,t,i);if(o===this.left)return this;if(this.operator==(o?"||":"&&"))return o;var a,s=n&&!(o&&"object"==typeof o),f=this.right._eval(e,s,t,i);if(f===this.right)return this;switch(this.operator){case"&&":a=o&&f;break;case"||":a=o||f;break;case"??":a=null==o?f:o;break;case"|":a=o|f;break;case"&":a=o&f;break;case"^":a=o^f;break;case"+":a=o+f;break;case"-":a=o-f;break;case"*":a=o*f;break;case"/":a=o/f;break;case"%":a=o%f;break;case"<<":a=o<<f;break;case">>":a=o>>f;break;case">>>":a=o>>>f;break;case"==":a=o==f;break;case"===":a=o===f;break;case"!=":a=o!=f;break;case"!==":a=o!==f;break;case"<":a=o<f;break;case"<=":a=o<=f;break;case">":a=o>f;break;case">=":a=o>=f;break;case"**":a=Math.pow(o,f);break;case"in":if(f&&"object"==typeof f&&y(f,o)){a=!0;break}default:return this}if(isNaN(a))return e.find_parent(X)?this:a;if(e.option("unsafe_math")&&!n&&a&&"number"==typeof a&&("+"==this.operator||"-"==this.operator)){var c=Math.max(0,u(o),u(f));if(c<16)return+a.toFixed(c)}return a;function u(e){var n=/(\.[0-9]*)?(e[^e]+)?$/.exec(+e);return(n[1]||".").length-1-(n[2]||"").slice(1)}})),e(ln,(function(e,n,t,i){var r=this.condition._eval(e,n,t,i);if(r===this.condition)return this;var o=r?this.consequent:this.alternative,a=o._eval(e,n,t,i);return a===o?this:a})),e(Hn,(function(e,n,t,i){var r,o=this.fixed_value();if(!o)return this;if(y(o,"_eval"))r=o._eval();else{if(this._eval=l,r=o._eval(e,n,t,i),delete this._eval,r===o)return this;o._eval=function(){return r},t.push(o)}return r&&"object"==typeof r&&!function(e,n){var t=e.definition().escaped;switch(t.length){case 0:return!0;case 1:var i=!1;return t[0].walk(new ft((function(n){return!!i||(n===e?i=!0:n instanceof K||void 0)}))),i;default:return n<=t.depth}}(this,i)?this:r}));var o={Array:Array,Math:Math,Number:Number,Object:Object,String:String},a=Rt({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),s=_("global ignoreCase multiline source");function f(e,n,t,i,r){for(var o=[],a=0;a<e.length;a++){var s=e[a],f=s._eval(n,t,i,r);if(s===f)return;o.push(f)}return o}e(tn,(function(e,n,t,i){if(e.option("unsafe")){var r,f=this.expression;if(!xt(f)&&(null==(r=f._eval(e,n,t,i+1))||r===f))return this;var c=this.property;if(c instanceof S&&(c=c._eval(e,n,t,i))===this.property)return this;if(void 0===r){var u=a[f.name];if(!u||!u[c])return this;r=o[f.name]}else if(r instanceof RegExp){if(!s[c])return this}else if("object"==typeof r){if(!y(r,c))return this}else if("function"==typeof r)switch(c){case"name":return r.node.name?r.node.name.name:"";case"length":return r.node.length();default:return this}return r[c]}return this})),e(Qe,(function(e,t,i,r){var a=this.expression,s=a instanceof Hn?a.fixed_value():a;if(s instanceof ae||s instanceof ve||s instanceof ue){if(s.evaluating)return this;if(s.name&&s.name.definition().recursive_refs>0)return this;if(this.is_expr_pure(e))return this;var c=f(this.args,e,t,i,r);if(!g(s.argnames,(function(n,o){if(n instanceof Xe){if(!c)return!1;if(void 0===c[o]){var a=n.value._eval(e,t,i,r);if(a===n.value)return!1;c[o]=a}n=n.name}return!(n instanceof mn)})))return this;if(s.rest instanceof mn)return this;if(!c&&!t)return this;var u=s.first_statement();if(!(u instanceof Ae)){if(t){s.walk(n);var l=!1;if(s.evaluating=!0,P(s,new ft((function(n){return!!l||(n instanceof Ae?(n.value&&void 0!==n.value._eval(e,!0,i,r)&&(l=!0),!0):n instanceof K&&n!==s||void 0)}))),s.evaluating=!1,!l)return}return this}if(!(d=u.value))return;var p=[];return(!c||g(s.argnames,(function(e,n){return b(e,c[n])}))&&(!s.rest||b(s.rest,c.slice(s.argnames.length)))||t)&&(t&&s.argnames.forEach((function(e){e instanceof Xe&&e.value.walk(n)})),s.evaluating=!0,d=d._eval(e,t,i,r),s.evaluating=!1),p.forEach((function(e){delete e._eval})),d===u.value?this:d}if(e.option("unsafe")&&a instanceof tn){var d,h=a.property;if(h instanceof S&&(h=h._eval(e,t,i,r))===a.property)return this;var v=a.expression;if(xt(v)){var m=Qt[v.name];if(!m||!m[h])return this;d=o[v.name]}else{if(null==(d=v._eval(e,t,i,r+1))||d===v)return this;var _=Xt[d.constructor.name];if(!_||!_[h])return this;if(d instanceof RegExp&&d.global&&!(v instanceof Qn))return this}if(!(c=f(this.args,e,t,i,r)))return this;if("replace"==h&&"function"==typeof c[1])return this;try{return d[h].apply(d,c)}catch(y){S.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this,file:this.start.file,line:this.start.line,col:this.start.col})}finally{d instanceof RegExp&&(d.lastIndex=0)}}return this;function b(e,n){e instanceof Xe&&(e=e.name);var t=e.definition();if(t.orig[t.orig.length-1]!==e)return!1;var i=n;return t.references.forEach((function(e){e._eval=function(){return i},p.push(e)})),!0}})),e(Ze,l),e(Wn,(function(e,n,t,i){if(!e.option("templates"))return this;if(this.tag){if(!Ui(e,this.tag))return this;c=function(e){return e}}var r=f(this.expressions,e,n,t,i);if(!r)return this;for(var o=!1,a=c(this.strings[0]),s=0;s<r.length;s++)a+=r[s]+c(this.strings[s+1]);return o?(this._eval=l,this):a;function c(e){return"string"!=typeof(e=Vi(e))&&(o=!0),e}}))}((function(e,n){e.DEFMETHOD("_eval",n)})),function(e){function n(e){return Rn(fn,e,{operator:"!",expression:e})}function t(e,t,i){var r=n(e);if(i){var o=Rn(M,t,{body:t});return Pt(r,o)===o?t:r}return Pt(r,t)}e(S,(function(){return n(this)})),e(A,(function(){throw new Error("Cannot negate a statement")})),e(un,(function(e,i){var r=this.clone(),o=this.operator;if(e.option("unsafe_comps"))switch(o){case"<=":return r.operator=">",r;case"<":return r.operator=">=",r;case">=":return r.operator="<",r;case">":return r.operator="<=",r}switch(o){case"==":return r.operator="!=",r;case"!=":return r.operator="==",r;case"===":return r.operator="!==",r;case"!==":return r.operator="===",r;case"&&":return r.operator="||",r.left=r.left.negate(e,i),r.right=r.right.negate(e),t(this,r,i);case"||":return r.operator="&&",r.left=r.left.negate(e,i),r.right=r.right.negate(e),t(this,r,i)}return n(this)})),e(be,(function(){return n(this)})),e(ln,(function(e,n){var i=this.clone();return i.consequent=i.consequent.negate(e),i.alternative=i.alternative.negate(e),t(this,i,n)})),e(ne,(function(){return n(this)})),e(en,(function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),Zn(this,n)})),e(fn,(function(){return"!"==this.operator?this.expression:n(this)}))}((function(e,n){e.DEFMETHOD("negate",(function(e,t){return n.call(this,e,t)}))}));var ni=_("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError"),ti=_("Map Set WeakMap WeakSet");function ii(e){return e&&e.aborts()}Qe.DEFMETHOD("is_expr_pure",(function(e){if(e.option("unsafe")){var n=this.expression;if(xt(n)){if(ni[n.name])return!0;if(this instanceof Ze&&ti[n.name])return!0}if(ei(n))return!0}return e.option("annotations")&&this.pure||!e.pure_funcs(this)})),Wn.DEFMETHOD("is_expr_pure",(function(e){var n=this.tag;if(!n)return!0;if(e.option("unsafe")){if(xt(n)&&ni[n.name])return!0;if(n instanceof rn&&xt(n.expression)){var t=Qt[n.expression.name];return t&&(t[n.property]||"Math"==n.expression.name&&"random"==n.property)}}return!e.pure_funcs(this)})),S.DEFMETHOD("is_call_pure",c),Qe.DEFMETHOD("is_call_pure",(function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof rn))return!1;var t,i=n.expression,r=n.property;if(i instanceof vn)t=Xt.Array;else if(i.is_boolean(e))t=Xt.Boolean;else if(i.is_number(e))t=Xt.Number;else if(i instanceof Qn)t=Xt.RegExp;else if(i.is_string(e)){if(t=Xt.String,"replace"==r){var o=this.args[1];if(o&&!o.is_string(e))return!1}}else n.may_throw_on_access(e)||(t=Xt.Object);return t&&t[r]})),function(e){e(S,c),e(vn,u),e(pn,(function(){switch(this.operator){case"=":return this.right.safe_to_spread();case"&&=":case"||=":case"??=":return this.left.safe_to_spread()&&this.right.safe_to_spread()}return!0})),e(un,(function(){return!Ft[this.operator]||this.left.safe_to_spread()&&this.right.safe_to_spread()})),e(Gn,u),e(Z,u),e(wn,(function(){return g(this.properties,(function(e){return!(e instanceof Tn||e instanceof an)}))})),e(en,(function(){return this.tail_node().safe_to_spread()})),e(Hn,(function(){var e=this.fixed_value();return e&&e.safe_to_spread()})),e(sn,u)}((function(e,n){e.DEFMETHOD("safe_to_spread",n)})),function(e){function n(e,n,t){return!g(e,t?function(e){return e instanceof an?!t(e,n):!e.has_side_effects(n)}:function(e){return!e.has_side_effects(n)})}function t(e,n){var t=e.expression;return!t.is_string(n)||t.has_side_effects(n)}e(S,u),e(vn,(function(e){return n(this.elements,e,t)})),e(pn,(function(e){var n=this.left;if(!(n instanceof tn))return!0;var t=n.expression;return!(t instanceof Ln)||!t.scope.resolve().new||n instanceof on&&n.property.has_side_effects(e)||this.right.has_side_effects(e)})),e(un,(function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)||"in"==this.operator&&!Ii(this.right)})),e(j,(function(e){return n(this.body,e)})),e(Qe,(function(e){return!(this.is_expr_pure(e)||this.is_call_pure(e)&&!this.expression.has_side_effects(e))||n(this.args,e,t)})),e(Pe,(function(e){return this.expression.has_side_effects(e)||n(this.body,e)})),e(_e,(function(e){var t=this.extends;return!(!t||(t instanceof Hn&&(t=t.fixed_value()),a(t)))||n(this.properties,e)})),e(ye,(function(e){return this.key instanceof S&&this.key.has_side_effects(e)||this.static&&this.value&&this.value.has_side_effects(e)})),e(ln,(function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)})),e(Gn,c),e(He,(function(e){return n(this.definitions,e)})),e(gn,(function(e){return n(this.elements,e)})),e(bn,(function(e){return this.key instanceof S&&this.key.has_side_effects(e)||this.value.has_side_effects(e)})),e(yn,(function(e){return n(this.properties,e)})),e(rn,(function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)})),e($,c),e(ze,(function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)})),e(H,(function(e){return this.body.has_side_effects(e)})),e(Z,c),e(wn,(function(e){return n(this.properties,e,(function(e,n){var t=e.expression;return!t.safe_to_spread()||t.has_side_effects(n)}))})),e(Ln,c),e(xn,(function(e){return this.key instanceof S&&this.key.has_side_effects(e)||this.value.has_side_effects(e)})),e(en,(function(e){return n(this.expressions,e)})),e(M,(function(e){return this.body.has_side_effects(e)})),e(on,(function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)})),e(Ce,(function(e){return this.expression.has_side_effects(e)||n(this.body,e)})),e(Dn,c),e(Hn,(function(e){return!this.is_declared(e)||!k(this,e)})),e(Wn,(function(e){return!this.is_expr_pure(e)||n(this.expressions,e)})),e(je,(function(e){return n(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)})),e(sn,(function(e){return Bt[this.operator]||this.expression.has_side_effects(e)})),e(Be,(function(){return this.value}))}((function(e,n){e.DEFMETHOD("has_side_effects",n)})),function(e){function n(e,n){for(var t=e.length;--t>=0;)if(e[t].may_throw(n))return!0;return!1}function t(e,t){return!!e.may_throw(t)||(e instanceof Hn&&(e=e.fixed_value()),!(e instanceof Z)||(!!n(e.argnames,t)||(!!n(e.body,t)||te(e)&&e.value&&e.value.may_throw(t))))}e(S,u),e(Gn,c),e($,c),e(Z,c),e(Ln,c),e(Dn,c),e(vn,(function(e){return n(this.elements,e)})),e(pn,(function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Hn)&&this.left.may_throw(e)})),e(dn,(function(e){return this.expression.may_throw(e)})),e(un,(function(e){return this.left.may_throw(e)||this.right.may_throw(e)||"in"==this.operator&&!Ii(this.right)})),e(j,(function(e){return n(this.body,e)})),e(Qe,(function(e){if(n(this.args,e))return!0;if(this.is_expr_pure(e))return!1;this.may_throw=u;var i=t(this.expression,e);return delete this.may_throw,i})),e(Pe,(function(e){return this.expression.may_throw(e)||n(this.body,e)})),e(ln,(function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)})),e(Xe,(function(e){return this.name.may_throw(e)||this.value&&this.value.may_throw(e)})),e(He,(function(e){return n(this.definitions,e)})),e(rn,(function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e)})),e(V,(function(e){if(this.init.may_throw(e))return!0;var n=this.object;return!!n.may_throw(e)||(!((n=n.tail_node())instanceof vn||n.is_string(e))||this.body.may_throw(e))})),e(ze,(function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)})),e(H,(function(e){return this.body.may_throw(e)})),e(wn,(function(e){return n(this.properties,e)})),e(xn,(function(e){return this.value.may_throw(e)||this.key instanceof S&&this.key.may_throw(e)})),e(Ae,(function(e){return this.value&&this.value.may_throw(e)})),e(en,(function(e){return n(this.expressions,e)})),e(M,(function(e){return this.body.may_throw(e)})),e(on,(function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)})),e(Ce,(function(e){return this.expression.may_throw(e)||n(this.body,e)})),e(Hn,(function(e){return!this.is_declared(e)||!k(this,e)})),e(Wn,(function(e){if(n(this.expressions,e))return!0;if(this.is_expr_pure(e))return!1;if(!this.tag)return!1;this.may_throw=u;var i=t(this.tag,e);return delete this.may_throw,i})),e(je,(function(e){return(this.bcatch?this.bcatch.may_throw(e):n(this.body,e))||this.bfinally&&this.bfinally.may_throw(e)})),e(sn,(function(e){return this.expression.may_throw(e)&&!("typeof"==this.operator&&this.expression instanceof Hn)})),e(Be,(function(e){return this.name.may_throw(e)||this.value&&this.value.may_throw(e)}))}((function(e,n){e.DEFMETHOD("may_throw",n)})),function(e){function n(e,n){for(var t=e.length;--t>=0;)if(!e[t].is_constant_expression(n))return!1;return!0}e(S,c),e(vn,(function(e){return n(this.elements,e)})),e(un,(function(e){return this.left.is_constant_expression(e)&&this.right.is_constant_expression(e)&&("in"!=this.operator||Ii(this.right))})),e(_e,(function(e){var t=this.extends;return!(t&&!a(t))&&n(this.properties,e)})),e(ye,(function(e){return"string"==typeof this.key&&(!this.value||this.value.is_constant_expression(e))})),e(Gn,u),e(Z,(function(e){var n=this,t=!0,r=[];return n.walk(new ft((function(o,a){if(!t)return!0;if(o instanceof F){if(o===n)return;return r.push(o),a(),r.pop(),!0}if(o instanceof Hn){if(n.inlined||o.redef)return t=!1,!0;if(n.variables.has(o.name))return!0;var s=o.definition();if(i(s.scope,r))return!0;if(e&&!s.redefined()){var f=e.find_variable(o.name);if(f?f===s:s.undeclared)return t="f",!0}return t=!1,!0}return o instanceof Ln?(te(n)&&g(r,(function(e){return!(e instanceof K)||te(e)}))&&(t=!1),!0):void 0}))),t})),e(wn,(function(e){return n(this.properties,e)})),e(xn,(function(e){return"string"==typeof this.key&&this.value.is_constant_expression(e)})),e(sn,(function(e){return this.expression.is_constant_expression(e)}))}((function(e,n){e.DEFMETHOD("is_constant_expression",n)})),function(e){function n(){var e=this.body.length;return e>0&&ii(this.body[e-1])}e(A,p),e(Se,l),e(N,n),e(Me,n),e(ze,(function(){return this.alternative&&ii(this.body)&&ii(this.alternative)&&this}))}((function(e,n){e.DEFMETHOD("aborts",n)}));var ri=_(["use asm","use strict"]);function oi(e,n,t){switch(e.body.length){case 0:return t?d.skip:Rn($,e);case 1:var i=e.body[0];return vt(i)?n instanceof Y&&i instanceof pe?e:i:e}return e}function ai(e,n){n.option("rests")&&(e.uses_arguments||e.rest instanceof gn&&n.drop_fargs(e,n.parent())&&(e.argnames=e.argnames.concat(e.rest.elements),e.rest=e.rest.rest))}function si(e,n){if(!n.option("arrows"))return e;ai(e,n);var t=zt(e.value?[e.first_statement()]:e.body,n);switch(t.length){case 1:var i=t[0];if(i instanceof Ae){e.body.length=0,e.value=i.value;break}default:e.body=t,e.value=null}return e}e(O,(function(e,n){return!n.option("directives")||ri[e.value]&&n.has_directive(e.value)===e?e:Rn($,e)})),e(D,(function(e,n){return n.option("drop_debugger")?Rn($,e):e})),e(H,(function(e,n){return n.option("dead_code")&&e.body instanceof $e&&n.loopcontrol_target(e.body)===e.body?Rn($,e):n.option("unused")&&0==e.label.references.length?e.body:e})),e(Oe,(function(e,n){if(!n.option("dead_code"))return e;var t=e.label;if(t){var i=n.loopcontrol_target(e);e.label=null,n.loopcontrol_target(e)===i?m(t.thedef.references,e):e.label=t}return e})),e(j,(function(e,n){return e.body=zt(e.body,n),e})),e(N,(function(e,n){return e.body=zt(e.body,n),oi(e,n.parent())})),e(Z,(function(e,n){return ai(e,n),e.body=zt(e.body,n),e})),e(ae,si),e(se,si),e(ue,(function(e,n){ai(e,n),e.body=zt(e.body,n);var t=n.parent();if(n.option("inline"))for(var i=0;i<e.body.length;i++){var r=e.body[i];if(!(r instanceof O)){if(r instanceof Ae){if(i!=e.body.length-1)break;var o=r.value;if(!o||"Call"!=o.TYPE)break;if(o.is_expr_pure(n))break;var a=o.expression;if(a instanceof Hn){if(e.name&&e.name.definition()===a.definition())break;a=a.fixed_value()}if(!(a instanceof ve||a instanceof ue))break;if(a.rest)break;if(a.uses_arguments)break;if(a===o.expression){if(a.parent_scope!==e)break;if(!g(a.enclosed,(function(n){return n.scope!==e})))break}if(a.name&&(t instanceof Ee||t instanceof En)&&t.value===n.self())break;if(a.contains_this())break;var s=a.argnames.length;if(s>0&&n.option("inline")<2)break;if(s>e.argnames.length)break;if(!g(e.argnames,(function(e){return e instanceof Cn})))break;if(!g(o.args,(function(e){return!(e instanceof an)})))break;for(var f=0;f<s;f++){var c=o.args[f];if(!(c instanceof Hn))break;if(c.definition()!==e.argnames[f].definition())break}if(f<s)break;for(;f<o.args.length&&!o.args[f].has_side_effects(n);f++);if(f<o.args.length)break;if(s<e.argnames.length&&!n.drop_fargs(e,t)){if(!n.drop_fargs(a,o))break;do{a.argnames.push(a.make_var(Cn,a,"argument_"+s))}while(++s<e.argnames.length)}return o.expression}break}}return e}));var fi=_("arguments await yield");function ci(e,n){for(var t=n.length;--t>=0;)n[t]||(n[t]=Rn(it,e))}function ui(e,n){var t=Rn(be,e,e);return t.name&&(t.name=n?null:Rn(jn,t.name,t.name)),t}function li(e,n){var t;switch(e.CTOR){case de:t=fe;break;case he:t=ce;break;case ve:t=ue;break;case me:t=le}var i=Rn(t,e,e);return i.name=n?null:Rn(Fn,e.name,e.name),i}function pi(e,n){e.walk(new ft((function(t){return t instanceof Ae?(n(t),!0):t instanceof K&&t!==e||void 0})))}function di(e){var n=Object.create(null);return pi(e,(function(e){var t=e.value;if(t&&(t=t.tail_node()),t instanceof Hn){var i=t.definition().id;n[i]=(n[i]||0)+1}})),n}function hi(e,n,t){if(t.exposed(e))return!1;switch(e.references.length-e.replaced-(n[e.id]||0)){case e.drop_return:return"d";case e.bool_return:return!0}}function vi(e,n){pi(e,(function(e){e.in_bool=!0;var t=e.value;if(t){var i=wi(n,t);i?i instanceof S||(t=t.drop_side_effect_free(n),e.value=t?Zn(e.value,[t,Rn(Xn,e.value,{value:1})]):Rn(Xn,e.value,{value:1})):(t=t.drop_side_effect_free(n),e.value=t?Zn(e.value,[t,Rn(Xn,e.value,{value:0})]):null)}}))}function mi(e,n){if(!e.name||!n.option("ie"))return!0;var t=e.name.definition();return!n.exposed(t)&&g(t.references,(function(e){return!(e instanceof Hn)}))}function _i(e,n,t){if(n instanceof Z){var i=te(n),r=ie(n),o=!1,a=!1;if(i&&e.option("arrows"))if(n.value){if(!r||Hi(e,n.value)){var s=n.value.drop_side_effect_free(e);s!==n.value&&(o=!0,n.value=s)}}else a=!0;else if(!re(n))if(!t&&n.name){var f=n.name.definition();a=f.references.length==f.replaced}else a=!0;if(a&&(n.process_expression(!1,(function(n){var t=n.value;if(t){if(r&&!Hi(e,t))return n;t=t.drop_side_effect_free(e,!0)}return o=!0,t?Rn(M,n,{body:t}):Rn($,n)})),pi(n,(function(n){var t=n.value;if(t){if(r&&!Hi(e,t))return;var i=t.drop_side_effect_free(e);i!==t&&(o=!0,n.value=i)}}))),r&&e.option("awaits")){a&&n.process_expression("awaits",(function(n){var t=n.body;if(t instanceof dn){if(Hi(e,t.expression)){if(o=!0,!(t=t.expression.drop_side_effect_free(e,!0)))return Rn($,n);n.body=t}}else if(t instanceof en){for(var i=t.expressions,r=i.length;--r>=0;){var a=i[r];if(!(a instanceof dn))break;var s=a.expression;if(!Hi(e,s))break;if(o=!0,i[r]=s.drop_side_effect_free(e))break}switch(r){case-1:return Rn($,n);case 0:n.body=i[0];break;default:i.length=r+1}}return n}));var c=!a&&n.name||i&&n.value&&!Hi(e,n.value),u=new ft((function(t){return!!c||(u.parent()===n&&t.may_throw(e)||t instanceof dn||t instanceof J?c=!0:t instanceof Ae?t.value&&!Hi(e,t.value)?c=!0:void 0:t instanceof K&&t!==n||void 0)}));if(n.walk(u),!c){var l;switch(n.CTOR){case se:l=ae;break;case fe:l=ue;break;case ce:l=le}return Rn(l,n,n)}}return o&&n.clone()}}function gi(e,n,t){t||(t=Oe);var i=!1,r=new ft((function(n){return!!(i||n instanceof K)||(n instanceof t&&r.loopcontrol_target(n)===e?i=!0:void 0)}));return n instanceof H&&r.push(n),r.push(e),e.body.walk(r),i}function bi(e,n){var t=a(e.body);if(n.option("dead_code")&&(t instanceof $e||t instanceof qe&&s(t)||t instanceof Te)){var i=[];q(e.init)?i.push(e.init):e.init&&i.push(Rn(M,e.init,{body:e.init}));var r=s(t)||t instanceof Te;return e.condition&&r?i.push(Rn(ze,e,{condition:e.condition,body:t,alternative:null})):e.condition?i.push(Rn(M,e.condition,{body:e.condition})):r&&i.push(t),Ct(n,e.body,i),Rn(N,e,{body:i})}if(t instanceof ze){var o=a(t.body);if(o instanceof $e&&!s(o)){e.condition?e.condition=Rn(un,e.condition,{left:e.condition,operator:"&&",right:t.condition.negate(n)}):e.condition=t.condition.negate(n);i=mt(t.alternative);return Ct(n,t.body,i),f(i)}if((o=a(t.alternative))instanceof $e&&!s(o)){e.condition?e.condition=Rn(un,e.condition,{left:e.condition,operator:"&&",right:t.condition}):e.condition=t.condition;i=mt(t.body);return Ct(n,t.alternative,i),f(i)}}return e;function a(e){return e instanceof N?e.body[0]:e}function s(e){return n.loopcontrol_target(e)!==n.self()}function f(t){return e.body instanceof N?(e.body=e.body.clone(),e.body.body=t.concat(e.body.body.slice(1)),e.body=e.body.transform(n)):e.body=Rn(N,e.body,{body:t}).transform(n),bi(e,n)}}function yi(e,n,t){if(e instanceof en&&(e=e.tail_node()),e instanceof un)if(e.left instanceof Jn){if(e.right instanceof fn&&"typeof"==e.right.operator){var i=e.right.expression;if(xt(i)){var r,o="undefined"==e.left.value;switch(e.operator){case"==":r=o?t:n;break;case"!=":r=o?n:t;break;default:return}if(r){var a,s=!1,f=i.definition(),c=[],u=[],l=new ft((function(e,n){if(s)return!0;if(e instanceof pn){var t=e.left;if(!(t instanceof Hn&&t.definition()===f))return;switch(e.right.walk(l),e.operator){case"=":case"&&=":s=!0}return!0}if(e instanceof Qe)return n(),(a=e.expression.tail_node())instanceof Hn&&(a=a.fixed_value(),i=c.length),a instanceof Z?h(u,a)&&a.walk(l):s=!0,i>=0&&(c.length=i),!0;if(e instanceof R){var i=c.length;return n(),s&&(c.length=i),!0}if(e instanceof U){e.init&&e.init.walk(l);i=c.length;return e.condition&&e.condition.walk(l),e.body.walk(l),e.step&&e.step.walk(l),s&&(c.length=i),!0}if(e instanceof V){e.object.walk(l);i=c.length;return e.init.walk(l),e.body.walk(l),s&&(c.length=i),!0}if(e instanceof K){if(e===a)return;return!0}return e instanceof Hn?(e.definition()===f&&c.push(e),!0):void 0}));r.walk(l),c.forEach((function(e){e.defined=!0}))}}}}else switch(e.operator){case"&&":yi(e.left,n),yi(e.right,n);break;case"||":yi(p(e.left),t),yi(p(e.right),t)}function p(e){if(e instanceof un)switch(e.operator){case"==":return(e=e.clone()).operator="!=",e;case"!=":return(e=e.clone()).operator="==",e}}}function wi(e,n,t){return!!n.truthy||!(n.falsy&&!t)&&(!!n.is_truthy()||n.evaluate(e,!0))}function xi(e,n){var t,i=0,r=!1,o=e.self();if(!q(o))for(;;){if(t=o,(o=e.parent(i++))instanceof un){var a=o.operator;if(!Ft[a])return;var s=o.left;if(s===t)continue;if(c(s))switch(a){case"&&":n[r?"falsy":"truthy"]=!0;break;case"||":case"??":n[r?"truthy":"falsy"]=!0}}else if(o instanceof ln){var f=o.condition;if(f===t)continue;if(c(f))switch(t){case o.consequent:n[r?"falsy":"truthy"]=!0;break;case o.alternative:n[r?"truthy":"falsy"]=!0}}else{if(o instanceof Te)break;if(o instanceof ze)break;if(o instanceof en){if(o.expressions[0]===t)continue}else if(o instanceof M)break}return}for(;;){if(t=o,(o=e.parent(i++))instanceof N){if(o.body[0]===t)continue}else if(o instanceof ze&&c(o.condition))switch(t){case o.body:n[r?"falsy":"truthy"]=!0;break;case o.alternative:n[r?"truthy":"falsy"]=!0}return}function c(e){return!!n.equivalent_to(e)||e instanceof fn&&("!"==e.operator&&(!!n.equivalent_to(e.expression)&&(r=!0,!0)))}}function ki(e){return function(n,t){var i=!1;return this.definitions.forEach((function(r){r.value&&(i=!0),r.name.match_symbol((function(i){i instanceof Dn&&t.push(Rn(Be,i,{name:i,value:e(n,i)}))}),!0)})),i}}function Ei(e){return"arguments"!=e.name&&e.orig.length<(e.orig[0]instanceof Fn?3:2)}function Si(e,n){if(e.exposed(n))return!0;for(var t=n.scope.resolve(),i=n.scope;i!==t;)if((i=i.parent_scope).var_names().has(n.name))return!0}function Ti(e){return Rn(Le,e,{definitions:e.definitions.map((function(e){return Rn(Be,e,{name:e.name.convert_symbol(zn,(function(e,n){var t=e.definition();t.orig[t.orig.indexOf(n)]=e;var i=t.scope.resolve();t.scope!==i&&(t.scope=i,i.variables.set(t.name,t),i.enclosed.push(t),i.var_names().set(t.name,!0))})),value:e.value})}))})}function Ai(e,n){if(!n.fixed_value())return!1;var t=n.definition();return Ei(t)&&Bi(t)&&!Si(e,t)}function Di(e,n){return n.option("varify")&&g(e.definitions,(function(e){return!e.name.match_symbol((function(e){if(e instanceof Dn)return!Ai(n,e)}),!0)}))?Ti(e):e}function Oi(e,n){if(n.option("optional_chains")&&e.terminal)do{var t=e.expression;if(e.optional){var i=wi(n,t,!0);if(null==i)return Rn(fn,e,{operator:"void",expression:t}).optimize(n);i instanceof S||(e.optional=!1)}e=t}while(("Call"==e.TYPE||e instanceof tn)&&!e.terminal)}function $i(e,n){var t=e.expression;if(!(t instanceof en))return e;var i=t.expressions.slice(),r=e.clone();return r.expression=i.pop(),i.push(r),Zn(e,i)}function qi(e,n,t){var i=e.expression,r=i instanceof Hn?i.fixed_value():i;if(r instanceof Z&&!r.uses_arguments&&!r.pinned()&&!(t&&t.indexOf(r)<0)){var o=e.args;if(g(o,(function(e){return!(e instanceof an)}))){var a=r.argnames,s=r===i&&!r.name;if(r.rest){if(!s||!n.option("rests"))return;var f=a.length;for(o=o.slice(0,f);o.length<f;)o.push(Rn(tt,e).optimize(n));o.push(Rn(vn,e,{elements:e.args.slice(f)})),a=a.concat(r.rest),r.rest=null}else o=o.slice(),a=a.slice();for(var u=0,l=0,p=s&&n.option("default_values"),d=s&&n.drop_fargs(r,e)?function(e,t){return!e||(e instanceof gn?0==e.elements.length&&!e.rest&&t instanceof vn:e instanceof yn?0==e.properties.length&&!e.rest&&t&&!t.may_throw_on_access(n):e.unused)}:c,h=[],v=0;v<o.length;v++){var m=a[v];if(p&&m instanceof Xe&&o[v].is_defined(n)&&(a[v]=m=m.name),m&&void 0===m.unused){if(d(m,o[v])){_=o[v].drop_side_effect_free(n);a.splice(v,1),o.splice(v,1),_&&h.push(_),v--;continue}h.push(o[v]),o[u++]=Zn(e,h),h=[]}else{var _=o[v].drop_side_effect_free(n);if(d(m)){m&&a.splice(v,1),o.splice(v,1),_&&h.push(_),v--;continue}if(_)h.push(_),o[u++]=Zn(e,h),h=[];else if(m){if(!h.length){o[u++]=Rn(Xn,o[v],{value:0});continue}o[u++]=Zn(e,h),h=[]}}l=u}for(;v<a.length;v++)d(a[v])&&a.splice(v--,1);if(r.argnames=a,o.length=l,e.args=o,h.length){var b=Zn(e,h);o.push(o.length<a.length?Rn(fn,e,{operator:"void",expression:b}):b)}}}}function zi(e){var n=[];return ie(e)&&n.push("await"),re(e)&&n.push("yield"),n.length&&_(n)}function Ci(e,n){if(!n)return!0;var t=!0,i=new ft((function(r){if(!t)return!0;if(r instanceof K){if(r===e)return;if(te(r))for(var o=0;t&&o<r.argnames.length;o++)r.argnames[o].walk(i);else r instanceof pe&&n[r.name.name]&&(t=!1);return!0}r instanceof An&&n[r.name]&&r!==e.name&&(t=!1)}));return e.walk(i),t}function Mi(e,n,t,i){if(i instanceof un&&("&&"==i.operator||"||"==i.operator)&&i.right instanceof pn&&"="==i.right.operator&&i.right.left instanceof Hn&&i.right.left.definition()===n&&!t.has_side_effects(e)&&r(i.left)&&r(i.right.right))return n.replaced++,"&&"==i.operator?Rn(ln,i,{condition:i.left,consequent:i.right.right,alternative:t}):Rn(ln,i,{condition:i.left,consequent:t,alternative:i.right.right});function r(t){if(!t.has_side_effects(e)){var i=!1;return t.walk(new ft((function(e){return!!i||(e instanceof Hn&&e.definition()===n?i=!0:void 0)}))),!i}}}K.DEFMETHOD("merge_variables",(function(e){if(e.option("merge_vars")){var n,t,i={},r=this,o=[],a=[],s=0,f=new b,c=Object.create(null),u=Object.create(null),l=new ft((function(o,a){if(o instanceof pn){var s=o.left,u=o.right;if(s instanceof mn){u.walk(l);var p=new ft((function(e){if(!(e instanceof mn))return e instanceof Xe?(E(),e.value.walk(l),T(),e.name.walk(p)):e instanceof bn?e.key instanceof S?(E(),i.block=e,e.key.walk(l),e.value.walk(p),T()):e.value.walk(p):e instanceof Hn?A(e):e.walk(l),!0}));return s.walk(p),!0}return Ft[o.operator.slice(0,-1)]?(s.walk(l),E(),u.walk(l),s instanceof Hn&&A(s),T(),!0):s instanceof Hn?("="!=o.operator&&A(s,!0),u.walk(l),A(s),!0):void 0}if(o instanceof un){if(!Ft[o.operator])return;return k(o),!0}var d;if(o instanceof $e)return(d=l.loopcontrol_target(o))instanceof Y||D(d),!0;if(o instanceof Qe)return(g=o.expression)instanceof ne?(o.args.forEach((function(e){e.walk(l)})),g.walk(l)):(a(),x(g)),!0;if(o instanceof _e)return o.name&&o.name.walk(l),o.extends&&o.extends.walk(l),o.properties.filter((function(e){return e.key instanceof S&&e.key.walk(l),e.value})).forEach((function(e){e.static?e.value.walk(l):(E(),i.block=o,e.value.walk(l),T())})),!0;if(o instanceof ln)return k(o.condition,o.consequent,o.alternative),!0;if(o instanceof qe)return(d=l.loopcontrol_target(o))instanceof L&&D(d),!0;if(o instanceof L){E(),i.block=o,i.loop=!0;var h=i;return o.body.walk(l),i.inserted===o&&(i=h),o.condition.walk(l),T(),!0}if(o instanceof U)return o.init&&o.init.walk(l),E(),i.block=o,i.loop=!0,o.condition&&o.condition.walk(l),o.body.walk(l),o.step&&o.step.walk(l),T(),!0;if(o instanceof V)return o.object.walk(l),E(),i.block=o,i.loop=!0,o.init.walk(l),o.body.walk(l),T(),!0;if(o instanceof ze)return k(o.condition,o.body,o.alternative),!0;if(o instanceof H){E(),i.block=o;h=i;return o.body.walk(l),i.inserted===o&&(i=h),T(),!0}if(o instanceof K){if(E(),i.block=o,o===r&&(t=i),o instanceof Z){o.name&&(c[o.name.definition().id]=!1);var v=l.parent(),m=v&&"Call"==v.TYPE&&v.expression===o,_=(p=o.uses_arguments&&!l.has_directive("use strict")?function(e){e instanceof Cn&&(c[e.definition().id]=!1)}:function(e){e instanceof Cn&&A(e)},new ft((function(e){if(e instanceof Dn&&(c[e.definition().id]=!1),e instanceof Hn){var n=e.definition(),t=o.variables.get(e.name);if(t&&(t===n||n.undeclared||o.parent_scope.find_variable(e.name)===n))c[n.id]=!1,c[t.id]=!1;else if(m){var r=i;T(),A(e,!0),i=r}else A(e,!0);return!0}})));o.argnames.forEach((function(e){e.mark_symbol(p,_)})),o.rest&&o.rest.mark_symbol(p,_)}return oe(o,l),T(),!0}if(o instanceof on){var g=o.expression;return o.optional?(g.walk(l),E(),o.property.walk(l),T()):a(),x(g),!0}if(o instanceof Ce){o.expression.walk(l);h=i;return o.body.forEach((function(e){e instanceof Fe||(e.expression.walk(l),h===i&&E())})),i=h,o.body.forEach((function(e){E(),i.block=o;var n=i;P(e,l),i.inserted===o&&(i=n),T()})),!0}if(o instanceof On||o instanceof qn)return c[o.definition().id]=!1,!0;if(o instanceof Hn)return A(o,!0),!0;if(o instanceof je){var b=n;return n=o,P(o,l),o.bcatch&&(o.bcatch.argname&&o.bcatch.argname.mark_symbol((function(e){if(e instanceof Nn){var n=e.definition();c[n.id]=!1,(n=n.redefined())&&(c[n.id]=!1)}}),l),o.bfinally||(n=b)?P(o.bcatch,l):(E(),P(o.bcatch,l),T())),n=b,o.bfinally&&o.bfinally.walk(l),!0}if(o instanceof sn){if(!jt[o.operator])return;var y=o.expression;if(!(y instanceof Hn))return;return A(y,!0),!0}if(o instanceof Be){var w=o.value;return w?w.walk(l):w=i.block instanceof V&&i.block.init===l.parent(),o.name.mark_symbol(w?function(e){if(e instanceof Dn)return e instanceof zn?A(e):c[e.definition().id]=!1,!0}:function(e){if(e instanceof Dn){var n=e.definition().id;return e instanceof zn?n in c?c[n]&&c[n].push(e):f.add(n,e):c[n]=!1,!0}},l),!0}if(o instanceof B)return E(),i.block=o,i.loop=!0,a(),T(),!0;function x(n){if(e.option("ie")){var t=nn(n);t instanceof Hn&&t.walk(l)}}function k(e,n,t){var r=i,o=[r,r];if(e instanceof un)switch(e.operator){case"&&":o[0]=k(e.left,e.right)[0];break;case"||":case"??":o[1]=k(e.left,null,e.right)[1];break;default:e.walk(l)}else e instanceof ln?k(e.condition,e.consequent,e.alternative):e.walk(l);return i=o[0],n&&(E(),n.walk(l)),o[0]=i,i=o[1],t&&(E(),t.walk(l)),o[1]=i,i=r,o}}));l.directives=Object.create(e.directives),r.walk(l);for(var p=!1,d=Object.create(null);o.length&&a.length;){var h=a.shift();if(h){var v=h.definition,m=c[v.id];if(m){for(m={end:m.end};v.id in d;)v=d[v.id];m.start=c[v.id].start;var _=[];do{var w=o.shift();if(!(h.index>w.index)){var x=w.definition.id;if(x in u){var k=c[x];if(k){if(k.start.block===m.start.block&&$(k,m)&&(!k.start.loop&&Bi(v)||$(m,k))&&(!e.option("webkit")||Lt(v)===Lt(w.definition))&&!w.definition.const_redefs&&g(k,(function(e){return e.scope.find_variable(v.name)===v}))){k.forEach((function(e){e.thedef=v,e.name=v.name,e instanceof Hn?v.references.push(e):v.orig.push(e)})),w.definition.fixed||(v.fixed=!1),d[x]=v,p=!0;break}_.push(w)}}}}while(o.length);_.length&&(o=_.concat(o))}}}return p}function E(){i=Object.create(i)}function T(){i=Object.getPrototypeOf(i)}function A(l,p){var d,h=l.definition(),v=i;if(n&&(E(),v=i,T()),h.id in c){if(!(m=c[h.id]))return;if(m.start.block!==v.block)return c[h.id]=!1;if(m.push(l),m.end=v,h.id in u)a[u[h.id]]=null;else if(!p)return}else{if((d=r.variables.get(h.name))!==h)return d&&t===v&&(c[d.id]=!1),c[h.id]=!1;if(e.exposed(h)||fi[l.name])return c[h.id]=!1;var m;if((m=f.get(h.id)||[]).push(l),c[h.id]=m,!p)return m.start=v,o.push({index:s++,definition:h});if(v.block!==r)return c[h.id]=!1;m.start=t}u[h.id]=a.length,a.push({index:s++,definition:h})}function D(e){for(var n=[];;){if(y(i,"block")){var t=i.block;if(t instanceof H&&(t=t.body),t===e)break}n.push(i),T()}for(i.inserted=i.block,E();n.length;){var r=n.pop();E(),y(r,"block")&&(i.block=r.block),y(r,"loop")&&(i.loop=r.loop)}}function O(e,n){return e===n||e.isPrototypeOf(n)}function $(e,n){return O(e.start,e.end)||O(e.start,n.start)}})),K.DEFMETHOD("drop_unused",(function(e){if(e.option("unused")){var n=this,t=!(n instanceof Q)||e.toplevel.funcs,o=!(n instanceof Q)||e.toplevel.vars,a=/keep_assign/.test(e.option("unused"))?c:function(n,t){var i,r=!1;if(n instanceof pn?(n.write_only||"="==n.operator)&&(i=a(n.left,t)):n instanceof sn&&n.write_only&&(i=a(n.expression,t)),i instanceof Hn){var o=i.definition();if(!l[o.id]&&!e.exposed(o)&&k(i,e,r))return i}function a(n,t){if(n instanceof tn){var i=n.expression;if(!i.may_throw_on_access(e,!0))return r=!0,t&&n instanceof on&&t.unshift(n.property),a(i,t)}else if(n instanceof pn&&"="==n.operator){n.write_only="p";var o=a(n.right);return t?(t.assign=n,o instanceof Hn?o:n.left):o}return n}},u=Object.create(null),l=Object.create(null),p=function(t){return p=function n(t,r,o){var a=e.parent(r);if(!a)return o;var s=a instanceof Z&&i(t,a.argnames);return n(a,r+1,s?function(e){var n=o(e);if(n)return n;if(n=a.variables.get(e)){var t=n.orig[0];if(t instanceof Cn||t instanceof Fn)return n}}:a.variables?function(e){return o(e)||a.variables.get(e)}:o)}(n,0,f),p(t)},v=Object.create(null),m=[],_=Object.create(null),y=Object.create(null),w=Object.create(null),E=Object.create(null);n instanceof Q&&e.top_retain&&n.variables.each((function(n){e.top_retain(n)&&!(n.id in _)&&(_[n.id]=!0,m.push(n))}));var T=new b,A=new b,D=this,q=new ft((function(i,r){if(i instanceof Z&&i.uses_arguments&&!q.has_directive("use strict")&&i.each_argname((function(e){var n=e.definition();n.id in _||(_[n.id]=!0,m.push(n))})),i!==n){if(D===n){if(i instanceof ge){var a=i.name.definition(),s=t&&!a.exported;s||a.id in _||(_[a.id]=!0,m.push(a)),i.extends&&i.extends.walk(q);var f=q.parent()instanceof Ve;f&&(l[a.id]=!0);var c=[];return i.properties.forEach((function(e){e.key instanceof S&&e.key.walk(q);var n=e.value;n&&(e instanceof we&&e.static?(!f&&n.contains_this()&&(f=!0),u(n)):c.push(n))})),c.forEach(s&&f?u:function(e){A.add(a.id,e)}),!0}if(i instanceof pe){a=i.name.definition();if(t&&!a.exported||a.id in _||(_[a.id]=!0,m.push(a)),A.add(a.id,i),!(q.parent()instanceof Ve))return!0;l[a.id]=!0}if(i instanceof He)return i.definitions.forEach((function(n){var t=n.value,r=t&&(n.name instanceof mn||t.has_side_effects(e)),a=r&&"="==t.tail_node().operator;n.name.mark_symbol((function(e){if(e instanceof Dn){var s=e.definition();if(E[s.id]=(E[s.id]||0)+1,i instanceof Le&&s.orig[0]instanceof Nn){var f=s.redefined();f&&(E[f.id]=(E[f.id]||0)+1)}return s.id in _||o&&!s.exported&&!(i instanceof Ye?s.redefined():s.const_redefs)&&(i instanceof Le||Ei(s))||(_[s.id]=!0,m.push(s)),t&&(r?a&&ye(s,e,w[s.id]):A.add(s.id,t),T.add(s.id,n)),!0}}),q),r&&t.walk(q)})),!0;if(i instanceof Cn){a=i.definition();return E[a.id]=(E[a.id]||0)+1,T.add(a.id,i),!0}if(i instanceof $n)return(a=i.definition()).id in _||o&&Ei(a)||(_[a.id]=!0,m.push(a)),!0}return Ee(i,r,!0)}function u(e){var n=D;D=i,e.walk(q),D=n}}));q.directives=Object.create(e.directives),n.walk(q);var z=e.option("keep_fnames")?c:e.option("ie")?function(n){return!e.exposed(n)&&n.references.length==n.replaced}:function(e){return!(e.id in _)||!(e.orig.length-e.eliminated<2)&&(e.orig[1]instanceof Cn||g(e.references,(function(e){return!e.in_arg})))};e.option("ie")&&A.each((function(e,n){n in _||e.forEach((function(e){e.walk(new ft((function(e){return e instanceof ue&&e.name&&!z(e.name.definition())?(e.walk(q),!0):e instanceof K||void 0})))}))})),q=new ft(Ee);for(var C=0;C<m.length;C++){var F=A.get(m[C].id);F&&F.forEach((function(e){e.walk(q)}))}Object.keys(u).forEach((function(e){var n=u[e];if(n){n=n.reduce((function(e,n){return n.forEach((function(n){h(e,n)})),e}),[]);var t=(T.get(e)||[]).filter((function(e){return r(e instanceof sn?function(n){return n===e}:function(n){return n===e||!(n instanceof sn)&&X(n)===X(e)},n)}));n.length==t.length?u[e]=t:delete u[e]}else delete u[e]}));var P=[],I=[],Y=[],R=new ct((function(n){if(n instanceof Xe)return Se(R,n);if(n instanceof mn&&n.rest&&(n.rest=n.rest.transform(R)),n instanceof gn){for(var t=!n.rest,i=n.elements.length;--i>=0;){var r=n.elements[i].transform(R);r?(n.elements[i]=r,t=!1):t?n.elements.pop():n.elements[i]=Rn(it,n.elements[i])}return n}if(n instanceof yn){var o=[];return n.properties.forEach((function(t){var i=!1;if(t.key instanceof S&&(t.key=t.key.transform(L),i=t.key.has_side_effects(e)),(i||n.rest)&&function(e){return(e instanceof Xe?e.name:e)instanceof Dn}(t.value))t.value=t.value.transform(L),o.push(t);else{var r=t.value.transform(R);!r&&n.rest&&(r=t.value instanceof gn?Rn(gn,t.value,{elements:[]}):Rn(yn,t.value,{properties:[]})),r&&(t.value=r,o.push(t))}})),n.properties=o,n}return n instanceof Dn?n.definition().id in _?n:null:void 0})),L=new ct((function(i,r,f){var c=L.parent();if(o){var l,p=[];if(q=a(i,p)){if(function(e,n){var t=e.definition(),i=_[t.id];return!i||n[n instanceof pn?"left":"expression"]===e&&(i===e&&t.references.length-t.replaced==1||_e(t,n)<0)}(q,i)&&(i instanceof pn&&(l=xe(i),!0===i.write_only&&(l=l.drop_side_effect_free(e))),l||(l=Rn(Xn,i,{value:0}))),l){if(p.assign){var h=p.assign.drop_side_effect_free(e);h&&(h.write_only=!0,p.unshift(h))}switch(c instanceof en&&c.tail_node()!==i&&!l.has_side_effects(e)||p.push(l),p.length){case 0:return d.skip;case 1:return pt(0,c,i,p[0].transform(L));default:return Zn(i,p.map((function(e){return e.transform(L)})))}}}else if(i instanceof cn&&i.expression instanceof Hn&&_e(i.expression.definition(),i)<0)return Rn(fn,i,{operator:"+",expression:i.expression})}if(i instanceof Qe)return I.push(i),i.args=i.args.map((function(e){return e.transform(L)})),i.expression=i.expression.transform(L),i;if(D===n){if(t&&i!==n&&i instanceof ge)if(!((C=i.name.definition()).id in _)){B(i.name,"Dropping unused class {name}"),C.eliminated++,r(i,L);var m=ui(i,!0);return c instanceof Ve?m:(m=m.drop_side_effect_free(e,!0))?Rn(M,i,{body:m}):f?d.skip:Rn($,i)}if(i instanceof be&&i.name&&z(i.name.definition())&&P.push(i),i instanceof Z){if(t&&i!==n&&i instanceof pe)if(!((C=i.name.definition()).id in _))return B(i.name,"Dropping unused function {name}"),C.eliminated++,c instanceof Ve?(Se(),li(i,!0)):f?d.skip:Rn($,i);if(i instanceof ne&&i.name&&z(i.name.definition())&&P.push(i),!(i instanceof ee)){var b,y,w=e.drop_fargs(i,c);if(w&&c instanceof Qe&&c.expression===i)for(b=c.args,y=0;y<b.length&&!(b[y]instanceof an);y++);var x=i.argnames,T=i.rest;if(T){if(!b||y<x.length||T instanceof Cn)T=T.transform(R);else{var m=Te(T,Rn(vn,c,{elements:b.slice(x.length)}),(function(e){return e.definition().id in _?e:null}),!i.uses_arguments,T);T=m.name,b.length=x.length,m.value.elements.length&&[].push.apply(b,m.value.elements)}T instanceof mn&&!T.rest&&(!i.uses_arguments||L.has_directive("use strict"))&&(T instanceof gn?0==T.elements.length&&(T=null):0==T.properties.length&&(T=null)),i.rest=T,T&&(w=!1)}for(var A=w?-1:i.length(),O=x.length;--O>=0;){var q,C,F;if((q=x[O])instanceof Cn)(C=q.definition()).id in _?(w=!1,_e(C,q)<0&&(q.unused=null)):w?(B(q,"Dropping unused function argument {name}"),x.pop()):q.unused=!0;else F=!b||y<O?q.transform(R):Te(q,b[O],(function(e){return e.definition().id in _?e:null}),!i.uses_arguments,q).name,F?w=!1:w?(G(q,"Dropping unused default argument {name}"),x.pop()):O>A?(G(q,"Dropping unused default argument assignment {name}"),q.name instanceof Cn&&(q.name.unused=!0),x[O]=q.name):(G(q,"Dropping unused default argument value {name}"),q.value=Rn(Xn,q,{value:0}))}Y.push(i)}}if(i instanceof Ne&&i.argname instanceof mn&&i.argname.transform(R),i instanceof He&&!(c instanceof V&&c.init===i)){var W=[],X=[],Q=[],ae=[],se=0,ye=i instanceof Le;switch(i.definitions.forEach((function(n){n.value&&(n.value=n.value.transform(L));var t=n.value;if(n.name instanceof mn){var r=Te(n.name,t,(function(e){return o?e.definition().id in _||y(e)||ye&&!k(e)?e:null:e}),!0);r.name?(n=Rn(Be,n,{name:r.name,value:t=r.value}),w()):r.value&&ae.push(r.value)}else{var a,f,l,p,d=n.name.definition(),h=ye?k(n.name):Ei(d);if(h&&o&&!(d.id in _))y(n.name)?((t=t&&t.drop_side_effect_free(e))&&ae.push(t),E[d.id]>1?(S.warn("Dropping duplicated declaration of variable {name} [{file}:{line},{col}]",J(n.name)),E[d.id]--,d.eliminated++):(n.value=null,X.push(n))):((t=t&&t.drop_side_effect_free(e))?(S.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",J(n.name)),ae.push(t)):B(n.name,"Dropping unused variable {name}"),d.eliminated++);else if(t&&((a=_e(d,n))<0||(p=t.tail_node())instanceof Hn&&p.definition()===d)&&(n=n.clone(),(t=t.drop_side_effect_free(e))&&S.warn("Side effects in definition of variable {name} [{file}:{line},{col}]",J(n.name)),i instanceof Ye?n.value=t||Rn(Xn,n,{value:0}):(n.value=null,t&&ae.push(t)),t=null,a>=0&&(u[d.id][a]=n)),t||i instanceof Re)if(e.option("functions")&&!e.option("ie")&&h&&t&&1==E[d.id]&&0==d.assignments&&(l=t.tail_node())instanceof ne&&!s(d)&&!te(l)&&function(e,t){return 0==t.length?e===n.name.fixed_value():g(t,(function(n){return e===n.fixed_value()}))}(l,d.references)&&function(n){if(!ye||e.has_directive("use strict")||!(n instanceof ue))return c instanceof K;return c instanceof j||c instanceof U&&c.init===i||c instanceof ze}(l)&&!1!==(f=function(n,t){if(!n.name)return null;var i,r=n.name.definition();if(r.orig.length>1)return null;if(r.assignments>0)return!1;if(r.name==t)return r;if(e.option("keep_fnames"))return!1;switch(t){case"await":i=ie;break;case"yield":i=re}return g(r.references,(function(e){var r=e.scope;if(r.find_variable(t)!==d)return!1;if(i)do{if(r=r.resolve(),i(r))return!1}while(r!==n&&(r=r.parent_scope));return!0}))&&r}(l,n.name.name))){var v;switch(S.warn("Declaring {name} as function [{file}:{line},{col}]",J(n.name)),l.CTOR){case fe:v=de;break;case ce:v=he;break;case ue:v=ve;break;case le:v=me}var m=Rn(v,n,l);m.name=Rn(Mn,n.name,n.name);var b=n.name.scope.resolve().def_function(m.name);f&&f.forEach((function(e){e.name=b.name,e.thedef=b,e.reference()})),W.push(m),t!==l&&[].push.apply(ae,t.expressions.slice(0,-1))}else h&&E[d.id]>1&&!(c instanceof Ue)&&d.orig.indexOf(n.name)>d.eliminated&&(E[d.id]--,se++),w();else c instanceof Ue?w():h&&E[d.id]>1?(S.info("Dropping declaration of variable {name} [{file}:{line},{col}]",J(n.name)),E[d.id]--,d.eliminated++):X.push(n)}function y(e){var n=e.definition();return n.orig[0]instanceof Nn&&n.scope.resolve()===e.scope.resolve()}function w(){ae.length>0&&(0==Q.length?W.push(Rn(M,i,{body:Zn(i,ae)})):t?(ae.push(t),n.value=Zn(t,ae)):n.value=Rn(fn,n,{operator:"void",expression:Zn(n,ae)}),ae=[]),Q.push(n)}})),X.length){case 0:if(0==Q.length)break;if(Q.length==se){[].unshift.apply(ae,Q.map((function(e){S.info("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",J(e.name));var n=e.name.definition(),t=Rn(Hn,e.name,e.name);n.references.push(t);var i=Rn(pn,e,{operator:"=",left:t,right:e.value}),r=_e(n,e);return r>=0&&(u[n.id][r]=i),n.eliminated++,i})));break}case 1:if(0==Q.length){var we=X[0].name.definition().id;if(we in v){i.definitions=X,v[we].init=i;break}}default:var ke;Q.length>0&&(ke=Q[0].value)instanceof en&&(Q[0].value=ke.tail_node(),W.push(Rn(M,i,{body:Zn(ke,ke.expressions.slice(0,-1))}))),i.definitions=X.concat(Q),W.push(i)}return ae.length>0&&W.push(Rn(M,i,{body:Zn(i,ae)})),oe(W,i,f)}if(i instanceof pn)return r(i,L),i.left instanceof mn?(m=Te(i.left,i.right,(function(e){return e}),!0===i.write_only)).name?Rn(pn,i,{operator:i.operator,left:m.name,right:m.value}):m.value?m.value:c instanceof en&&c.tail_node()!==i?d.skip:Rn(Xn,i,{value:0}):i;if(i instanceof H&&i.body instanceof U){if(r(i,L),i.body instanceof N){var Ee=i.body;return i.body=Ee.body.pop(),Ee.body.push(i),f?d.splice(Ee.body):Ee}return i}if(i instanceof K)return Se(),i;if(i instanceof $n)return!e.option("imports")||i.definition().id in _?i:f?d.skip:null}function Se(){var e=D;D=i,r(i,L),D=e}}),(function(n,t){if(n instanceof N)return oi(n,L.parent(),t);if(n instanceof U)return Dt(n,t);if(n instanceof W){if(!o||!e.option("loops"))return;if(!_t(n.body))return;var i=ke(n);if(!i)return;var r=i.definition();if(r.id in _)return;B(i,"Dropping unused loop variable {name}"),v[r.id]===n&&delete v[r.id];var a=[],s=n.object.drop_side_effect_free(e);return s&&(S.warn("Side effects in object of for-in loop [{file}:{line},{col}]",s.start),a.push(Rn(M,n,{body:s}))),n.init instanceof He&&r.orig[0]instanceof Nn&&a.push(n.init),oe(a,n,t)}if(n instanceof Je)return n.properties&&0==n.properties.length&&(n.properties=null),n;if(n instanceof en){if(n.expressions.length>1)return;return pt(0,L.parent(),n,n.expressions[0])}}));L.push(e.parent()),n.transform(L),n instanceof Z&&1==n.body.length&&n.body[0]instanceof O&&"use strict"==n.body[0].value&&(n.body.length=0),P.forEach((function(e){e.name=null})),I.forEach((function(n){qi(n,e,Y)}))}function B(e,n){S[e.definition().references.length>0?"info":"warn"](n+" [{file}:{line},{col}]",J(e))}function G(e,n){e.name instanceof Cn?B(e.name,n):S.info(n+" [{file}:{line},{col}]",{name:e,file:e.start.file,line:e.start.line,col:e.start.col})}function J(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}function X(e){return e[e instanceof pn?"right":"value"]}function oe(e,n,t){switch(e.length){case 0:return t?d.skip:Rn($,n);case 1:return e[0];default:return t?d.splice(e):Rn(N,n,{body:e})}}function ae(e,t){return e.scope.resolve()===n&&(e.fixed&&t.fixed||(u[e.id]=!1),!1!==u[e.id])}function se(e,n){u[e.id]||(u[e.id]=[]),n.fixed.assigns&&h(u[e.id],n.fixed.assigns)}function _e(e,n){var t=u[e.id];return t&&t.indexOf(n)}function ye(e,n,t){e.id in _||(n&&t?(_[e.id]=n,m.push(e)):(y[e.id]=n,w[e.id]=t))}function xe(n){var t=n.right;if(!n.write_only)return t;if(!(t instanceof un&&Ft[t.operator]))return t;if(!(t.left instanceof Hn))return t;if(!(n.left instanceof Hn))return t;var i=n.left.definition();return t.left.definition()!==i||t.right.has_side_effects(e)?t:(ae(i,t.left)&&se(i,t.left),t.right)}function ke(e){var n=e.init;if(n instanceof He)return(n=n.definitions[0].name)instanceof Dn&&n;for(;n instanceof tn;)n=n.expression.tail_node();return n instanceof Hn?n:void 0}function Ee(t,i,r){t instanceof pn&&t.left instanceof Hn&&((E=t.left.definition()).scope.resolve()===n&&T.add(E.id,t));t instanceof sn&&t.expression instanceof Hn&&((E=t.expression.definition()).scope.resolve()===n&&T.add(E.id,t));var f,c=[];if((k=a(t,c))&&((f=k.definition()).scope.resolve()===n||n.variables.get(k.name)===f)&&(!s(f)||g(n.argnames,(function(e){return!e.match_symbol((function(e){if(e instanceof Cn){var n=e.definition();return n.references.length>n.replaced}}),!0)})))){if("p"===t.write_only&&t.right.may_throw_on_access(e,!0))return;var u=c.assign;if(u&&(u.write_only=!0,u.walk(q)),c.forEach((function(e){e.walk(q)})),t instanceof pn){var l=xe(t),d=!1;if(r&&!0===t.write_only&&!l.has_side_effects(e)?A.add(f.id,l):(l.walk(q),d="="==l.tail_node().operator),t.left===k)t.write_only&&!d||ye(f,k,w[f.id]);else{var h=k.fixed_value();h&&h.is_constant()||ye(f,y[f.id],!0)}}return ae(f,k)&&Ut(k,t)!==k&&se(f,k),!0}if(t instanceof W){if(t.init instanceof Hn&&D===n){var b=t.init.definition().id;b in v||(v[b]=t)}if(!o||!e.option("loops"))return;if(!_t(t.body))return;if(t.init.has_side_effects(e))return;var k,E;if(!(k=ke(t)))return;if((E=k.definition()).scope.resolve()!==n){var S=p(k.name);if(S===E||S&&S.redefined()===E)return}return t.object.walk(q),!0}if(t instanceof Hn){if((f=t.definition()).id in _||(_[f.id]=!0,m.push(f)),x(f.scope,t.scope)){var O=f.redefined();O&&!(O.id in _)&&(_[O.id]=!0,m.push(O))}return ae(f,t)&&se(f,t),!0}if(t instanceof K){var $=D;return D=t,i(),D=$,!0}}function Se(n,t){if(t.value=t.value.transform(L),!t.name.transform(n)){if(t.name instanceof mn)return null;var i=t.value.drop_side_effect_free(e);if(!i)return null;B(t.name,"Side effects in default value of unused variable {name}"),t.name.unused=null,t.value=i}return t}function Te(n,t,i,r,o){var a=new ct((function(n){if(n instanceof Xe){if(!(e.option("default_values")&&t&&t.is_defined(e))){var f=r;r=!1;var u=Se(a,n);return r=f,!u&&r&&t&&(t=t.drop_side_effect_free(e)),u}n===o?o=n=n.name:n=n.name}if(n instanceof gn){f=r;var l=t;t instanceof Hn&&(r=!1,t=t.fixed_value());var p=t instanceof vn&&t.elements,h=[],v=r&&[],m=0;if(n.elements.forEach((function(e,n){(t=p&&p[n])instanceof it?t=null:t instanceof an&&(r&&(v.length=m,ci(l,v),[].push.apply(v,p.slice(n)),l.elements=v),t=p=!1),(e=e.transform(a))&&(h[m]=e),r&&t&&(v[m]=t),!e&&!t&&r&&p||m++})),t=p&&Rn(vn,l,{elements:p.slice(n.elements.length)}),n.rest){var _=r;r=!1,n.rest=n.rest.transform(e.option("rests")?a:L),r=_,n.rest&&(h.length=m)}if(r&&(t&&!n.rest&&(t=t.drop_side_effect_free(e)),t instanceof vn?t=t.elements:t instanceof en?t=t.expressions:t&&(t=[t]),t&&t.length&&(v.length=m,[].push.apply(v,t))),t=l,r=f,p&&v&&(ci(t,v),t.elements=v),!n.rest&&(t instanceof vn||t&&t.is_string(e)))switch(h.length){case 0:if(n===o)break;return r&&(t=t.drop_side_effect_free(e)),null;case 1:if(!r)break;if(n===o)break;var g=h[0];if(g.has_side_effects(e))break;if(t.has_side_effects(e)&&g.match_symbol((function(e){return e instanceof tn})))break;return t=Rn(on,n,{expression:t,property:Rn(Xn,n,{value:0})}),g}return ci(n,h),n.elements=h,n}if(n instanceof yn){var y,w;f=r,l=t;t instanceof Hn&&(r=!1,t=t.fixed_value()),t instanceof wn&&(y=[],w=new b,t.properties.forEach((function(n,t){if(n instanceof an)return w=!1;var i=n.key;i instanceof S&&(i=i.evaluate(e,!0)),i instanceof S?w=!1:!w||n instanceof Sn||w.set(i,n),y[t]=i}))),n.rest&&(t=!1,n.rest=n.rest.transform(e.option("rests")?a:L));var x=new b,k=r&&new b,E=[];if(n.properties.map((function(n){var t=n.key;return t instanceof S&&(n.key=t=t.transform(L),t=t.evaluate(e,!0)),t instanceof S?k=!1:x.set(t,!x.has(t)),t})).forEach((function(e,i){var o,f=n.properties[i];if(e instanceof S)r=!1,t=!1,o=f.value.transform(a)||c(f.value);else{r=k&&x.get(e);var u=w&&w.get(e);u?(t=u.value)instanceof ee&&(t=!1):t=!1,(o=f.value.transform(a))?k&&k.set(e,!1):((n.rest||s(f))&&(o=c(f.value)),k&&!k.has(e)&&(u?(k.set(e,u),null===t&&w.set(e,s(u)&&Rn(kn,u,{key:u.key,value:Rn(Xn,u,{value:0})}))):k.set(e,!0))),t&&(u.value=t)}o&&(f.value=o,E.push(f))})),t=l,r=f,k&&y&&(t.properties=d(t.properties,(function(t,i){if(t instanceof an)return t;var r=y[i];if(r instanceof S)return t;if(k.has(r)){var o=k.get(r);if(!o)return t;if(o===t)return w.get(r)||d.skip}else if(n.rest)return t;var a=t.value.drop_side_effect_free(e);return a?(t.value=a,t):s(t)?Rn(kn,t,{key:t.key,value:Rn(Xn,t,{value:0})}):d.skip}))),t&&!n.rest)switch(E.length){case 0:if(n===o)break;if(t.may_throw_on_access(e,!0))break;return r&&(t=t.drop_side_effect_free(e)),null;case 1:if(!r)break;if(n===o)break;var T=E[0];if(T.key instanceof S)break;if(T.value.has_side_effects(e))break;if(t.has_side_effects(e)&&T.value.match_symbol((function(e){return e instanceof tn})))break;return t=Rn(on,n,{expression:t,property:ut(T.key,T)}),T.value}return n.properties=E,n}return!(n=n instanceof it?null:i(n))&&r&&t&&(t=t.drop_side_effect_free(e)),n}));return{name:n.transform(a),value:t};function s(n){return n.key instanceof S&&n.key.has_side_effects(e)}function f(e){if(e instanceof pn)e.write_only=!1,f(e.right);else if(e instanceof un){if(!Ft[e.operator])return;f(e.left),f(e.right)}else e instanceof ln?(f(e.consequent),f(e.alternative)):e instanceof en?f(e.tail_node()):e instanceof sn&&(e.write_only=!1)}function c(n){return n instanceof Xe?c(n.name):n instanceof mn?(null===t?t=Rn(Xn,n,{value:0}):t&&(t.may_throw_on_access(e,!0)?t=Rn(vn,n,{elements:t instanceof en?t.expressions:[t]}):f(t)),Rn(yn,n,{properties:[]})):(n.unused=null,n)}}})),K.DEFMETHOD("hoist_declarations",(function(e){if(!e.has_directive("use asm")){var n=e.option("hoist_funs"),t=e.option("hoist_vars"),i=this;if(t){var r=0;i.walk(new ft((function(e){return r>1||(e instanceof Ue||(e instanceof K&&e!==i||(e instanceof Le?(r++,!0):void 0)))}))),r<=1&&(t=!1)}if(n||t){var o=new b,a=[],s=[],f=new b,c=new ct((function(r,u,l){if(r!==i){if(r instanceof O)return a.push(r),l?d.skip:Rn($,r);if(r instanceof pe)return n?(p=c.parent())instanceof Ue||p instanceof Ve||p!==i&&e.has_directive("use strict")?r:(s.push(r),l?d.skip:Rn($,r)):r;if(r instanceof Le){if(!t)return r;var p;if((p=c.parent())instanceof Ue)return r;if(!g(r.definitions,(function(e){var n=e.name;return n instanceof zn&&!o.has(n.name)&&i.find_variable(n.name)===n.definition()})))return r;r.definitions.forEach((function(e){f.set(e.name.name,e)}));var h=r.to_assignments();if(p instanceof V&&p.init===r){if(h)return h;var v=r.definitions[0].name;return Rn(Hn,v,v)}return p instanceof U&&p.init===r?h:h?Rn(M,r,{body:h}):l?d.skip:Rn($,r)}return r instanceof K?r:r instanceof On?(o.set(r.name,!0),r):void 0}}));if(i.transform(c),f.size()>0){var u=[];i instanceof Z&&i.each_argname((function(e){f.del(e.name)})),f.each((function(e,n){(e=e.clone()).name=e.name.clone(),e.value=null,u.push(e),f.set(n,e),e.name.definition().orig.unshift(e.name)})),u.length>0&&(!function e(n){for(;n.length;){var t=n[0];if(t instanceof M){var i,r,o=t.body;if(o instanceof pn&&"="==o.operator&&(i=o.left)instanceof An&&f.has(i.name)){if((s=f.get(i.name)).value)break;var a=o.right;a instanceof en&&(a=a.clone()),s.value=a,m(u,s),u.push(s),n.shift();continue}if(o instanceof en&&(r=o.expressions[0])instanceof pn&&"="==r.operator&&(i=r.left)instanceof An&&f.has(i.name)){var s;if((s=f.get(i.name)).value)break;s.value=r.right,m(u,s),u.push(s),t.body=Zn(o,o.expressions.slice(1));continue}}if(t instanceof $)n.shift();else{if(!(t instanceof N)||e(t.body))break;n.shift()}}return n.length}(i.body),s.push(Rn(Le,i,{definitions:u})))}i.body=a.concat(s,i.body)}}})),K.DEFMETHOD("process_returns",f),ve.DEFMETHOD("process_returns",(function(e){if(e.option("booleans")&&!(e.parent()instanceof Ve))switch(hi(this.name.definition(),di(this),e)){case"d":_i(e,this,!0);break;case!0:vi(this,e)}})),ue.DEFMETHOD("process_returns",(function(e){if(e.option("booleans")){var n=!0,t=di(this);if(!this.name||u(this.name.definition())){var i=e.parent();if(i instanceof pn){if("="!=i.operator)return;if(!((o=i.left)instanceof Hn))return;if(!u(o.definition()))return}else if(i instanceof Qe&&i.expression!==this){var r=i.expression;if(r instanceof Hn&&(r=r.fixed_value()),!(r instanceof Z))return;if(r.uses_arguments||r.pinned())return;for(var o,a=i.args,s=0;s<a.length;s++){var f=a[s];if(f===this){if(!(o=r.argnames[s])&&r.rest)return;break}if(f instanceof an)return}if(o instanceof Xe&&(o=o.name),o instanceof Cn&&!u(o.definition()))return}else{if("Call"!=i.TYPE)return;e.pop();var c=e.in_boolean_context();switch(e.push(this),c){case!0:n=!1;case"d":break;default:return}}n?_i(e,this,!0):vi(this,e)}}function u(i){switch(hi(i,t,e)){case!0:n=!1;case"d":return!0}}})),F.DEFMETHOD("var_names",(function(){var e=this._var_names;return e||(this._var_names=e=new b,this.enclosed.forEach((function(n){e.set(n.name,!0)})),this.variables.each((function(n,t){e.set(t,!0)}))),e})),K.DEFMETHOD("make_var",(function(e,n,t){var r=[this];n instanceof Dn&&n.definition().references.forEach((function(e){var n=e.scope;if(!i(n,r))do{h(r,n),n=n.parent_scope}while(n&&n!==this)}));for(var o=t=t.replace(/^[^a-z_$]|[^a-z0-9_$]/gi,"_"),a=0;!g(r,(function(e){return!e.var_names().has(o)}));a++)o=t+"$"+a;var s=Rn(e,n,{name:o,scope:this}),f=this.def_variable(s);return r.forEach((function(e){e.enclosed.push(f),e.var_names().set(o,!0)})),s})),K.DEFMETHOD("hoist_properties",(function(e){if(e.option("hoist_props")&&!e.has_directive("use asm")){var n=this,t=n instanceof Q&&e.top_retain||c,i=Object.create(null);n.transform(new ct((function(e,t){if(e instanceof pn){if("="!=e.operator)return;if(!e.write_only)return;if(!r(e.left,e.right,1))return;t(e,this);var o=new b,a=[],s=[];return e.right.properties.forEach((function(t){var i=u(zn,e.left,t.key);s.push(Rn(Be,e,{name:i,value:null}));var r=Rn(Hn,e,{name:i.name,scope:n,thedef:i.definition()});r.reference(),a.push(Rn(pn,e,{operator:"=",left:r,right:t.value}))})),o.value=e.right,i[e.left.definition().id]=o,n.body.splice(n.body.indexOf(this.stack[1])+1,0,Rn(Le,e,{definitions:s})),Zn(e,a)}if(e instanceof K)return e===n?void 0:e;if(e instanceof Be){if(!r(e.name,e.value,0))return;t(e,this);o=new b;var f=[],c=e.clone();return c.value=e.name instanceof On?Rn(Xn,e,{value:0}):null,f.push(c),e.value.properties.forEach((function(n){f.push(Rn(Be,e,{name:u(e.name.CTOR,e.name,n.key),value:n.value}))})),o.value=e.value,i[e.name.definition().id]=o,d.splice(f)}function u(e,t,i){var r=n.make_var(e,t,t.name+"_"+i);return o.set(i,r.definition()),r}}))),n.transform(new ct((function(e,n){if(e instanceof tn){if(!(e.expression instanceof Hn))return;if(!(o=i[e.expression.definition().id]))return;if(e.expression.fixed_value()!==o.value)return;var t=o.get(e.get_property()),r=Rn(Hn,e,{name:t.name,scope:e.expression.scope,thedef:t});return r.reference(),r}if(e instanceof Hn){var o;if(!(o=i[e.definition().id]))return;if(e.fixed_value()!==o.value)return;return Rn(wn,e,{properties:[]})}})))}function r(n,i,r){if(n instanceof An){var o=n.definition();if(o.assignments==r&&o.references.length-o.replaced!=r&&!o.single_use&&!t(o)&&n.fixed_value()===i){var a=n.fixed||o.fixed;if(!a.direct_access&&(!a.escaped||1!=a.escaped.depth))return i instanceof wn&&i.properties.length>0&&g(i.properties,Qi)&&k(n,e)}}}})),function(e){function n(e,n,t,i){for(var r=e.length,o=[],a=!1,s=0;s<r;s++){var f,c=e[s];(f=i&&c instanceof an?i(c,n,t):c.drop_side_effect_free(n,t))!==c&&(a=!0),f&&(o.push(f),t=!1)}return o.length?a?o:e:null}function t(e,n,t){var i=e.expression;return i.is_string(n)?i.drop_side_effect_free(n,t):e}function i(e){return e instanceof an?Rn(vn,e,{elements:[e]}):e}e(S,l),e(ee,p),e(vn,(function(e,r){var o=n(this.elements,e,r,t);return o?o===this.elements&&g(o,(function(e){return e instanceof an}))?this:Zn(this,o.map(i)):null})),e(pn,(function(e){var n=this.left;if(n instanceof tn){var t=n.expression;if(t.may_throw_on_access(e,!0))return this;if(e.has_directive("use strict")&&t.is_constant())return this}return n.has_side_effects(e)||Ft[this.operator.slice(0,-1)]?this:(this.write_only=!0,nn(n).is_constant_expression(e.find_parent(K))?this.right.drop_side_effect_free(e):this)})),e(dn,(function(e){if(!e.option("awaits"))return this;var n=this.expression;if(!Hi(e,n))return this;n instanceof fn&&"!"==n.operator&&(n=n.expression);var t=n.drop_side_effect_free(e);if(t===n)return this;t?Hi(e,t)||(t=t.negate(e)):t=Rn(Xn,n,{value:0});var i=this.clone();return i.expression=t,i})),e(un,(function(e,n){var t=this.left,i=this.right,r=this.operator;if("in"==r&&!Ii(i))return(o=t.drop_side_effect_free(e,n))===t?this:((s=this.clone()).left=o||Rn(Xn,t,{value:0}),s);var o,a=i.drop_side_effect_free(e,n);if(!a)return t.drop_side_effect_free(e,n);if(Ft[r]&&a.has_side_effects(e)){var s=this;if(a!==i&&((s=s.clone()).right=a.drop_side_effect_free(e)),"??"==r)return s;var f=s.clone();f.operator="&&"==r?"||":"&&",f.left=t.negate(e,n),f.operator==f.right.operator&&Ri(f);var c=n?Nt:Pt;return"&&"==r?c(s,f):c(f,s)}return(o=t.drop_side_effect_free(e,n))?(a=a.drop_side_effect_free(e))?Zn(this,[o,a]):o:a})),e(Qe,(function(e,r){var o=this;if(o.is_expr_pure(e)){o.pure&&S.warn("Dropping __PURE__ call [{file}:{line},{col}]",o.start);var a=n(o.args,e,r,t);return a&&Zn(o,a.map(i))}var s=o.expression;if(o.is_call_pure(e))return(d=o.args.slice()).unshift(s.expression),(d=n(d,e,r,t))&&Zn(o,d.map(i));if(e.option("yields")&&re(s)){var f=o.clone();f.expression=Rn(ue,s,s),f.expression.body=[];var u=f.transform(e);if(u!==f)return u.drop_side_effect_free(e,r)}var l=_i(e,s);if(l&&((o=o.clone()).expression=l,s._squeezed&&(o.expression._squeezed=!0)),o instanceof Ze){var p=s;if(p instanceof Hn&&(p=p.fixed_value()),p instanceof Z){var d;if(function(e,n){e.new=!0;var t=g(e.body,(function(e){return!e.has_side_effects(n)}))&&g(e.argnames,(function(e){return!e.match_symbol(c)}))&&!(e.rest&&e.rest.match_symbol(c));return e.new=!1,t}(p,e))return(d=o.args.slice()).unshift(s),(d=n(d,e,r,t))&&Zn(o,d.map(i));p.contains_this()||((o=Rn(Qe,o,o)).expression=o.expression.clone(),o.args=o.args.slice())}}return o.call_only=!0,o})),e(be,(function(e,t){for(var i=this,r=[],o=[],s=i.properties,f=0;f<s.length;f++){var c=s[f];if(c.key instanceof S&&r.push(c.key),c.static&&c.value&&c instanceof we&&c.value.has_side_effects(e)){if(c.value.contains_this())return i;o.push(c.value)}}var u=i.extends;if(u&&(u instanceof Hn&&(u=u.fixed_value()),(u=!a(u))||r.unshift(i.extends)),(r=n(r,e,t))&&(t=!1),o=n(o,e,t),!r){if(!u&&!o&&!i.name)return null;r=[]}if(u||i.name||!e.has_directive("use strict")){var l=ui(i);return u||(l.extends=null),l.properties=[],o?l.properties.push(Rn(we,i,{static:!0,key:r.length?Zn(i,r):"c",value:Zn(i,o)})):r.length&&l.properties.push(Rn(Ee,i,{key:Zn(i,r),value:Rn(ue,i,{argnames:[],body:[]}).init_vars(l)})),l}return o&&r.push(Rn(Qe,i,{expression:Rn(ae,i,{argnames:[],body:[],value:Zn(i,o)}).init_vars(i.parent_scope),args:[]})),Zn(i,r)})),e(ln,(function(e){var n,t,i=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);return i===this.consequent&&r===this.alternative?this:(e.option("ie")&&(n=[],i instanceof ue&&(n.push(i),i=null),r instanceof ue&&(n.push(r),r=null)),i?r?((t=this.clone()).consequent=i,t.alternative=r):t=Rn(un,this,{operator:"&&",left:this.condition,right:i}):t=r?Rn(un,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e),n?(t&&n.push(t),0==n.length?null:Zn(this,n)):t)})),e(Gn,p),e(rn,(function(e,n){var t=this.expression;return t.may_throw_on_access(e)?this:t.drop_side_effect_free(e,n)})),e(ue,(function(e){return mi(this,e)?null:this})),e(ne,p),e(wn,(function(e,t){var i=[];this.properties.forEach((function(e){e instanceof an?i.push(e):(e.key instanceof S&&i.push(e.key),i.push(e.value))}));var r=n(i,e,t,(function(e,n,t){var i=e.expression;return i.safe_to_spread()?i.drop_side_effect_free(n,t):e}));return r?r!==i||g(r,(function(e){return!(e instanceof an)}))?Zn(this,r.map((function(e){return e instanceof an?Rn(wn,e,{properties:[e]}):e}))):this:null})),e(Ln,p),e(en,(function(e,t){var i=n(this.expressions,e,t);if(!i)return null;var r,o,a,s=i.length-1,f=i[s];if(e.option("awaits")&&s>0&&f instanceof dn&&f.expression.is_constant()){var c=(i=i.slice(0,-1))[--s];f.expression=Hi(e,c)?c:c.negate(e),i[s]=f}return e.option("conditionals")&&s>0&&(r=i[s-1])instanceof pn&&"="==r.operator&&(a=r.left)instanceof Hn&&(o=Mi(e,a.definition(),r.right,f))&&((r=r.clone()).right=o,(i=i.slice(0,-2)).push(r.drop_side_effect_free(e,t))),i===this.expressions?this:Zn(this,i)})),e(on,(function(e,n){var t=this.expression;if(t.may_throw_on_access(e))return this;var i=this.property;return(t=t.drop_side_effect_free(e,n))?(i=i.drop_side_effect_free(e))?Zn(this,[t,i]):t:i.drop_side_effect_free(e,n)})),e(Hn,(function(e){return this.is_declared(e)&&k(this,e)?null:this})),e(Wn,(function(e,n){var t=this;if(t.is_expr_pure(e)){var i=t.expressions;return 0==i.length?null:Zn(t,i).drop_side_effect_free(e,n)}var r=t.tag,o=_i(e,r);return o&&((t=t.clone()).tag=o,r._squeezed&&(t.tag._squeezed=!0)),t})),e(sn,(function(e,n){var t=this.expression;if(Bt[this.operator])return this.write_only=!t.has_side_effects(e),this;if("typeof"==this.operator&&t instanceof Hn&&k(t,e))return null;var i=t.drop_side_effect_free(e,n);return n&&i&&yt(i)?i===t&&"!"==this.operator?this:i.negate(e,n):i}))}((function(e,n){e.DEFMETHOD("drop_side_effect_free",n)})),e(M,(function(e,n){if(n.option("side_effects")){var t=e.body,i=t.drop_side_effect_free(n,!0);if(!i)return S.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),Rn($,e);if(i!==t)return Rn(M,e,{body:i})}return e})),e(B,(function(e,n){return n.option("loops")?Rn(U,e,e).optimize(n):e})),e(L,(function(e,n){if(!n.option("loops"))return e;var t=wi(n,e.condition);if(!(t instanceof S)){if(t&&!gi(e,n.parent(),qe))return Rn(U,e,{body:Rn(N,e.body,{body:[e.body,Rn(M,e.condition,{body:e.condition})]})}).optimize(n);if(!gi(e,n.parent()))return Rn(N,e.body,{body:[e.body,Rn(M,e.condition,{body:e.condition})]}).optimize(n)}if(e.body instanceof N&&!gi(e,n.parent(),qe)){for(var r=e.body.body,o=r.length;--o>=0;){var a=r[o];if(a instanceof ze&&!a.alternative&&a.body instanceof $e&&n.loopcontrol_target(a.body)===e){if(s(a.condition))break;e.condition=Rn(un,e,{operator:"&&",left:a.condition.negate(n),right:e.condition}),r.splice(o,1)}else if(a instanceof M){if(s(a.body))break;e.condition=Zn(e,[a.body,e.condition]),r.splice(o,1)}else if(!Tt(a,!0))break}e.body=oi(e.body,n.parent())}return e.body instanceof $?Rn(U,e,e).optimize(n):e.body instanceof M?Rn(U,e,{condition:Zn(e.condition,[e.body.body,e.condition]),body:Rn($,e)}).optimize(n):e;function s(n){var t=!1;return n.walk(new ft((function(n){return!!t||(n instanceof Hn?(i(n.definition(),e.enclosed)||(t=!0),!0):void 0)}))),t}})),e(U,(function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step&&(e.step=e.step.drop_side_effect_free(n))),e.condition){var t=wi(n,e.condition);if(t)t instanceof S||(e.body=Rn(N,e.body,{body:[Rn(M,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code")){var i=[];return q(e.init)?i.push(e.init):e.init&&i.push(Rn(M,e.init,{body:e.init})),i.push(Rn(M,e.condition,{body:e.condition})),Ct(n,e.body,i),Rn(N,e,{body:i}).optimize(n)}}return bi(e,n)})),e(V,(function(e,n){if(n.option("varify")&&ht(e.init)){var t=e.init.definitions[0].name;(t instanceof mn||t instanceof qn)&&!t.match_symbol((function(e){if(e instanceof Dn){var t=e.definition();return!Bi(t)||Si(n,t)}}),!0)&&(e.init=Ti(e.init))}return e})),e(ze,(function(e,n){if(_t(e.alternative)&&(e.alternative=null),!n.option("conditionals"))return e;if(n.option("booleans")&&!e.condition.has_side_effects(n)&&xi(n,e.condition),n.option("dead_code")){var t=wi(n,e.condition);if(!t){S.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var i=[Rn(M,e.condition,{body:e.condition}).transform(n)];return Ct(n,e.body,i),e.alternative&&i.push(e.alternative),Rn(N,e,{body:i}).optimize(n)}if(!(t instanceof S)){S.warn("Condition always true [{file}:{line},{col}]",e.condition.start);i=[Rn(M,e.condition,{body:e.condition}).transform(n),e.body];return e.alternative&&Ct(n,e.alternative,i),Rn(N,e,{body:i}).optimize(n)}}var r=e.condition.negate(n),o=e.condition.print_to_string().length,a=r.print_to_string().length,s=a<o;if(e.alternative&&s){s=!1,e.condition=r;var f=e.body;e.body=e.alternative,e.alternative=_t(f)?null:f}var c=[],u=[],l=[],p=y(e.body,c,u,l),d=[],h=[],v=[],m=y(e.alternative,d,h,v);if(p instanceof N||m instanceof N){i=[];var _=[];if(p&&([].push.apply(i,c),[].push.apply(_,u),p instanceof N?e.body=p:0==p.length?e.body=Rn($,e.body):e.body=Rn(M,e.body,{body:Zn(e.body,p)}),l.forEach(G)),m&&([].push.apply(i,d),[].push.apply(_,h),m instanceof N?e.alternative=m:0==m.length?e.alternative=null:e.alternative=Rn(M,e.alternative,{body:Zn(e.alternative,m)}),v.forEach(G)),_.length>0&&i.push(Rn(Le,e,{definitions:_})),i.length>0)return i.push(e),Rn(N,e,{body:i}).optimize(n)}else if(p&&m){i=c.concat(d);return(u.length>0||h.length>0)&&i.push(Rn(Le,e,{definitions:u.concat(h)})),0==p.length?i.push(Rn(M,e.condition,{body:m.length>0?Rn(un,e,{operator:"||",left:e.condition,right:Zn(e.alternative,m)}).transform(n):e.condition.clone()}).optimize(n)):0==m.length?(o===a&&!s&&e.condition instanceof un&&"||"==e.condition.operator&&(s=!0),i.push(Rn(M,e,{body:Rn(un,e,{operator:s?"||":"&&",left:s?r:e.condition,right:Zn(e.body,p)}).transform(n)}).optimize(n))):i.push(Rn(M,e,{body:Rn(ln,e,{condition:e.condition,consequent:Zn(e.body,p),alternative:Zn(e.alternative,m)})}).optimize(n)),l.forEach(G),v.forEach(G),Rn(N,e,{body:i}).optimize(n)}if(_t(e.body)&&(e=Rn(ze,e,{condition:r,body:e.alternative,alternative:null})),e.alternative instanceof Te&&e.body.TYPE==e.alternative.TYPE){var g=Rn(e.body.CTOR,e,{value:Rn(ln,e,{condition:e.condition,consequent:e.body.value||Rn(tt,e.body).transform(n),alternative:e.alternative.value||Rn(tt,e.alternative).transform(n)})});return g instanceof Ae&&(g.in_bool=e.body.in_bool||e.alternative.in_bool),g}if(e.body instanceof ze&&!e.body.alternative&&!e.alternative&&(e=Rn(ze,e,{condition:Rn(un,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),ii(e.body)&&e.alternative){var b=e.alternative;return e.alternative=null,Rn(N,e,{body:[e,b]}).optimize(n)}if(ii(e.alternative)){i=e.body;return e.body=e.alternative,e.condition=s?r:e.condition.negate(n),e.alternative=null,Rn(N,e,{body:[e,i]}).optimize(n)}return n.option("typeofs")&&yi(e.condition,e.body,e.alternative),e;function y(e,t,i,r){if(null==e)return[];if(e instanceof N){for(var o=[],a=0;a<e.body.length;a++){var s=e.body[a];if(!(s instanceof $)){if(s instanceof Te){if(0==a)return;o.length>0&&(s=s.clone(),o.push(s.value||Rn(tt,s).transform(n)),s.value=Zn(e,o));var f=e.clone();return f.body=f.body.slice(a+1),f.body.unshift(s),f}if(s instanceof pe)t.push(s);else if(s instanceof M){if(!n.option("sequences")&&o.length>0)return;o.push(s.body)}else{if(!(s instanceof Le))return;if(!n.option("sequences")&&o.length>0)return;s.remove_initializers(n,i),s.definitions.forEach(c)}}}return o}if(e instanceof pe)return t.push(e),[];if(e instanceof $)return[];if(e instanceof M)return[e.body];if(e instanceof Le){o=[];return e.remove_initializers(n,i),e.definitions.forEach(c),o}function c(e){e.value&&o.push(Rn(pn,e,{operator:"=",left:e.name.convert_symbol(Hn,(function(e){r.push(e)})),right:e.value}))}}})),e(Ce,(function(e,n){if(!n.option("switches"))return e;if(!n.option("dead_code"))return e;for(var t,r,o,a=[],s=[],f=[],c=0,u=e.body.length;c<u;c++){if((t=e.body[c])instanceof Fe){var l=a[a.length-1];if(r||k(t.body[0],n)&&(!l||ii(l))){T(t,l);continue}r=t}else{var p=t.expression,d=Rn(un,e,{operator:"===",left:e.expression,right:p}).evaluate(n,!0);if(!d){p.has_side_effects(n)&&f.push(p),T(t,a[a.length-1]);continue}if(!(d instanceof S)){if(r){var h=a.indexOf(r);a.splice(h,1),T(r,a[h-1]),r=null}for(p.has_side_effects(n)?o=t:r=t=Rn(Fe,t,t);++c<u;)T(e.body[c],t)}}if(c+1>=u||ii(t)){l=a[a.length-1];var v=t.body;if(ii(l))switch(l.body.length-v.length){case 1:if(!k(b=l.body[l.body.length-1],n))break;v=v.concat(b);case 0:var m=Rn(N,l,l),_=Rn(N,t,{body:v});m.equivalent_to(_)&&(l.body=[])}}f.length&&(t instanceof Fe?a.push(Rn(Pe,e,{expression:Zn(e,f),body:[]})):(f.push(t.expression),t.expression=Zn(e,f)),f=[]),a.push(t)}for(f.length&&!o&&a.push(Rn(Pe,e,{expression:Zn(e,f),body:[]}));t=a[a.length-1];){var b;if(k(b=t.body[t.body.length-1],n)&&t.body.pop(),t===r){if(!gt(t))break}else{if(t.expression.has_side_effects(n))break;if(r){if(!gt(r))break;if(a[a.length-2]!==r)break;r.body=r.body.concat(t.body),t.body=[]}else if(!gt(t))break}T(t),a.pop()===r&&(r=null)}if(!t)return s.push(Rn(M,e.expression,{body:e.expression})),f.length&&s.push(Rn(M,e,{body:Zn(e,f)})),Rn(N,e,{body:s}).optimize(n);if(t===r)for(;(t=a[a.length-2])&&!(t instanceof Fe)&&gt(t);){if((p=t.expression).has_side_effects(n)){if((l=a[a.length-3])&&!ii(l))break;r.body.unshift(Rn(M,e,{body:p}))}T(t),a.splice(-2,1)}if(a[0].body=s.concat(a[0].body),e.body=a,n.option("conditionals"))switch(a.length){case 1:if(!E(a[0]))break;p=a[0].expression,v=a[0].body.slice();return a[0]!==r&&a[0]!==o?Rn(ze,e,{condition:Rn(un,e,{operator:"===",left:e.expression,right:p}),body:Rn(N,e,{body:v}),alternative:null}).optimize(n):(p&&v.unshift(Rn(M,p,{body:p})),v.unshift(Rn(M,e.expression,{body:e.expression})),Rn(N,e,{body:v}).optimize(n));case 2:if(!i(r,a)||!E(a[1]))break;var y=(v=a[0].body.slice()).length&&k(v[v.length-1],n);if(y&&v.pop(),!g(v,E))break;var w=a[1].body.length&&Rn(N,a[1],a[1]),x=Rn(ze,e,{condition:Rn(un,e,a[0]===r?{operator:"!==",left:e.expression,right:a[1].expression}:{operator:"===",left:e.expression,right:a[0].expression}),body:Rn(N,a[0],{body:v}),alternative:y&&w||null});return!y&&w&&(x=Rn(N,e,{body:[x,w]})),x.optimize(n)}return e;function k(n,t){return n instanceof $e&&t.loopcontrol_target(n)===e}function E(n){var t=!1,i=new ft((function(e){if(t||e instanceof Z||e instanceof M)return!0;k(e,i)&&(t=!0)}));return i.push(e),n.walk(i),!t}function T(e,t){t&&!ii(t)?t.body=t.body.concat(e.body):Ct(n,e,s)}})),e(je,(function(e,n){if(e.body=zt(e.body,n),n.option("dead_code")){if(gt(e)&&!(e.bcatch&&e.bcatch.argname&&e.bcatch.argname.match_symbol((function(e){return e instanceof Nn&&!k(e)}),!0))){var t=[];return e.bcatch&&(Ct(n,e.bcatch,t),t.forEach((function(e){e instanceof Le&&e.definitions.forEach((function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)}))}))),t.unshift(Rn(N,e,e).optimize(n)),e.bfinally&&t.push(Rn(N,e.bfinally,e.bfinally).optimize(n)),Rn(N,e,{body:t}).optimize(n)}if(e.bfinally&&gt(e.bfinally)){t=Rn(N,e.bfinally,e.bfinally).optimize(n);if(t=e.body.concat(t),!e.bcatch)return Rn(N,e,{body:t}).optimize(n);e.body=t,e.bfinally=null}}return e})),Ye.DEFMETHOD("remove_initializers",ki((function(e,n){return Rn(tt,n).optimize(e)}))),Re.DEFMETHOD("remove_initializers",ki(p)),Le.DEFMETHOD("remove_initializers",ki(p)),He.DEFMETHOD("to_assignments",(function(){var e=this.definitions.reduce((function(e,n){var t=n.name.definition(),i=n.value;if(i){i instanceof en&&(i=i.clone());var r=Rn(Hn,n.name,n.name),o=Rn(pn,n,{operator:"=",left:r,right:i});e.push(o);var a=function(){return o.right};a.assigns=[o],a.direct_access=t.direct_access,a.escaped=t.escaped,r.fixed=a,t.references.forEach((function(e){if(e.fixed){var i=e.fixed.assigns;i&&i[0]===n&&(i.length>1||e.fixed.to_binary||e.fixed.to_prefix?i[0]=o:(e.fixed=a,t.fixed===e.fixed&&(t.fixed=a)))}})),t.references.push(r)}return t.assignments++,t.eliminated++,t.single_use=!1,e}),[]);return 0==e.length?null:Zn(this,e)})),e(Ye,Di),e(Re,Di),e(Qe,(function(e,n){var t=e.expression,i=Oi(e,n);if(i)return i;if(n.option("sequences"))if(t instanceof tn){if((o=$i(t))!==t){var r=e.clone();return r.expression=o.expressions.pop(),o.expressions.push(r),o.optimize(n)}}else if(!lt(0,t.tail_node())){var o;if((o=$i(e))!==e)return o.optimize(n)}if(n.option("unused")&&qi(e,n),n.option("unsafe"))if(xt(t))switch(t.name){case"Array":if(1==e.args.length){if((d=e.args[0])instanceof Xn)try{var a=d.value;if(a>6)break;for(var s=Array(a),f=0;f<a;f++)s[f]=Rn(it,e);return Rn(vn,e,{elements:s})}catch(ye){S.warn("Invalid array length: {length} [{file}:{line},{col}]",{length:a,file:e.start.file,line:e.start.line,col:e.start.col});break}if(!d.is_boolean(n)&&!d.is_string(n))break}return Rn(vn,e,{elements:e.args});case"Object":if(0==e.args.length)return Rn(wn,e,{properties:[]});break;case"String":if(0==e.args.length)return Rn(Jn,e,{value:""});if(1==e.args.length)return Rn(un,e,{operator:"+",left:Rn(Jn,e,{value:""}),right:e.args[0]}).optimize(n);break;case"Number":if(0==e.args.length)return Rn(Xn,e,{value:0});if(1==e.args.length)return Rn(fn,e,{operator:"+",expression:Rn(un,e,{operator:"+",left:Rn(Jn,e,{value:""}),right:e.args[0]})}).optimize(n);break;case"Boolean":if(0==e.args.length)return Rn(at,e).optimize(n);if(1==e.args.length)return Rn(fn,e,{operator:"!",expression:Rn(fn,e,{operator:"!",expression:e.args[0]})}).optimize(n);break;case"RegExp":var c=[];if(g(e.args,(function(e){var t=e.evaluate(n);return c.unshift(t),e!==t})))try{return Ht(n,e,Rn(Qn,e,{value:RegExp.apply(RegExp,c)}))}catch(ye){S.warn("Error converting {expr} [{file}:{line},{col}]",{expr:e,file:e.start.file,line:e.start.line,col:e.start.col})}}else if(t instanceof rn)switch(t.property){case"toString":var l=t.expression;if(0==e.args.length&&!(l.may_throw_on_access(n)||l instanceof Bn))return Rn(un,e,{operator:"+",left:Rn(Jn,e,{value:""}),right:l}).optimize(n);break;case"join":if(t.expression instanceof vn&&e.args.length<2)e:{var p=e.args[0];if(0==t.expression.elements.length&&!(p instanceof an))return p?Zn(e,[p,Rn(Jn,e,{value:""})]).optimize(n):Rn(Jn,e,{value:""});if(!(p&&(p=p.evaluate(n))instanceof S)){s=[];var d,h=[];for(f=0;f<t.expression.elements.length;f++){var v=t.expression.elements[f];if((j=v.evaluate(n))!==v)h.push(j);else{if(v instanceof an)break e;h.length>0&&(s.push(Rn(Jn,e,{value:h.join(p)})),h.length=0),s.push(v)}}return h.length>0&&s.push(Rn(Jn,e,{value:h.join(p)})),1==s.length?s[0].is_string(n)?s[0]:Rn(un,s[0],{operator:"+",left:Rn(Jn,e,{value:""}),right:s[0]}):""==p?(d=s[0].is_string(n)||s[1].is_string(n)?s.shift():Rn(Jn,e,{value:""}),s.reduce((function(e,n){return Rn(un,n,{operator:"+",left:e,right:n})}),d).optimize(n)):((se=e.clone()).expression=se.expression.clone(),se.expression.expression=se.expression.expression.clone(),se.expression.expression.elements=s,Ht(n,e,se))}}break;case"charAt":if(e.args.length<2)return(se=Rn(un,e,{operator:"||",left:Rn(on,e,{expression:t.expression,property:e.args.length?Rn(un,e.args[0],{operator:"|",left:Rn(Xn,e,{value:0}),right:e.args[0]}):Rn(Xn,e,{value:0})}).optimize(n),right:Rn(Jn,e,{value:""})})).is_string=u,se.optimize(n);break;case"apply":if(2==e.args.length&&e.args[1]instanceof vn)return(J=e.args[1].elements.slice()).unshift(e.args[0]),Rn(Qe,e,{expression:Rn(rn,t,{expression:t.expression,property:"call"}),args:J}).optimize(n);break;case"call":var m=t.expression;if(m instanceof Hn&&(m=m.fixed_value()),m instanceof Z&&!m.contains_this())return(e.args.length?Zn(this,[e.args[0],Rn(Qe,e,{expression:t.expression,args:e.args.slice(1)})]):Rn(Qe,e,{expression:t.expression,args:[]})).optimize(n)}if(n.option("unsafe_Function")&&xt(t)&&"Function"==t.name){if(0==e.args.length)return Rn(ue,e,{argnames:[],body:[]}).init_vars(t.scope);if(g(e.args,(function(e){return e instanceof Jn})))try{var _=Yt(k="n(function("+e.args.slice(0,-1).map((function(e){return e.value})).join()+"){"+e.args[e.args.length-1].value+"})"),y={ie:n.option("ie")};_.figure_out_scope(y);var w,x=new Kt(n.options);(_=_.transform(x)).figure_out_scope(y),_.compute_char_frequency(y),_.mangle_names(y),_.walk(new ft((function(e){return!!w||(e instanceof Z?(w=e,!0):void 0)})));var k=Zt();return N.prototype._codegen.call(w,k),e.args=[Rn(Jn,e,{value:w.argnames.map((function(e){return e.print_to_string()})).join()}),Rn(Jn,e.args[e.args.length-1],{value:k.get().replace(/^\{|\}$/g,"")})],e}catch(ye){if(!(ye instanceof qt))throw ye;S.warn("Error parsing code passed to new Function [{file}:{line},{col}]",e.args[e.args.length-1].start),S.warn(ye.toString())}}var E=t instanceof Hn?t.fixed_value():t,T=n.parent(),A=n.self(),D=E instanceof Z&&(!ie(E)||n.option("awaits")&&T instanceof dn)&&(!re(E)||n.option("yields")&&A instanceof hn&&A.nested),O=D&&E.first_statement(),q=0,z=!1,C=!g(e.args,(function(e){return!(e instanceof an)})),F=D&&g(E.argnames,(function(n,t){if(1==q&&e.args[t]instanceof an&&(q=2),n instanceof Xe){if(q||(q=1),Mt(1==q&&e.args[t])||(q=2),er(E,n.value))return!1;n=n.name}return!(n instanceof mn&&(z=!0,er(E,n)))}))&&!(E.rest instanceof mn&&er(E,E.rest)),P=F&&n.option("inline")&&!e.is_expr_pure(n);if(P&&O instanceof Ae){var j=O.value;if(t===E&&!E.name&&(!j||j.is_constant_expression())&&Ci(E,zi(n.find_parent(K))))return Zn(e,le(j)).optimize(n)}if(D&&!E.contains_this()){var I,H=!1;if(P&&!E.uses_arguments&&!E.pinned()&&!(E.name&&E instanceof ne)&&(t===E||!Li(n,I=t.definition(),E)&&E.is_constant_expression(_n(n)))&&(j=function(e){var t=E.body.length;if(t<2&&(e=me(e)))return e;if(n.option("inline")<3)return!1;e=null;for(var i=0;i<t;i++){var r=E.body[i];if(r instanceof Le){if(H){if(!e)continue;if(!(e instanceof M))return!1;St(r)||(e=null)}else if(!St(r)){if(e&&!(e instanceof M))return!1;e=null,H=!0}}else{if(r instanceof de||r instanceof ve||r instanceof $)continue;if(e)return!1;e=r}}return me(e)}(O))){var Y,L,B,W,G=t===E||I.single_use&&I.references.length-I.replaced==1;if(function(){if(q||z||C||H||E.rest)return;if(n.option("inline")<2&&E.argnames.length)return;if(!E.variables.all((function(e){return e.references.length-e.replaced<2&&e.orig[0]instanceof Cn})))return;var t,i=n.find_parent(K),r=!1,o=zi(i),a=[],s=!1;if(j.walk(new ft((function(e,i){if(r)return!0;if(e instanceof un&&Ft[e.operator]||e instanceof ln)a=null;else{if(e instanceof K)return r=!0;if(o&&e instanceof An&&o[e.name])return r=!0;if(!(e instanceof Hn))return e.has_side_effects(n)?(i(),s=!0,!0):void 0;var f=e.definition();if(E.variables.get(e.name)!==f)return void(a=null);if(f.init instanceof pe)return r=!0;if(Ut(e,this.parent()))return r=!0;var c=_e(f);if(t<c||(t=c),!a)return;s?a=null:a.push(E.argnames[c])}}))),r)return;var f=e.args.length;if(a&&E.argnames.length>=f){for(f=E.argnames.length;f-- >t&&E.argnames[f]===a.pop(););f++}return f<=t||g(e.args.slice(t,f),s&&!a?function(e){return e.is_constant_expression(i)}:function(e){return!e.has_side_effects(n)})}()){var J=e.args.slice(),X=[],ee=j.clone(!0).transform(new ct((function(n){if(n instanceof Hn){var t=n.definition();if(E.variables.get(n.name)!==t)return X.push(n),n;var i=_e(t),r=J[i];if(!r)return Rn(tt,e);J[i]=null;var o=this.parent();return o?pt(0,o,n,r):r}}))),oe=E.inlined;t!==E&&(E.inlined=!0);var ae=[];J.forEach((function(e){e&&((e=e.clone(!0)).walk(new ft((function(e){e instanceof Hn&&X.push(e)}))),ae.push(e))}),[]),ae.push(ee);var se=Zn(e,ae).optimize(n);if(E.inlined=oe,se=pt(0,T,A,se),G||Pt(se,e)===se)return X.forEach((function(e){e.scope=t===E?E.parent_scope:t.scope,e.reference();var n=e.definition();G&&n.replaced++,n.single_use=!1})),se;se.has_side_effects(n)||(e.drop_side_effect_free=function(e,n){var t=this,i=t.args.slice();return i.unshift(t.expression),Zn(t,i).drop_side_effect_free(e,n)})}if(G&&function(){var e,i=new b,r=0;W=A;do{if(W.variables&&W.variables.each((function(e){i.set(e.name,!0)})),e=W,(W=n.parent(r++))instanceof R)B=[];else if(W instanceof U){if(W.init===e)continue;B=[]}else if(W instanceof V){if(W.init===e)continue;if(W.object===e)continue;B=[]}}while(!(W instanceof K));if(!(L=W.body.indexOf(e)+1))return!1;if(!Ci(E,zi(W)))return!1;var o=(t!==E||E.parent_scope.resolve()===W)&&!W.pinned();W instanceof Q&&(n.toplevel.vars?i.set("arguments",!0):o=!1);Y=new b;var a=n.option("inline");return!!function(e,n){var t=!1;return E.each_argname((function(i){if(!t&&!i.unused){if(!n||ge(e,i.name))return t=!0;Y.set(i.name,!0),B&&B.push(i.definition())}})),!t}(i,a>=2&&o)&&(!!function(e,n){for(var t=0;t<E.body.length;t++){var i=E.body[t];if(i instanceof pe){var r=i.name;if(!n)return!1;if(Y.has(r.name))return!1;if(ge(e,r.name))return!1;if(!g(i.enclosed,(function(n){return n.scope===W||n.scope===i||!e.has(n.name)})))return!1;B&&B.push(r.definition())}else if(i instanceof Le){if(!n)return!1;for(var o=i.definitions.length;--o>=0;){r=i.definitions[o].name;if(ge(e,r.name))return!1;B&&B.push(r.definition())}}}return!0}(i,a>=3&&o)&&(!B||0==B.length||!Gi(E,B)))}()){E._squeezed=!0,t!==E&&(E.parent_scope=t.scope);se=Zn(e,function(){var t=[],i=[];q>1||z||C||E.rest?function(n,t){function i(e,i){var r=i.definition();r.assignments++,r.references.push(e);var o=Rn(zn,i,i);r.orig.push(o),r.eliminated++,be(n,t,o)}t.push(Rn(pn,e,{operator:"=",left:Rn(gn,e,{elements:E.argnames.map((function(e){return e.unused?Rn(it,e):e.convert_symbol(Hn,i)})),rest:E.rest&&E.rest.convert_symbol(Hn,i)}),right:Rn(vn,e,{elements:e.args.slice()})}))}(t,i):function(n,t){for(var i=E.argnames.length,r=e.args.length;--r>=i;)t.push(e.args[r]);var o=[];for(r=i;--r>=0;){var a,s=E.argnames[r];s instanceof Xe?(o.push(s),a=s.name):a=s;var f=e.args[r];if(a.unused||W.var_names().has(a.name))f&&t.push(f);else{var c=Rn(zn,a,a),u=a.definition();u.orig.push(c),u.eliminated++,void 0!==a.unused?(be(n,t,c),f&&t.push(f)):(!f&&B&&s===a&&(f=Rn(tt,e)),be(n,t,c,f))}}for(n.reverse(),t.reverse(),r=o.length;--r>=0;){var l=o[r];if(void 0!==l.name.unused)t.push(l.value);else{var p=Rn(Hn,l.name,l.name);l.name.definition().references.push(p),t.push(Rn(pn,l,{operator:"=",left:p,right:l.value}))}}}(t,i);var r=function(e,t){var i=[L,0],r=[],o=[],a=[],s=[],f=[];return E.body.filter(B?function(n){if(!(n instanceof pe))return!0;var t=Rn(zn,n.name,Zi(n.name)),i=t.definition();return i.fixed=!1,i.orig.push(t),i.eliminated++,be(e,o,t,li(n,!0)),!1}:function(e){if(!(e instanceof pe))return!0;var n=e.name.definition();return W.functions.set(n.name,n),W.variables.set(n.name,n),W.enclosed.push(n),W.var_names().set(n.name,!0),i.push(e),!1}).forEach((function(e){if(e instanceof Le)for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t],o=Zi(i.name),c=i.value;c&&f.length>0&&(f.push(c),c=Zn(i,f),f=[]),be(r,a,o,c),B&&(Y.has(o.name)||1==o.definition().orig.length&&E.functions.has(o.name)||s.push(tr(n,o)))}else e instanceof M&&f.push(e.body)})),[].push.apply(e,r),[].push.apply(t,s),[].push.apply(t,o),[].push.apply(t,a),i}(t,i);i.push(j),t.length&&r.push(Rn(Le,E,{definitions:t}));return[].splice.apply(W.body,r),E.enclosed.forEach((function(e){W.var_names().has(e.name)||(W.enclosed.push(e),W.var_names().set(e.name,!0))})),i}()).optimize(n);return pt(0,T,A,se)}}if(n.option("side_effects")&&F&&g(E.body,_t)&&(E===t?mi(E,n):!q&&!z&&!E.rest)&&(!te(E)||!E.value)&&Ci(E,zi(n.find_parent(K))))return Zn(e,le()).optimize(n)}if(n.option("drop_console")&&t instanceof tn){for(var fe=t.expression;fe.expression;)fe=fe.expression;if(xt(fe)&&"console"==fe.name)return Rn(tt,e).optimize(n)}return n.option("negate_iife")&&T instanceof M&&yt(A)?e.negate(n,!0):Gt(n,e);function ce(e){return Rn(rn,e,{expression:Rn(vn,e,{elements:[]}),property:"e"})}function le(n){var t=e.args.slice(),i=q>1||z||E.rest;if((i||C)&&(t=[Rn(vn,e,{elements:t})]),i){var r=new ct((function(e,n){if(e instanceof Xe)return Rn(Xe,e,{name:e.name.transform(r)||ce(e),value:e.value});if(e instanceof gn){var t=[];return e.elements.forEach((function(e,n){(e=e.transform(r))&&(t[n]=e)})),ci(e,t),Rn(gn,e,{elements:t})}if(e instanceof yn){var i=[],o=[];return e.properties.forEach((function(n){var t=n.key,a=n.value.transform(r);a?(o.length&&(t instanceof S||(t=ut(t,n)),o.push(t),t=Zn(e,o),o=[]),i.push(Rn(bn,n,{key:t,value:a}))):t instanceof S&&o.push(t)})),o.length&&i.push(Rn(bn,e,{key:Zn(e,o),value:ce(e)})),Rn(yn,e,{properties:i})}return e instanceof Cn?null:void 0})),o=[];E.argnames.forEach((function(e,n){(e=e.transform(r))&&(o[n]=e)}));var a=E.rest&&E.rest.transform(r);a&&(o.length=E.argnames.length),ci(E,o),t[0]=Rn(pn,e,{operator:"=",left:Rn(gn,E,{elements:o,rest:a}),right:t[0]})}else E.argnames.forEach((function(e){e instanceof Xe&&t.push(e.value)}));return t.push(n||Rn(tt,e)),t}function he(){return e.call_only?Rn(Xn,e,{value:0}):Rn(tt,e)}function me(n){return n?n instanceof Ae?n.value||he():n instanceof M?e.call_only?n.body:Rn(fn,n,{operator:"void",expression:n.body}):void 0:he()}function _e(e){for(var n=E.argnames.length;--n>=0;)if(E.argnames[n].definition()===e)return n}function ge(e,n){return e.has(n)||Pn[n]||W.var_names().has(n)}function be(n,t,i,r){var o=i.definition();if(W.var_names().has(i.name)||(W.var_names().set(i.name,!0),n.push(Rn(Be,i,{name:i,value:null}))),W.variables.set(i.name,o),W.enclosed.push(o),r){var a=Rn(Hn,i,i);o.assignments++,o.references.push(a),t.push(Rn(pn,e,{operator:"=",left:a,right:r}))}}})),e(Ze,(function(e,n){if(n.option("sequences")){var t=$i(e);if(t!==e)return t.optimize(n)}if(n.option("unused")&&qi(e,n),n.option("unsafe")){var i=e.expression;if(xt(i))switch(i.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return Rn(Qe,e,e).transform(n)}}return e})),e(en,(function(e,n){var t=function(){if(!n.option("side_effects"))return e.expressions;var t=[],i=w(n),r=e.expressions.length-1;return e.expressions.forEach((function(e,o){o<r&&(e=e.drop_side_effect_free(n,i)),e&&(dt(t,e),i=!1)})),t}(),i=t.length-1;return function(){for(var e=1;e<i;e++){var o=t[e-1],a=r(o);if(a){var s=t[e];if(n.option("conditionals")){var f=Mi(n,a,o.right,s);if(f){o.right=f,t.splice(e--,1),i--;continue}}n.option("dead_code")&&r(s)===a&&s.right.is_constant_expression(a.scope.resolve())&&(t[--e]=o.right)}}}(),function(){if(!n.option("side_effects"))return;for(;i>0&&Mt(t[i],n);)i--;i<t.length-1&&(t[i]=Rn(fn,e,{operator:"void",expression:t[i]}),t.length=i+1)}(),0==i?((e=pt(0,n.parent(),n.self(),t[0]))instanceof en||(e=e.optimize(n)),e):(e.expressions=t,e);function r(e){return e instanceof pn&&"="==e.operator&&e.left instanceof Hn&&e.left.definition()}})),e(cn,(function(e,n){if(n.option("sequences")){var t=$i(e);if(t!==e)return t.optimize(n)}return Gt(n,e)}));var Fi=_("+ -"),Pi=_("* / %");e(fn,(function(e,n){var t=e.operator,i=e.expression;if(n.option("sequences")&&function(){switch(t){case"delete":return!s(i.tail_node());case"typeof":return!xt(i.tail_node());default:return!0}}()){var r=$i(e);if(r!==e)return r.optimize(n)}switch(t){case"+":if(!n.option("evaluate"))break;if(!i.is_number(n,!0))break;var o=n.parent();if(o instanceof fn&&"delete"==o.operator)break;return i;case"-":if(i instanceof rt&&(i=i.transform(n)),i instanceof Xn||i instanceof rt)return e;break;case"!":if(!n.option("booleans"))break;if(i.is_truthy())return Zn(e,[i,Rn(at,e)]).optimize(n);if(n.in_boolean_context()){if(i instanceof fn&&"!"==i.operator)return i.expression;i instanceof un&&(e=Ht(n,e,i.negate(n,w(n))))}break;case"delete":if(!n.option("evaluate"))break;if(s(i))break;return Zn(e,[i,Rn(st,e)]).optimize(n);case"typeof":if(!n.option("booleans"))break;if(!n.in_boolean_context())break;S.warn("Boolean expression always true [{file}:{line},{col}]",e.start);var a=[Rn(st,e)];return i instanceof Hn&&k(i,n)||a.unshift(i),Zn(e,a).optimize(n);case"void":if(!n.option("side_effects"))break;return(i=i.drop_side_effect_free(n))?(e.expression=i,e):Rn(tt,e).optimize(n)}return n.option("evaluate")&&i instanceof un&&Fi[t]&&Pi[i.operator]&&(i.left.is_constant()||!i.right.has_side_effects(n))?Rn(un,e,{operator:i.operator,left:Rn(fn,i.left,{operator:t,expression:i.left}),right:i.right}):Gt(n,e);function s(e){return e instanceof rt||e instanceof nt||e instanceof Vn||e instanceof tn||e instanceof Hn||e instanceof tt}})),e(dn,(function(e,n){if(!n.option("awaits"))return e;if(n.option("sequences")){var t=$i(e);if(t!==e)return t.optimize(n)}if(n.option("side_effects")){var i=e.expression;if(i instanceof dn)return i.optimize(n);if(i instanceof fn&&i.expression instanceof dn)return i.optimize(n);for(var r,o=0,a=e;r=n.parent(o++);a=r){if(te(r)){if(r.value===a)return i.optimize(n)}else if(r instanceof Ae){var s=!0;do{if(a=r,(r=n.parent(o++))instanceof je&&(r.bfinally||r.bcatch)!==a){s=!1;break}}while(r&&!(r instanceof K));if(s)return i.optimize(n)}else if(r instanceof en&&r.tail_node()===a)continue;break}}return e})),e(hn,(function(e,n){if(!n.option("yields"))return e;if(n.option("sequences")){var t=$i(e);if(t!==e)return t.optimize(n)}var i=e.expression;if(e.nested&&"Call"==i.TYPE){var r=i.clone().optimize(n);if("Call"!=r.TYPE)return r}return e})),un.DEFMETHOD("lift_sequences",(function(e){if(this.left instanceof tn){if(!(this.left.expression instanceof en))return this;var n=this.left.expression.expressions.slice();return(t=this.clone()).left=t.left.clone(),t.left.expression=n.pop(),n.push(t),Zn(this,n)}if(this.left instanceof en){n=this.left.expressions.slice();return(t=this.clone()).left=n.pop(),n.push(t),Zn(this,n)}if(this.right instanceof en){if(this.left.has_side_effects(e))return this;for(var t,i="="==this.operator&&this.left instanceof Hn,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),Zn(this,n);if(o>0)return(t=this.clone()).right=Zn(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),Zn(this,n)}return this}));var ji=_("indexOf lastIndexOf"),Ni=_("== === != !== * & | ^");function Ii(e){return e instanceof pn?"="==e.operator&&Ii(e.right):e instanceof en?Ii(e.tail_node()):e instanceof Hn?Ii(e.fixed_value()):e instanceof vn||e instanceof _e||e instanceof Z||e instanceof Ze||e instanceof wn}function Hi(e,n){if(n.is_constant())return!0;if(n instanceof pn)return"="!=n.operator||Hi(e,n.right);if(n instanceof un)return!Ft[n.operator]||Hi(e,n.left)&&Hi(e,n.right);if(n instanceof ln)return Hi(e,n.consequent)&&Hi(e,n.alternative);if(n instanceof en)return Hi(e,n.tail_node());if(n instanceof Hn){var t=n.fixed_value();return t&&Hi(e,t)}return n instanceof Wn?!n.tag||Ui(e,n.tag):n instanceof sn||void 0}function Yi(e,n){return n instanceof rn?Yi(e,n.expression):n instanceof on?Yi(e,n.expression)&&Yi(e,n.property):n instanceof An||!n.has_side_effects(e)}function Ri(e,n){var t=e.right;e.left=Rn(un,e,{operator:e.operator,left:e.left,right:t.left,start:e.left.start,end:t.left.end}),e.right=t.right,n?e.left=e.left.transform(n):e.operator==t.left.operator&&Ri(e.left)}function Li(e,n,t){var i=0,r=e.self();do{if(r===t)return r;if(o(r)&&r.name&&r.name.definition()===n)return r}while(r=e.parent(i++))}function Bi(e){var n=e.scope.resolve();return g(e.references,(function(e){return n===e.scope.resolve()}))}function Ui(e,n){return e.option("unsafe")&&n instanceof rn&&"raw"==n.property&&xt(n.expression)&&"String"==n.expression.name}function Vi(e){var n=!1;if(e=e.replace(/\\(u\{[^{}]*\}?|u[\s\S]{0,4}|x[\s\S]{0,2}|[0-9]+|[\s\S])/g,(function(e,t){var i=$t(t);if("string"==typeof i)return i;n=!0})),!n)return e}function Wi(e,n){return e instanceof Hn||e.TYPE===n.TYPE}function Gi(e,n){var t=!1,r=new ft((function(e){return!!t||(e instanceof Hn&&i(e.definition(),n)?t=!0:void 0)})),o=new ft((function(n){if(t)return!0;if(n instanceof Z&&n!==e){if(!(n.name||ie(n)||re(n))){var i=o.parent();if(i instanceof Qe&&i.expression===n)return}return n.walk(r),!0}}));return e.walk(o),t}e(un,(function(e,n){if(!Ni[e.operator]||!e.right.is_constant()||e.left.is_constant()||e.left instanceof un&&It[e.left.operator]>=It[e.operator]||O(),n.option("sequences")){var t=e.lift_sequences(n);if(t!==e)return t.optimize(n)}if(n.option("assignments")&&Ft[e.operator]){var i=e.right;if(e.left instanceof Hn&&i instanceof pn&&"="==i.operator&&e.left.equivalent_to(i.left))return Rn(pn,e,{operator:"=",left:i.left,right:Rn(un,e,{operator:e.operator,left:e.left,right:i.right})}).optimize(n)}if(n.option("comparisons"))switch(e.operator){case"===":case"!==":if(Mt(e.left,n)&&e.right.is_defined(n))return S.warn("Expression always defined [{file}:{line},{col}]",e.start),Zn(e,[e.right,Rn("==="==e.operator?at:st,e)]).optimize(n);var r=!0;(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_number(n)&&e.right.is_number(n)||e.left.is_boolean(n)&&e.right.is_boolean(n)||Yi(n,e.left)&&e.left.equivalent_to(e.right))&&(e.operator=e.operator.slice(0,2));case"==":case"!=":if(!r&&Mt(e.left,n))e.left=Rn(et,e.left);else if(n.option("typeofs")&&e.left instanceof Jn&&"undefined"==e.left.value&&e.right instanceof fn&&"typeof"==e.right.operator){((o=e.right.expression)instanceof Hn?!o.is_declared(n):o instanceof tn&&n.option("ie"))||(e.right=o,e.left=Rn(tt,e.left).optimize(n),2==e.operator.length&&(e.operator+="="))}else if(e.left instanceof Hn&&e.right instanceof Hn&&e.left.definition()===e.right.definition()&&Ii(e.left))return Rn("="==e.operator[0]?st:at,e).optimize(n);break;case"&&":case"||":var o;if((f=e.left).operator==e.operator&&(f=f.right),(o=f.right)instanceof pn&&"="==o.operator&&(o=o.left),f instanceof un&&f.operator==("&&"==e.operator?"!==":"===")&&e.right instanceof un&&f.operator==e.right.operator&&(Mt(f.left,n)&&e.right.left instanceof et||f.left instanceof et&&Mt(e.right.left,n))&&!o.has_side_effects(n)&&o.equivalent_to(e.right.right))return f.operator=f.operator.slice(0,-1),f.left=Rn(et,e),e.left}var a=!1,s=n.parent();if(n.option("booleans")){var f=e.left;if(Ft[e.operator]&&!f.has_side_effects(n)){if(f.equivalent_to(e.right))return pt(0,s,n.self(),f).optimize(n);xi(n,f)}a=n.in_boolean_context()}if(a)switch(e.operator){case"+":var c=e.left.evaluate(n,!0);if(c&&"string"==typeof c||(c=e.right.evaluate(n,!0))&&"string"==typeof c){S.warn("+ in boolean context always true [{file}:{line},{col}]",e.start);var u=[];if(e.left.evaluate(n)instanceof S&&u.push(e.left),e.right.evaluate(n)instanceof S&&u.push(e.right),u.length<2)return u.push(Rn(st,e)),Zn(e,u).optimize(n);e.truthy=!0}break;case"==":if(e.left instanceof Jn&&""==e.left.value&&e.right.is_string(n))return Rn(fn,e,{operator:"!",expression:e.right}).optimize(n);break;case"!=":if(e.left instanceof Jn&&""==e.left.value&&e.right.is_string(n))return e.right.optimize(n)}if(n.option("comparisons")&&e.is_boolean(n)){if(!(s instanceof un)||s instanceof pn){var l=Ht(n,e,Rn(fn,e,{operator:"!",expression:e.negate(n,w(n))}));if(l!==e)return l}switch(e.operator){case">":O("<");break;case">=":O("<=")}}if(n.option("conditionals")&&Ft[e.operator]&&e.right instanceof un&&e.operator==e.right.operator&&Ri(e,n),n.option("strings")&&"+"==e.operator){if(e.right instanceof Jn&&""==e.right.value&&e.left.is_string(n))return e.left.optimize(n);if(e.left instanceof Jn&&""==e.left.value&&e.right.is_string(n))return e.right.optimize(n);if(e.left instanceof un&&"+"==e.left.operator&&e.left.left instanceof Jn&&""==e.left.left.value&&e.right.is_string(n)&&(e.left.right.is_constant()||!e.right.has_side_effects(n)))return e.left=e.left.right,e.optimize(n);e.right instanceof un&&e.operator==e.right.operator&&(e.left.is_string(n)&&e.right.is_string(n)||e.right.left.is_string(n)&&(e.left.is_constant()||!e.right.right.has_side_effects(n)))&&Ri(e,n)}if(n.option("evaluate")){var p=!0;switch(e.operator){case"&&":if(!(m=wi(n,e.left)))return S.warn("Condition left of && always false [{file}:{line},{col}]",e.start),pt(0,s,n.self(),e.left).optimize(n);if(!(m instanceof S))return S.warn("Condition left of && always true [{file}:{line},{col}]",e.start),Zn(e,[e.left,e.right]).optimize(n);if(e.right.evaluate(n,!0)){if((a||"&&"==s.operator&&s.left===n.self())&&!(e.right.evaluate(n)instanceof S))return S.warn("Dropping side-effect-free && [{file}:{line},{col}]",e.start),e.left.optimize(n)}else{if(a&&!(e.right.evaluate(n)instanceof S))return S.warn("Boolean && always false [{file}:{line},{col}]",e.start),Zn(e,[e.left,Rn(at,e)]).optimize(n);e.falsy=!0}if("||"==e.left.operator)if(!(v=wi(n,e.left.right)))return Rn(ln,e,{condition:e.left.left,consequent:e.right,alternative:e.left.right}).optimize(n);break;case"??":var d=!0;case"||":var h,v,m=wi(n,e.left,d);if(!(d?null!=m:m))return S.warn("Condition left of {operator} always {value} [{file}:{line},{col}]",{operator:e.operator,value:d?"nulish":"false",file:e.start.file,line:e.start.line,col:e.start.col}),Zn(e,[e.left,e.right]).optimize(n);if(!(m instanceof S))return S.warn("Condition left of {operator} always {value} [{file}:{line},{col}]",{operator:e.operator,value:d?"defined":"true",file:e.start.file,line:e.start.line,col:e.start.col}),pt(0,s,n.self(),e.left).optimize(n);if(d||!(h=e.right.evaluate(n,!0))||h instanceof S){if((a||"||"==s.operator&&s.left===n.self())&&!e.right.evaluate(n))return S.warn("Dropping side-effect-free {operator} [{file}:{line},{col}]",{operator:e.operator,file:e.start.file,line:e.start.line,col:e.start.col}),e.left.optimize(n)}else{if(a&&!(e.right.evaluate(n)instanceof S))return S.warn("Boolean || always true [{file}:{line},{col}]",e.start),Zn(e,[e.left,Rn(st,e)]).optimize(n);e.truthy=!0}if(!d&&"&&"==e.left.operator)if((v=wi(n,e.left.right))&&!(v instanceof S))return Rn(ln,e,{condition:e.left.left,consequent:e.left.right,alternative:e.right}).optimize(n);break;case"+":if(e.left instanceof Gn&&e.right instanceof un&&"+"==e.right.operator&&e.right.left instanceof Gn&&e.right.is_string(n)&&(e=Rn(un,e,{operator:"+",left:Rn(Jn,e.left,{value:""+e.left.value+e.right.left.value,start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof Gn&&e.left instanceof un&&"+"==e.left.operator&&e.left.right instanceof Gn&&e.left.is_string(n)&&(e=Rn(un,e,{operator:"+",left:e.left.left,right:Rn(Jn,e.right,{value:""+e.left.right.value+e.right.value,start:e.left.right.start,end:e.right.end})})),e.right instanceof fn&&"-"==e.right.operator&&e.left.is_number(n)){e=Rn(un,e,{operator:"-",left:e.left,right:e.right.expression});break}if(e.left instanceof fn&&"-"==e.left.operator&&D()&&e.right.is_number(n)){e=Rn(un,e,{operator:"-",left:e.right,right:e.left.expression});break}if(n.option("unsafe_math")&&e.left instanceof un&&It[e.left.operator]==It[e.operator]&&e.right.is_constant()&&(e.right.is_boolean(n)||e.right.is_number(n))&&e.left.is_number(n)&&!e.left.right.is_constant()&&(e.left.left.is_boolean(n)||e.left.left.is_number(n))){e=Rn(un,e,{operator:e.left.operator,left:Rn(un,e,{operator:e.operator,left:e.right,right:e.left.left}),right:e.left.right});break}case"-":if(e.right instanceof fn&&"-"==e.right.operator&&e.left.is_number(n)&&e.right.expression.is_number(n)){e=Rn(un,e,{operator:"+",left:e.left,right:e.right.expression});break}case"*":case"/":p=n.option("unsafe_math"),"+"!=e.operator&&["left","right"].forEach((function(t){var i=e[t];if(i instanceof fn&&"+"==i.operator){var r=i.expression;(r.is_boolean(n)||r.is_number(n)||r.is_string(n))&&(e[t]=r)}}));case"&":case"|":case"^":if("-"!=e.operator&&"/"!=e.operator&&(e.left.is_boolean(n)||e.left.is_number(n))&&(e.right.is_boolean(n)||e.right.is_number(n))&&D()&&!(e.left instanceof un&&e.left.operator!=e.operator&&It[e.left.operator]>=It[e.operator])){var _=Rn(un,e,{operator:e.operator,left:e.right,right:e.left});e=e.right instanceof Gn&&!(e.left instanceof Gn)?Ht(n,_,e):Ht(n,e,_)}if(!p||!e.is_number(n))break;if(!(e.right instanceof un&&"%"!=e.right.operator&&It[e.right.operator]==It[e.operator]&&e.right.is_number(n)&&("+"!=e.operator||e.right.left.is_boolean(n)||e.right.left.is_number(n)))||"-"==e.operator&&e.left.is_negative_zero()||!e.right.left.is_constant_expression()&&e.right.right.has_side_effects(n)||function(e){var n=!1;return e.walk(new ft((function(e){if(n)return!0;if(e instanceof pn){if(e.left instanceof tn)return n=!0}else if(e instanceof sn&&Bt[e.operator]&&e.expression instanceof tn)return n=!0}))),n}(e.right.right)||"+"!=(e=Rn(un,e,{operator:E(e.operator,e.right.operator),left:Rn(un,e.left,{operator:e.operator,left:e.left,right:e.right.left,start:e.left.start,end:e.right.left.end}),right:e.right.right})).operator||e.right.is_boolean(n)||e.right.is_number(n)||(e.right=Rn(fn,e.right,{operator:"+",expression:e.right})),e.right instanceof Gn&&e.left instanceof un&&"%"!=e.left.operator&&It[e.left.operator]==It[e.operator]&&e.left.is_number(n))if(e.left.left instanceof Gn){f=T(e.left,e.operator,e.left.left,e.right,e.left.left.start,e.right.end);e=T(e,e.left.operator,Gt(n,f),e.left.right)}else if(e.left.right instanceof Gn){var g=E(e.left.operator,e.operator),b=Gt(n,T(e.left,g,e.left.right,e.right));!b.is_constant()||"-"==e.left.operator&&0!=e.right.value&&0==+b.value&&e.left.left.is_negative_zero()||(e=T(e,e.left.operator,e.left.left,b))}}if(!(s instanceof fn&&"delete"==s.operator)){if(e.left instanceof Xn&&!e.right.is_constant())switch(e.operator){case"+":if(0==e.left.value){if(e.right.is_boolean(n))return Rn(fn,e,{operator:"+",expression:e.right}).optimize(n);if(e.right.is_number(n)&&!e.right.is_negative_zero())return e.right}break;case"*":if(1==e.left.value)return Rn(fn,e,{operator:"+",expression:e.right}).optimize(n)}if(e.right instanceof Xn&&!e.left.is_constant())switch(e.operator){case"+":if(0==e.right.value){if(e.left.is_boolean(n))return Rn(fn,e,{operator:"+",expression:e.left}).optimize(n);if(e.left.is_number(n)&&!e.left.is_negative_zero())return e.left}break;case"-":if(0==e.right.value)return Rn(fn,e,{operator:"+",expression:e.left}).optimize(n);break;case"/":if(1==e.right.value)return Rn(fn,e,{operator:"+",expression:e.left}).optimize(n)}}}if(n.option("typeofs"))switch(e.operator){case"&&":yi(e.left,e.right,null);break;case"||":yi(e.left,null,e.right)}if(n.option("unsafe")){var y=A(e.right);if(a&&y&&("=="==e.operator||"!="==e.operator)&&e.left instanceof Xn&&0==e.left.value)return("=="==e.operator?Rn(fn,e,{operator:"!",expression:e.right}):e.right).optimize(n);var x=A(e.left);if(n.option("comparisons")&&function(){switch(e.operator){case"<=":return y&&e.left instanceof Xn&&0==e.left.value;case"<":if(x&&e.right instanceof Xn&&0==e.right.value)return!0;case"==":case"!=":return!!y&&(e.left instanceof Xn&&-1==e.left.value||e.left instanceof fn&&"-"==e.left.operator&&e.left.expression instanceof Xn&&1==e.left.expression.value)}}()){var k=Rn(fn,e,{operator:"!",expression:Rn(fn,e,{operator:"~",expression:x?e.left:e.right})});switch(e.operator){case"<":if(x)break;case"<=":case"!=":k=Rn(fn,e,{operator:"!",expression:k})}return k.optimize(n)}}return Gt(n,e);function E(e,n){switch(e){case"-":return"+"==n?"-":"+";case"/":return"*"==n?"/":"*";default:return n}}function T(e,t,i,r,o,a){return"+"==t&&(i.is_boolean(n)||i.is_number(n)||(i=Rn(fn,i,{operator:"+",expression:i})),r.is_boolean(n)||r.is_number(n)||(r=Rn(fn,r,{operator:"+",expression:r}))),Rn(un,e,{operator:t,left:i,right:r,start:o,end:a})}function A(e){return"Call"==e.TYPE&&e.expression instanceof rn&&ji[e.expression.property]}function D(){return e.left.is_constant()||e.right.is_constant()||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n)}function O(n){if(D()){n&&(e.operator=n);var t=e.left;e.left=e.right,e.right=t}}})),e(Yn,(function(e){return e})),e(Hn,(function(e,n){if(!n.option("ie")&&xt(e)&&(!e.scope.resolve().uses_with||!n.find_parent(X)))switch(e.name){case"undefined":return Rn(tt,e).optimize(n);case"NaN":return Rn(nt,e).optimize(n);case"Infinity":return Rn(rt,e).optimize(n)}var t=n.parent();if(n.option("reduce_vars")&&Ut(n.self(),t)!==n.self()){var i,r,a,s=e.definition(),f=e.fixed_value(),c=s.single_use&&!(t instanceof Qe&&t.is_expr_pure(n));if(c)if(o(f)){if(s.scope===e.scope.resolve()&&!s.in_loop||n.option("reduce_funcs")&&1!=s.escaped.depth&&!f.inlined)if(Li(n,s,f))c=!1;else if(f.name&&f.name.definition()!==s)c=!1;else if(f.parent_scope!==e.scope||Lt(s)){if("f"==(c=f.is_constant_expression(e.scope))){var u=e.scope;do{(u instanceof pe||u instanceof ne)&&(u.inlined=!0)}while(u=u.parent_scope)}}else(f.name&&("await"==f.name.name&&ie(f)||"yield"==f.name.name&&re(f))||f.has_side_effects(n)||n.option("ie")&&f instanceof _e)&&(c=!1);else c=!1;c&&(f.parent_scope=e.scope)}else(!f||s.recursive_refs>0||!f.is_constant_expression()||f.drop_side_effect_free(n))&&(c=!1);if(c){if(s.single_use=!1,f._squeezed=!0,f.single_use=!0,f instanceof ge&&(f=ui(f)),f instanceof pe&&(f=li(f)),o(f)){u=e.scope.resolve();f.enclosed.forEach((function(e){f.variables.has(e.name)||u.var_names().has(e.name)||(u.enclosed.push(e),u.var_names().set(e.name,!0))}))}if(s.recursive_refs>0){var l,p,d=(b=f.clone(!0)).name.definition(),h=b.variables.get(b.name.name),v=h&&h.orig[0];b instanceof _e?(l="def_function",p=jn):(l="def_variable",p=Fn),v instanceof p||((v=Rn(p,b.name,b.name)).scope=b,b.name=v,(h=b[l](v)).recursive_refs=s.recursive_refs),b.walk(new ft((function(e){if(e instanceof Dn)e!==v&&((n=e.definition()).orig.push(e),n.eliminated++);else if(e instanceof Hn){var n;if((n=e.definition())===d)e.thedef=n=h;else{n.single_use=!1;var t=e.fixed_value();o(t)&&t.name&&t.name.definition()===n&&n.scope===t.name.scope&&f.variables.get(t.name.name)===n&&(t.name=t.name.clone(),e.thedef=n=b.variables.get(t.name.name)||b[l](t.name))}n.references.push(e)}})))}else f instanceof K?(n.push(f),b=f.optimize(n),n.pop()):b=f.optimize(n),b=b.transform(new ct((function(e,n){return e instanceof K||n(e=e.clone(),this),e})));return s.replaced++,b}if(f&&!1!==(i=e.fixed||s.fixed).should_replace)if(f instanceof Un?Lt(s)||!Bi(s)||function(n){var t=e.scope;for(;t!==n.scope;){if(t instanceof _e)return!0;t=t.parent_scope}}(s)||(a=f):(r=f.evaluate(n,!0))!==f&&"function"!=typeof r&&(null===r||"object"!=typeof r||n.option("unsafe_regexp")&&r instanceof RegExp&&!s.cross_loop&&Bi(s))&&(a=ut(r,f)),a){if(void 0===i.should_replace){var m=a.optimize(n).print_to_string().length;y(f)||(m=Math.min(m,f.print_to_string().length));var _=s.name.length;if(n.option("unused")&&!n.exposed(s)){var g=s.references.length-s.replaced-s.assignments;g=Math.min(g,s.references.filter((function(e){return e.fixed===i})).length),_+=(_+2+m)/Math.max(1,g)}i.should_replace=m-Math.floor(_)<n.eval_threshold}var b;if(i.should_replace)return y(f)?(b=a.optimize(n))===a&&(b=b.clone(!0)):(b=Pt(a.optimize(n),f))!==a&&b!==f||(b=b.clone(!0)),s.replaced++,b}}return e;function y(e){var n;return e.walk(new ft((function(e){if(e instanceof Hn&&(n=!0),n)return!0}))),n}})),e(Wn,(function(e,n){if(!n.option("templates"))return e;var t=e.tag;if(!t||Ui(n,t)){for(var i,r=[],o=[],a=0;a<e.strings.length;a++){var s=e.strings[a];if(!t){var f=Vi(s);f&&(s=h(f))}if(a>0){var c=e.expressions[a-1],u=v(c);if(u){var l,p=o[o.length-1]+u+s;if(t||typeof(l=Vi(p))==i){o[o.length-1]=l?h(l):p;continue}}r.push(c)}o.push(s),t||(i=typeof f)}if(!t&&o.length>1){if(""==o[o.length-1])return Rn(un,e,{operator:"+",left:Rn(Wn,e,{expressions:r.slice(0,-1),strings:o.slice(0,-1),tag:t}).transform(n),right:r[r.length-1]}).optimize(n);if(""==o[0]){var d=Rn(un,e,{operator:"+",left:Rn(Jn,e,{value:""}),right:r[0]});for(a=1;""==o[a]&&a<r.length;a++)d=Rn(un,e,{operator:"+",left:d,right:r[a]});return Ht(n,e,Rn(un,e,{operator:"+",left:d.transform(n),right:Rn(Wn,e,{expressions:r.slice(a),strings:o.slice(a),tag:t}).transform(n)}).optimize(n))}}e.expressions=r,e.strings=o}return Gt(n,e);function h(e){return e.replace(/\r|\\|`|\${/g,(function(e){return"\\"+("\r"==e?"r":e)}))}function v(e){var i=e.evaluate(n);if(i!==e&&(!t||!/\r|\\|`/.test(i))&&!((i=h(""+i)).length>e.print_to_string().length+"${}".length))return i}})),e(tt,(function(e,n){if(n.option("unsafe_undefined")){var t=_n(n).find_variable("undefined");if(t){var i=Rn(Hn,e,{name:"undefined",scope:t.scope,thedef:t});return i.is_undefined=!0,i}}var r=Ut(n.self(),n.parent());return r&&Wi(r,e)?e:Rn(fn,e,{operator:"void",expression:Rn(Xn,e,{value:0})})})),e(rt,(function(e,n){var t=Ut(n.self(),n.parent());return t&&Wi(t,e)?e:!n.option("keep_infinity")||t||_n(n).find_variable("Infinity")?Rn(un,e,{operator:"/",left:Rn(Xn,e,{value:1}),right:Rn(Xn,e,{value:0})}):e})),e(nt,(function(e,n){var t=Ut(n.self(),n.parent());return t&&Wi(t,e)?e:t||_n(n).find_variable("NaN")?Rn(un,e,{operator:"/",left:Rn(Xn,e,{value:0}),right:Rn(Xn,e,{value:0})}):e}));var Ji=_("+ - * / % >> << >>> | ^ &"),Xi=_("* | ^ &");function Ki(e,n){if(!e)return!1;var t=n.parent();return"Call"!=t.TYPE||(t.expression!==n.self()||!(e instanceof Hn&&!(e=e.fixed_value()))&&(e instanceof Z&&!e.contains_this()))}function Qi(e){return e instanceof kn&&"string"==typeof e.key&&!(e instanceof En&&e.value.contains_super())}function Zi(e){var n=e.definition().redefined();return n&&((e=e.clone()).thedef=n),e}function er(e,n){var t=!1;return n.walk(new ft((function(n){return!!t||(n instanceof Hn&&e.variables.get(n.name)===n.definition()?t=!0:void 0)}))),t}function nr(e,n){var t=[];e.references.forEach((function(e){var i=e.fixed;i&&h(t,i)&&(i.assigns?i.assigns.unshift(n):i.assigns=[n])}))}function tr(e,n){var t=Rn(Hn,n,n),i=Rn(pn,n,{operator:"=",left:t,right:Rn(tt,n).transform(e)}),r=n.definition();return r.fixed&&(t.fixed=function(){return i.right},t.fixed.assigns=[i],nr(r,i)),r.assignments++,r.references.push(t),i}e(pn,(function(e,n){if(n.option("dead_code"))if(e.left instanceof tn){if("="==e.operator){if(e.redundant){var t=[e.left.expression];return e.left instanceof on&&t.push(e.left.property),t.push(e.right),Zn(e,t).optimize(n)}if(e.left.equivalent_to(e.right)&&!e.left.has_side_effects(n))return e.right;var i=e.left.expression;if(i instanceof Z||!n.has_directive("use strict")&&i instanceof Gn&&!i.may_throw_on_access(n))return e.left instanceof rn?e.right:Zn(e,[e.left.property,e.right]).optimize(n)}}else if(e.left instanceof Hn&&k(e.left,n)){var r;if("="==e.operator&&e.left.equivalent_to(e.right)&&!((r=n.parent())instanceof fn&&"delete"==r.operator))return e.right;if(e.left.is_immutable())return _();var o,a=e.left.definition(),s=a.scope.resolve(),f=s===n.find_parent(Z),c=0;if(r=n.self(),!s.uses_arguments||!Lt(a)||n.has_directive("use strict"))do{if(o=r,(r=n.parent(c++))instanceof pn){if(r.left instanceof Hn&&r.left.definition()===a){if(m(c,r))break;return _(a)}if(r.left.match_symbol((function(e){if(e instanceof tn)return!0})))break}else{if(r instanceof Te){if(!f)break;if(m(c,r))break;if(Gi(s,[a]))break;return _(a)}if(r instanceof M){if(!f)break;if(Gi(s,[a]))break;var u;do{if(u=r,(r=n.parent(c++))===s&&At(r.body,u))return _(a)}while(v(u,r));break}if(r instanceof Be){if(!(r.name instanceof Dn))continue;if(r.name.definition()!==a)continue;if(m(c,r))break;return _(a)}}}while(h(o,r))}if(n.option("sequences")){var l=e.lift_sequences(n);if(l!==e)return l.optimize(n)}if(n.option("assignments")){if("="==e.operator&&e.left instanceof Hn&&e.right instanceof un){var p;if((p=e.right.left)instanceof Hn&&p.name==e.left.name&&Ji[e.right.operator])return e.left.fixed&&(e.left.fixed.to_binary=function(){return p}),Rn(pn,e,{operator:e.right.operator+"=",left:e.left,right:e.right.right});if((p=e.right.right)instanceof Hn&&p.name==e.left.name&&Xi[e.right.operator]&&!e.right.left.has_side_effects(n))return e.left.fixed&&(e.left.fixed.to_binary=function(){return p}),Rn(pn,e,{operator:e.right.operator+"=",left:e.left,right:e.right.left})}if(("-="==e.operator||"+="==e.operator&&(e.left.is_boolean(n)||e.left.is_number(n)))&&e.right instanceof Xn&&1==e.right.value){var d=e.operator.slice(0,-1);return Rn(fn,e,{operator:d+d,expression:e.left})}}return Gt(n,e);function h(e,n){if(n instanceof un)return n.right===e||n.right.is_constant_expression(s);if(n instanceof ln)return n.condition!==e||n.consequent.is_constant_expression(s)&&n.alternative.is_constant_expression(s);if(n instanceof en){var t=n.expressions,i=t.indexOf(e);if(i<0)return!1;for(var r=t.length;--r>i;)if(!t[r].is_constant_expression(s))return!1;return!0}return n instanceof fn||void 0}function v(e,n){return n instanceof N||n instanceof Ne||n instanceof Ie?At(n.body,e):n instanceof ze?n.body===e||n.alternative===e:n instanceof je?n.bfinally?n.bfinally===e:n.bcatch===e:void 0}function m(t,i){var r=e.right;e.right=Rn(et,r);var o,a=i.may_throw(n);for(e.right=r;o=n.parent(t++);i=o){if(o===s)return!1;if(o instanceof je){if(o.bfinally&&o.bfinally!==i)return!0;if(a&&o.bcatch&&o.bcatch!==i)return!0}}}function _(t){return t&&(t.fixed=!1),("="!=e.operator?Rn(un,e,{operator:e.operator.slice(0,-1),left:e.left,right:e.right}):pt(0,n.parent(),e,e.right)).optimize(n)}})),e(ln,(function(e,n){if(n.option("sequences")&&e.condition instanceof en){var t=e.condition.expressions.slice();return e.condition=t.pop(),t.push(e),Zn(e,t)}if(!n.option("conditionals"))return e;var i=e.condition;if(n.option("booleans")&&!i.has_side_effects(n)&&xi(n,i),!(i=wi(n,i)))return S.warn("Condition always false [{file}:{line},{col}]",e.start),Zn(e,[e.condition,e.alternative]).optimize(n);if(!(i instanceof S))return S.warn("Condition always true [{file}:{line},{col}]",e.start),Zn(e,[e.condition,e.consequent]).optimize(n);var r=i.negate(n,w(n));Ht(n,i,r)===r&&(e=Rn(ln,e,{condition:r,consequent:e.alternative,alternative:e.consequent}),r=i,i=e.condition);var o=e.consequent,a=e.alternative;if(Yi(n,i)){if(i.equivalent_to(o))return Rn(un,e,{operator:"||",left:i,right:a}).optimize(n);if(i.equivalent_to(a))return Rn(un,e,{operator:"&&",left:i,right:o}).optimize(n)}var s=o.tail_node();if(s instanceof pn){var f="="==s.operator,c=f?a.tail_node():a;if((f||o===s)&&c instanceof pn&&s.operator==c.operator&&s.left.equivalent_to(c.left)&&(f&&s.left instanceof Hn||!i.has_side_effects(n)&&x(o)&&x(a)))return Rn(pn,e,{operator:s.operator,left:s.left,right:Rn(ln,e,{condition:i,consequent:k(o),alternative:k(a)})})}if(o.equivalent_to(a))return Zn(e,[i,o]).optimize(n);var u,l=function n(t,r,o){if(!y(t,r))return!o&&Rn(ln,e,{condition:i,consequent:t,alternative:r});var a=t.clone();return a.expression=n(t.expression,r.expression),a}(o,a,!0);if(l)return l;if(o instanceof Qe&&a.TYPE==o.TYPE&&(u=b(o,a))>=0&&o.expression.equivalent_to(a.expression)&&!i.has_side_effects(n)&&!o.expression.has_side_effects(n)){var p=o.clone(),d=o.args[u];return p.args[u]=d instanceof an?Rn(an,e,{expression:Rn(ln,e,{condition:i,consequent:d.expression,alternative:a.args[u].expression})}):Rn(ln,e,{condition:i,consequent:d,alternative:a.args[u]}),p}if(o instanceof ln&&o.alternative.equivalent_to(a))return Rn(ln,e,{condition:Rn(un,e,{left:i,operator:"&&",right:o.condition}),consequent:o.consequent,alternative:a});if(o instanceof ln&&o.consequent.equivalent_to(a))return Rn(ln,e,{condition:Rn(un,e,{left:r,operator:"||",right:o.condition}),consequent:a,alternative:o.alternative});if(a instanceof ln&&o.equivalent_to(a.consequent))return Rn(ln,e,{condition:Rn(un,e,{left:i,operator:"||",right:a.condition}),consequent:o,alternative:a.alternative});if(a instanceof ln&&o.equivalent_to(a.alternative))return Rn(ln,e,{condition:Rn(un,e,{left:r,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:o});if((o instanceof en||a instanceof en)&&o.tail_node().equivalent_to(a.tail_node()))return Zn(e,[Rn(ln,e,{condition:i,consequent:E(o),alternative:E(a)}),o.tail_node()]).optimize(n);if(o instanceof un&&"&&"==o.operator&&o.right.equivalent_to(a))return Rn(un,e,{operator:"&&",left:Rn(un,e,{operator:"||",left:r,right:o.left}),right:a}).optimize(n);if(o instanceof un&&"||"==o.operator&&o.right.equivalent_to(a))return Rn(un,e,{operator:"||",left:Rn(un,e,{operator:"&&",left:i,right:o.left}),right:a}).optimize(n);if(a instanceof un&&"&&"==a.operator&&a.right.equivalent_to(o))return Rn(un,e,{operator:"&&",left:Rn(un,e,{operator:"||",left:i,right:a.left}),right:o}).optimize(n);if(a instanceof un&&"||"==a.operator&&a.right.equivalent_to(o))return Rn(un,e,{operator:"||",left:Rn(un,e,{operator:"&&",left:r,right:a.left}),right:o}).optimize(n);var h=n.option("booleans")&&n.in_boolean_context();return m(o)?_(a)?v(i):Rn(un,e,{operator:"||",left:v(i),right:a}):_(o)?m(a)?v(i.negate(n)):Rn(un,e,{operator:"&&",left:v(i.negate(n)),right:a}):m(a)?Rn(un,e,{operator:"||",left:v(i.negate(n)),right:o}):_(a)?Rn(un,e,{operator:"&&",left:v(i),right:o}):(n.option("typeofs")&&yi(i,o,a),e);function v(e){return e.is_boolean(n)?e:Rn(fn,e,{operator:"!",expression:e.negate(n)})}function m(e){return e instanceof st||h&&e instanceof Gn&&e.value||e instanceof fn&&"!"==e.operator&&e.expression instanceof Gn&&!e.expression.value}function _(e){return e instanceof at||h&&(e instanceof Gn&&!e.value||e instanceof fn&&"void"==e.operator&&!e.expression.has_side_effects(n))||e instanceof fn&&"!"==e.operator&&e.expression instanceof Gn&&e.expression.value}function b(e,n){var t=e.args,i=n.args,r=t.length;if(r!=i.length)return-2;for(var o=0;o<r;o++)if(!t[o].equivalent_to(i[o])){if(t[o]instanceof an!==i[o]instanceof an)return-3;for(var a=o+1;a<r;a++)if(!t[a].equivalent_to(i[a]))return-2;return o}return-1}function y(e,n){if(e.TYPE==n.TYPE&&e.optional==n.optional){if(e instanceof Qe){if(-1!=b(e,n))return;return"Call"!=e.TYPE||!(e.expression instanceof tn||n.expression instanceof tn)||y(e.expression,n.expression)}if(e instanceof tn){var t=e.property,i=n.property;return(t instanceof S?t.equivalent_to(i):t==i)&&!(e.expression instanceof Bn||n.expression instanceof Bn)}}}function x(e){return e===e.tail_node()||g(e.expressions.slice(0,-1),(function(e){return!e.has_side_effects(n)}))}function k(e){if(!(e instanceof en))return e.right;var n=e.expressions.slice();return n.push(n.pop().right),Zn(e,n)}function E(e){return e instanceof en?Zn(e,e.expressions.slice(0,-1)):Rn(Xn,e,{value:0})}})),e(ot,(function(e,n){if(!n.option("booleans"))return e;if(n.in_boolean_context())return Rn(Xn,e,{value:+e.value});var t=n.parent();return t instanceof un&&("=="==t.operator||"!="==t.operator)?(S.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:t.operator,value:e.value,file:t.start.file,line:t.start.line,col:t.start.col}),Rn(Xn,e,{value:+e.value})):Rn(fn,e,{operator:"!",expression:Rn(Xn,e,{value:1-e.value})})})),e(an,(function(e,n){var t=e.expression;return n.option("spreads")&&t instanceof vn&&!(n.parent()instanceof wn)?d.splice(t.elements.map((function(e){return e instanceof it?Rn(tt,e).optimize(n):e}))):e})),e(on,(function(e,n){var t=e.expression,i=e.property,o=Oi(e,n);if(o)return o;if(n.option("properties")){var a=i.evaluate(n);if(a!==i){if("string"==typeof a)if("undefined"==a)a=void 0;else(A=parseFloat(a)).toString()==a&&(a=A);i=e.property=Pt(i,ut(a,i).transform(n));var f=""+a;if(Ot(f)&&f.length<=i.print_to_string().length+1)return Rn(rn,e,{optional:e.optional,expression:t,property:f}).optimize(n)}}var c,u,l,p,d=n.parent(),h=Ut(n.self(),d);if(n.option("arguments")&&t instanceof Hn&&s(c=t.definition())&&!t.in_arg&&i instanceof Xn&&Math.floor(w=i.value)==w&&(u=c.scope)===function(){var e,t=0;for(;e=n.parent(t++);)if(e instanceof Z){if(e instanceof ee)return;if(te(e))continue;return l=n.parent(t),e}}()&&u.uses_arguments<(h?2:3)){d instanceof fn&&"delete"==d.operator&&(c.deleted||(c.deleted=[]),c.deleted[w]=!0);var v=u.argnames[w];if(c.deleted&&c.deleted[w])v=null;else if(v){var m;v instanceof Cn&&"await"!=v.name&&t.scope.find_variable(v.name)===(m=v.definition())?(n.has_directive("use strict")||u.name||u.rest||!(l instanceof Qe&&w<l.args.length&&g(l.args.slice(0,w+1),(function(e){return!(e instanceof an)})))||!g(u.argnames,(function(e){return e instanceof Cn})))&&(D()||m.assignments||m.orig.length>1)&&(v=null):v=null}else if((h||!D())&&w<u.argnames.length+5&&n.drop_fargs(u,l)&&!u.rest)for(;w>=u.argnames.length;)v=u.make_var(Cn,u,"argument_"+u.argnames.length),u.argnames.push(v);if(v&&r((function(e){return e.name===v.name}),u.argnames)===v){h&&c.reassigned--;var _=Rn(Hn,e,v);return _.reference(),v.unused=void 0,_}}if(h)return e;if(n.option("sequences")&&"Call"!=d.TYPE&&!(d instanceof V&&d.init===e)){var b=$i(e);if(b!==e)return b.optimize(n)}if(a!==i){var y=e.flatten_object(f,n);y&&(t=e.expression=y.expression,i=e.property=y.property)}if(n.option("properties")&&n.option("side_effects")&&i instanceof Xn&&t instanceof vn&&g(p=t.elements,(function(e){return!(e instanceof an)}))){var w,x=p[w=i.value];if(Ki(x,n)){for(var k=x instanceof it,E=!k,S=[],T=p.length;--T>w;){(A=p[T].drop_side_effect_free(n))&&(S.unshift(A),E&&A.has_side_effects(n)&&(E=!1))}for(E||S.unshift(x);--T>=0;){var A;(A=p[T].drop_side_effect_free(n))?S.unshift(A):k?S.unshift(Rn(it,p[T])):w--}return E?(S.push(x),Zn(e,S).optimize(n)):Rn(on,e,{expression:Rn(vn,t,{elements:S}),property:Rn(Xn,i,{value:w})})}}return Gt(n,e);function D(){return!n.option("reduce_vars")||c.reassigned}})),ne.DEFMETHOD("contains_super",(function(){var e=!1,n=this;return n.walk(new ft((function(t){return!!e||(t instanceof Bn?e=!0:t!==n&&t instanceof K&&!te(t)||void 0)}))),e})),function(e){e(ae,c),e(se,c),e(S,(function(){var e=!1,n=this;return n.walk(new ft((function(t){return!!e||(t instanceof Un?e=!0:t!==n&&t instanceof K&&!te(t)||void 0)}))),e}))}((function(e,n){e.DEFMETHOD("contains_this",n)})),tn.DEFMETHOD("flatten_object",(function(e,n){if(n.option("properties")&&"__proto__"!==e){var t=this,i=t.expression;if(i instanceof wn)for(var r=i.properties,o=r.length;--o>=0;){var a=r[o];if(a.key===e){if(!g(r,Qi))return;if(!Ki(a.value,n))return;for(var s,f,c=[],u=0;u<r.length;u++){var l=r[u].value;if(r[u]instanceof En){var p,d=!(l.uses_arguments||re(l)||l.contains_this());if(d){f||(f=n.find_parent(K));var h=zi(f);l.each_argname((function(e){h[e.name]&&(d=!1)}))}if(d)p=ie(l)?se:ae;else{if(!(o!=u||(s=n.parent())instanceof Qe&&s.expression===t))return;p=l.CTOR}l=Rn(p,l,l)}c.push(l)}return Rn(on,t,{expression:Rn(vn,i,{elements:c}),property:Rn(Xn,t,{value:o})})}}}})),e(rn,(function(e,n){"arguments"!=e.property&&"caller"!=e.property||S.warn("Function.prototype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col});var t=n.parent();if(Ut(n.self(),t))return e;var i=Oi(e,n);if(i)return i;if(n.option("sequences")&&"Call"!=t.TYPE&&!(t instanceof V&&t.init===e)){var r=$i(e);if(r!==e)return r.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof rn&&"prototype"==e.expression.property){var o=e.expression.expression;if(xt(o))switch(o.name){case"Array":e.expression=Rn(vn,e.expression,{elements:[]});break;case"Function":e.expression=Rn(ue,e.expression,{argnames:[],body:[]}).init_vars(o.scope);break;case"Number":e.expression=Rn(Xn,e.expression,{value:0});break;case"Object":e.expression=Rn(wn,e.expression,{properties:[]});break;case"RegExp":e.expression=Rn(Qn,e.expression,{value:/t/});break;case"String":e.expression=Rn(Jn,e.expression,{value:""})}}var a=e.flatten_object(e.property,n);return a?a.optimize(n):Gt(n,e)})),e(gn,(function(e,n){return n.option("rests")&&e.rest instanceof gn?Rn(gn,e,{elements:e.elements.concat(e.rest.elements),rest:e.rest.rest}):e})),e(bn,(function(e,n){if(n.option("objects")){var t=e.key;t instanceof S&&(t=t.evaluate(n))!==e.key&&(e.key=""+t)}return e})),e(wn,(function(e,n){if(!n.option("objects"))return e;var t=!1,i=!1,r=!1,o=n.has_directive("use strict"),a=[],s=new b,f=[];if(e.properties.forEach((function(e){if(!(e instanceof an))return l(e);i=!0;var o=e.expression;n.option("spreads")&&o instanceof wn&&g(o.properties,(function(e){return!(e instanceof Tn)&&(!(e instanceof an)&&("__proto__"!==e.key||(e instanceof Sn||!e.value.has_side_effects(n))))}))?(t=!0,o.properties.forEach((function(e){var t=e.key,i=e instanceof Sn;if("__proto__"===t){if(!i)return;t=ut(t,e)}l(i?Rn(kn,e,{key:t,value:Rn(tt,e).optimize(n)}):e)}))):(r=!0,u(),f.push(e))})),u(),!t)return e;if(i&&r&&1==f.length){var c=f[0];c instanceof xn&&c.key instanceof Xn&&(c.key=""+c.key.value)}return Rn(wn,e,{properties:f});function u(){a.forEach((function(n){var i=s.get(n);switch(i.length){case 0:return;case 1:return f.push(i[0])}t=!0;var a=o&&!r&&i.pop();f.push(1==i.length?i[0]:Rn(kn,e,{key:i[0].key,value:Zn(e,i.map((function(e){return e.value})))})),a&&f.push(a),i.length=0})),a=[],s=new b}function l(e){var t=e.key;t instanceof S&&(i=!0,(t=t.evaluate(n))===e.key||"__proto__"===t?r=!0:t=e.key=""+t),Qi(e)?(e.value.has_side_effects(n)&&u(),a.push(t),s.add(t,e)):(u(),f.push(e)),i&&!r&&"string"==typeof t&&T.test(t)&&(r=!0,s.has(t)&&(e=s.get(t)[0]),e.key=Rn(Xn,e,{value:+t}))}})),function(e){function n(e,n,t,i,r,o){for(var a=[],s=r.expressions,f=t,c=s.length-(o||0),u=c;--c>=0;f=!0){var l=s[c].try_inline(e,n,f,i);l&&(p(),a.push(l))}if(0!=a.length)return p(),!t&&a[0]instanceof M&&(a[0]=Rn(Ae,r,{value:a[0].body})),Rn(N,r,{body:a.reverse()});function p(){u>c+1&&a.push(Rn(M,r,{body:Zn(r,s.slice(c+1,u))})),u=c}}e(S,f),e(pn,f),e(dn,(function(e,n,t,i){var r=this,o=function(e){if(!t)return e;if("Call"!=e.TYPE)return e;var n=e.expression;switch(n.CTOR){case se:n=Rn(ae,n,n);break;case fe:n=Rn(ue,n,n);break;case ce:n=Rn(le,n,n);break;default:return e}return(e=e.clone()).expression=n,e}(r.expression).try_inline(e,n,t,i);if(o)return t||pi(o,(function(n){n.in_bool=!1;var t=n.value;t instanceof dn||(n.value=Rn(dn,r,{expression:t||Rn(tt,n).transform(e)}))})),ii(o)?o:Rn(N,r,{body:[o,Rn(M,r,{body:Rn(dn,r,{expression:Rn(Xn,r,{value:0})})})]})})),e(un,(function(e,n,t,i){if(void 0!==t){var r=this,o=r.operator;if(Ft[o]){var a=r.right.try_inline(e,n,t,i);if(a)return Rn(ze,r,{condition:function(n){switch(o){case"&&":return n;case"||":return n.negate(e);case"??":return Rn(un,r,{operator:"==",left:Rn(et,r),right:n})}}(r.left),body:a,alternative:t?null:Rn(Ae,r,{value:null})})}}})),e(N,(function(e,n,t,i){if(!t&&this.variables){var r=this.body,o=r.length-1;if(!(o<0)){var a=r[o].try_inline(e,this,t,i);if(a)return r[o]=a,this}}})),e(Qe,(function(e,n,t,r){if(!(e.option("inline")<4)){var o=this;if(!o.is_expr_pure(e)){var a=o.expression;if(a instanceof ne&&!a.name&&!a.uses_arguments&&!a.pinned()&&!re(a)){var s=te(a);if((!s||!a.value)&&!(a.body[0]instanceof O)&&!a.contains_this()&&(n||(n=_n(e)),!Ke(n))){var f=new b;for(f.set("NaN",!0);!(n instanceof K);)n.variables.each((function(e){f.set(e.name,!0)})),n=n.parent_scope;if(i(n,e.stack)&&!(n.pinned()&&a.variables.size()>(s?0:1))){if(n instanceof Q){if(a.variables.size()>(s?0:1)){if(!e.toplevel.vars)return;if(a.functions.size()>0&&!e.toplevel.funcs)return}f.set("arguments",!0)}var c=ie(a);if(c){if(!e.option("awaits"))return;if(!ie(n))return;if(o.may_throw(e))return}var u=n.var_names();if(r&&(r=[]),a.variables.all((function(e,n){return r&&r.push(e),!f.has(n)&&!u.has(n)||!s&&"arguments"==n&&1==e.orig.length}))&&!(r&&r.length>0&&Gi(a,r))){var l=!0;if(g(a.argnames,(function(e){var n=!1,t=new ft((function(e){return!!n||(e instanceof Xe?er(a,e.value)?n=!0:(e.name.walk(t),!0):e instanceof bn?e.key instanceof S&&er(a,e.key)?n=!0:(e.value.walk(t),!0):e instanceof Cn&&!g(e.definition().orig,(function(e){return!(e instanceof Mn)}))?n=!0:void 0)}));return e.walk(t),!n&&(e instanceof Cn||(l=!1),!0)}))){if(a.rest){if(er(a,a.rest))return;l=!1}if((!t||g(a.body,(function(e){var n=!1;return e.walk(new ft((function(e){return!!n||(c&&e instanceof dn||e instanceof Ae?n=!0:e instanceof K&&e!==a||void 0)}))),!n})))&&Ci(a,zi(n))){a.functions.each((function(e,t){n.functions.set(t,e)}));var p=[];a.variables.each((function(t,i){if((s||"arguments"!=i||1!=t.orig.length)&&(u.set(i,!0),n.enclosed.push(t),n.variables.set(i,t),t.single_use=!1,r&&t.references.length!=t.replaced&&t.orig.length!=t.eliminated&&(1!=t.orig.length||!a.functions.has(i))&&g(t.orig,(function(e){return!(e instanceof On)&&(e instanceof Cn?t.scope.resolve()!==a:!(e instanceof qn))})))){var o=t.orig[0];o instanceof Nn||p.push(Rn(M,o,{body:tr(e,Zi(o))}))}}));var d=Object.create(null),h=new b;if(l&&g(o.args,(function(e){return!(e instanceof an)}))){var v=o.args.slice();a.argnames.forEach((function(n){var t=v.shift();if(n.unused)t&&p.push(Rn(M,o,{body:t}));else{var i=Rn(Be,o,{name:n.convert_symbol(zn,_),value:t||Rn(tt,o).transform(e)});n instanceof Cn&&nr(n.definition(),i),p.push(Rn(Le,o,{definitions:[i]}))}})),v.length&&p.push(Rn(M,o,{body:Zn(o,v)}))}else p.push(Rn(Le,o,{definitions:[Rn(Be,o,{name:Rn(gn,o,{elements:a.argnames.map((function(e){return e.unused?Rn(it,e):e.convert_symbol(zn,_)})),rest:a.rest&&a.rest.convert_symbol(zn,_)}),value:Rn(vn,o,{elements:o.args.slice()})})]}));h.each((function(e,n){var t=d[n];[].unshift.apply(t.orig,e),t.eliminated+=e.length})),[].push.apply(p,r?a.body.filter((function(e){if(!(e instanceof pe))return!0;var n=Rn(zn,e.name,Zi(e.name)),t=n.definition();return t.fixed=!1,t.orig.push(n),t.eliminated++,p.push(Rn(Le,e,{definitions:[Rn(Be,e,{name:n,value:li(e,!0)})]})),!1})):a.body);var m=Rn(N,o,{body:p});return t||(c&&pi(m,(function(e){var n=e.value;Mt(n)||(e.value=Rn(dn,o,{expression:n}))})),p.push(Rn(Ae,o,{value:null}))),m}}}}}}}}function _(e,n){var t=n.definition();d[t.id]=t,h.add(t.id,e)}})),e(ln,(function(e,n,t,i){var r=this,o=r.consequent.try_inline(e,n,t,i),a=r.alternative.try_inline(e,n,t,i);if(o||a)return Rn(ze,r,{condition:r.condition,body:o||s(r.consequent),alternative:a||s(r.alternative)});function s(e){return t?Rn(M,e,{body:e}):Rn(Ae,e,{value:e})}})),e(U,(function(e,n,t,i){var r=this.body.try_inline(e,n,!0,!0);r&&(this.body=r);var o=this.init;return o&&(o=o.try_inline(e,n,!0,i))?(this.init=null,o instanceof N?(o.body.push(this),o):Rn(N,o,{body:[o,this]})):r&&this})),e(V,(function(e,t,i,r){var o=this.body.try_inline(e,t,!0,!0);o&&(this.body=o);var a=this.object;if(a instanceof en){var s=n(e,t,!0,r,a,1);if(s)return this.object=a.tail_node(),s.body.push(this),s}return o&&this})),e(ze,(function(e,t,i,r){var o=this.body.try_inline(e,t,i,r);o&&(this.body=o);var a=this.alternative;a&&(a=a.try_inline(e,t,i,r))&&(this.alternative=a);var s=this.condition;if(s instanceof en){var f=n(e,t,!0,r,s,1);if(f)return this.condition=s.tail_node(),f.body.push(this),f}return(o||a)&&this})),e(Y,(function(e,n,t,i){var r=this.body.try_inline(e,n,!0,!0);if(r)return this.body=r,this})),e(H,(function(e,n,t,i){var r=this.body.try_inline(e,n,t,i);if(r){if(this.body instanceof Y&&r instanceof N){var o=r.body.pop();return this.body=o,r.body.push(this),r}return this.body=r,this}})),e(Ze,f),e(Ae,(function(e,n,t,i){var r=this.value;return r&&r.try_inline(e,n,void 0,"try"===i)})),e(en,(function(e,t,i,r){return n(e,t,i,r,this)})),e(M,(function(e,n,t,i){for(var r=this.body;r instanceof fn;){var o=r.operator;if(Bt[o])break;if("void"==o)break;r=r.expression}return t||Mt(r)||(r=Rn(fn,this,{operator:"void",expression:r})),r.try_inline(e,n,t||!1,i)})),e(fn,(function(e,n,t,i){var r=this,o=r.operator;if(!Bt[o]){t||"void"!=o||(t=!1);var a=r.expression.try_inline(e,n,t,i);if(a)return t||pi(a,(function(n){n.in_bool=!1;var t=n.value;"void"==o&&Mt(t)||(n.value=Rn(fn,r,{operator:o,expression:t||Rn(tt,n).transform(e)}))})),a}})),e(X,(function(e,t,i,r){var o=this.body.try_inline(e,t,i,r);o&&(this.body=o);var a=this.expression;if(a instanceof en){var s=n(e,t,!0,r,a,1);if(s)return this.expression=a.tail_node(),s.body.push(this),s}return o&&this})),e(hn,(function(e,n,t,i){if(e.option("yields")&&this.nested){var r=this.expression;if("Call"==r.TYPE){var o=r.expression;switch(o.CTOR){case ce:o=Rn(fe,o,o);break;case le:o=Rn(ue,o,o);break;default:return}return(r=r.clone()).expression=o,r.try_inline(e,n,t,i)}}}))}((function(e,n){e.DEFMETHOD("try_inline",n)})),e(Ae,(function(e,n){var t=e.value;return t&&n.option("side_effects")&&Mt(t,n)&&!Ke(n.find_parent(K))&&(e.value=null),e}))}((function(e,n){e.DEFMETHOD("optimize",(function(e){var t=this;if(t._optimized)return t;if(e.has_directive("use asm"))return t;var i=n(t,e);return i._optimized=!0,i}))})),function(){function e(e,n){e.DEFMETHOD("_codegen",n)}var n=!1;S.DEFMETHOD("print",(function(e,n){var t=this;function i(){e.prepend_comments(t),t.add_source_map(e),t._codegen(e),e.append_comments(t)}e.push_node(t),n||t.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}));var t=Zt({inline_script:!1,shebang:!1,width:!1});function i(e,n){e.DEFMETHOD("needs_parens",n)}function r(e){var n=e.parent();return!e.has_parens()&&w(e,!1,!0)?this.name||!(n instanceof Ve):!!(e.option("webkit")&&n instanceof tn&&n.expression===this)||(!!(e.option("wrap_iife")&&n instanceof Qe&&n.expression===this)||void 0)}function o(e){return!e.has_parens()&&w(e,!0)}function a(e){var n=e.parent();return n instanceof un?"**"==n.operator&&n.left===this:n instanceof Qe?n.expression===this:n instanceof _e||(n instanceof tn?n.expression===this:n instanceof Wn?n.tag===this:void 0)}function s(e,n){return!!e.terminal&&((n instanceof Qe||n instanceof tn)&&n.expression===e)}function u(e,n){var t=n.parent();return t instanceof dn||(t instanceof un?!(t instanceof pn):t instanceof Qe?t.expression===e:t instanceof _e||(t instanceof ln?t.condition===e:t instanceof tn?t.expression===e:t instanceof Wn?t.tag===e:t instanceof sn||void 0))}function l(e,t,i,r){var o=e.length-1,a=r,s=n;e.forEach((function(e,r){a&&(e instanceof O?"use asm"==e.value&&(n=!0):e instanceof $||(e instanceof M&&e.body instanceof Jn&&i.force_semicolon(),a=!1)),e instanceof $||(i.indent(),e.print(i),r==o&&t||(i.newline(),t&&i.newline()))})),n=s}function p(e,n){n.print("{"),n.with_indent((function(){n.append_comments(e,!0)})),n.print("}")}function d(e,n,t){e.body.length>0?n.with_block((function(){l(e.body,!1,n,t)})):p(e,n)}function h(e,n){return function(t){var i=this;t.print(e),t.space(),t.with_parens((function(){i.init.print(t),t.space(),t.print(n),t.space(),i.object.print(t)})),R(i.body,t)}}function v(e,n){n.with_parens((function(){e.argnames.forEach((function(e,t){t&&n.comma(),e.print(n)})),e.rest&&(e.argnames.length&&n.comma(),n.print("..."),e.rest.print(n))}))}function m(e,n){var t=1==e.argnames.length&&!e.rest&&e.argnames[0];t instanceof Cn&&"yield"!=t.name?t.print(n):v(e,n),n.space(),n.print("=>"),n.space(),e.value?e.value.print(n):d(e,n,!0)}function _(e,n){e.name&&(n.space(),e.name.print(n)),v(e,n),n.space(),d(e,n,!0)}function g(e){e.print("async"),e.space(),e.print("function"),_(this,e)}function b(e){e.print("async"),e.space(),e.print("function*"),_(this,e)}function y(e){e.print("function*"),_(this,e)}function x(e,n){var t=e.value;ie(t)&&(n.print("async"),n.space()),re(t)&&n.print("*"),F(e,n),_(e.value,n)}function k(e,n){return function(t){t.print(e);var i=this[n];i&&(t.space(),i.print(t)),t.semicolon()}}function E(e,n){n.newline(),e.body.forEach((function(e){n.indent(),e.print(n),n.newline()}))}function T(e){return function(n){n.print(e),n.space(),this.definitions.forEach((function(e,t){t&&n.comma(),e.print(n)}));var t=n.parent();t instanceof Y&&t.init===this||n.semicolon()}}function A(e,n,t){var i=!1;t&&e.walk(new ft((function(e){return!!i||(e instanceof un&&"in"==e.operator?i=!0:e instanceof K&&(!te(e)||!e.value)||void 0)}))),e.print(n,i)}function q(e,n){if(n.option("annotations")&&e.pure){var t,i=0,r=e;do{if(t=r,(r=n.parent(i++))instanceof Qe&&r.expression===t)return}while(r instanceof tn&&r.expression===t);n.print("/*@__PURE__*/")}}function z(e,n){(e.expression instanceof Qe||e.expression instanceof Z)&&n.add_mapping(e.start),n.with_parens((function(){e.args.forEach((function(e,t){t&&n.comma(),e.print(n)}))}))}function C(e,n,t){var i=e.properties;i.length>0?n.with_block((function(){i.forEach((function(e,i){i&&(t||n.print(","),n.newline()),n.indent(),e.print(n)})),n.newline()})):p(e,n)}function F(e,n){var t=e.key;if(t instanceof S)return n.with_square((function(){t.print(n)}));var i=e.start&&e.start.quote;if(n.option("quote_keys")||i&&n.option("keep_quoted_props"))n.print_string(t,i);else if(""+ +t==t&&t>=0)n.print(oe(t));else if(e.private)n.print_name(t);else{if(pt[t]?!n.option("ie"):Ot(t))return n.print_name(t),t;n.print_string(t,i)}}function P(e){return function(n){var t=this;t.static&&(n.print("static"),n.space()),n.print(e),n.space(),F(t,n),_(t.value,n)}}function j(e){var n=e.definition();return n&&n.mangled_name||e.name}function R(e,n){n.option("braces")&&!(e instanceof Ye||e instanceof Re)?ve(e,n):e instanceof $?n.force_semicolon():(n.space(),e.print(n))}function ee(e,n){return e.args.length>0||n.option("beautify")}function oe(e){var n,t,i,r=e.toString(10).replace(/^0\./,".").replace("e+","e"),o=[r];return Math.floor(e)===e&&(e<0?o.push("-0x"+(-e).toString(16).toLowerCase()):o.push("0x"+e.toString(16).toLowerCase())),(n=/^\.0+/.exec(r))?(t=n[0].length,i=r.slice(t),o.push(i+"e-"+(i.length+t-1))):(n=/[^0]0+$/.exec(r))?(t=n[0].length-1,o.push(r.slice(0,-t)+"e"+t)):(n=/^(\d)\.(\d+)e(-?\d+)$/.exec(r))&&o.push(n[1]+n[2]+"e"+(n[3]-n[2].length)),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(o)}function ve(e,n){n.space(),e instanceof $?p(e,n):e instanceof N?e.print(n):n.with_block((function(){n.indent(),e.print(n),n.newline()}))}function Te(e,n){e.forEach((function(e){e.DEFMETHOD("add_source_map",n)}))}S.DEFMETHOD("print_to_string",(function(e){if(e){var n=Zt(e);return this.print(n),n.get()}return this.print(t),t.reset()})),i(S,c),i(fe,r),i(ce,r),i(be,r),i(ue,r),i(le,r),i(wn,o),i(dn,a),i(sn,a),i(en,(function(e){var n=e.parent();return n instanceof vn||te(n)&&n.value===this||n instanceof dn||n instanceof un||n instanceof Qe||n instanceof _e||n instanceof ye||n instanceof ln||n instanceof Xe||n instanceof bn||n instanceof Ve||n instanceof G||n instanceof xn||n instanceof tn&&n.expression===this||n instanceof an||n instanceof Wn&&n.tag===this||n instanceof sn||n instanceof Be||n instanceof hn})),i(un,(function(e){var n=e.parent();if(n instanceof dn)return!0;if(n instanceof un){var t=n.operator,i=It[t],r=this.operator,o=It[r];return i>o||"??"==t&&("&&"==r||"||"==r)||i==o&&this===n["**"==t?"left":"right"]}return n instanceof Qe?n.expression===this:n instanceof _e||(n instanceof tn?n.expression===this:n instanceof Wn?n.tag===this:n instanceof sn||void 0)})),i(tn,(function(e){var n=this,t=e.parent();return t instanceof Ze&&t.expression===n&&"Call"==nn(n).TYPE||s(n,t)})),i(Qe,(function(e){var n=this,t=e.parent();if(t instanceof Ze)return t.expression===n;if(e.option("webkit")&&n.expression instanceof ue&&t instanceof tn&&t.expression===n){var i=e.parent(1);if(i instanceof pn&&i.left===t)return!0}return s(n,t)})),i(Ze,(function(e){if(ee(this,e))return!1;var n=e.parent();return n instanceof Qe?n.expression===this:n instanceof tn||(n instanceof Wn?n.tag===this:void 0)})),i(Xn,(function(e){if(!e.option("galio"))return!1;var n=e.parent();return n instanceof tn&&n.expression===this&&/^0/.test(oe(this.value))})),i(ae,(function(e){return u(this,e)})),i(pn,(function(e){return!!u(this,e)||(e.option("v8")?this.left instanceof mn:this.left instanceof yn?o(e):void 0)})),i(se,(function(e){return u(this,e)})),i(ln,(function(e){return u(this,e)})),i(hn,(function(e){return u(this,e)})),e(O,(function(e){var n=this.quote,t=this.value;switch(e.option("quote_style")){case 0:case 2:-1==t.indexOf('"')&&(n='"');break;case 1:-1==t.indexOf("'")&&(n="'")}e.print(n+t+n),e.semicolon()})),e(D,(function(e){e.print("debugger"),e.semicolon()})),e(Q,(function(e){l(this.body,!0,e,!0),e.print("")})),e(H,(function(e){this.label.print(e),e.colon(),this.body.print(e)})),e(M,(function(e){this.body.print(e),e.semicolon()})),e(N,(function(e){d(this,e)})),e($,(function(e){e.semicolon()})),e(L,(function(e){var n=this;e.print("do"),ve(n.body,e),e.space(),e.print("while"),e.space(),e.with_parens((function(){n.condition.print(e)})),e.semicolon()})),e(B,(function(e){var n=this;e.print("while"),e.space(),e.with_parens((function(){n.condition.print(e)})),R(n.body,e)})),e(U,(function(e){var n=this;e.print("for"),e.space(),e.with_parens((function(){n.init?(n.init instanceof He?n.init.print(e):A(n.init,e,!0),e.print(";"),e.space()):e.print(";"),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)})),R(n.body,e)})),e(J,h("for await","of")),e(W,h("for","in")),e(G,h("for","of")),e(X,(function(e){var n=this;e.print("with"),e.space(),e.with_parens((function(){n.expression.print(e)})),R(n.body,e)})),e(Ue,(function(e){e.print("export"),e.space(),this.body.print(e)})),e(Ve,(function(e){e.print("export"),e.space(),e.print("default"),e.space();var n=this.body;n.print(e),n instanceof be&&!n.name||n instanceof ge||n instanceof pe||n instanceof ne&&!n.name&&!te(n)||e.semicolon()})),e(We,(function(e){var n=this;e.print("export"),e.space();var t=n.keys.length;function i(t){var i=n.aliases[t],r=n.keys[t];e.print_name(r),i!=r&&(e.space(),e.print("as"),e.space(),e.print_name(i))}0==t?p(n,e):"*"==n.keys[0]?i(0):e.with_block((function(){e.indent(),i(0);for(var n=1;n<t;n++)e.print(","),e.newline(),e.indent(),i(n);e.newline()})),e.space(),e.print("from"),e.space(),e.print_string(n.path,n.quote),e.semicolon()})),e(Ge,(function(e){e.print("export"),e.space(),C(this,e),e.semicolon()})),e(Je,(function(e){var n=this;e.print("import"),e.space(),n.default&&n.default.print(e),n.all&&(n.default&&e.comma(),n.all.print(e)),n.properties&&(n.default&&e.comma(),C(n,e)),(n.all||n.default||n.properties)&&(e.space(),e.print("from"),e.space()),e.print_string(n.path,n.quote),e.semicolon()})),e(ae,(function(e){m(this,e)})),e(se,(function(e){e.print("async"),e.space(),m(this,e)})),e(Z,(function(e){e.print("function"),_(this,e)})),e(de,g),e(fe,g),e(he,b),e(ce,b),e(me,y),e(le,y),e(_e,(function(e){var n=this;e.print("class"),n.name&&(e.space(),n.name.print(e)),n.extends&&(e.space(),e.print("extends"),e.space(),n.extends.print(e)),e.space(),C(n,e,!0)})),e(we,(function(e){var n=this;n.static&&(e.print("static"),e.space()),F(n,e),n.value&&(e.space(),e.print("="),e.space(),n.value.print(e)),e.semicolon()})),e(xe,P("get")),e(ke,P("set")),e(Ee,(function(e){this.static&&(e.print("static"),e.space()),x(this,e)})),e(Ae,k("return","value")),e(De,k("throw","value")),e($e,k("break","label")),e(qe,k("continue","label")),e(ze,(function(e){var n=this;e.print("if"),e.space(),e.with_parens((function(){n.condition.print(e)})),n.alternative?(!function(e,n){var t=e.body;if(n.option("braces")&&!(t instanceof Ye||t instanceof Re)||n.option("ie")&&t instanceof L)return ve(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof ze){if(!t.alternative)return void ve(e.body,n);t=t.alternative}else{if(!(t instanceof I))break;t=t.body}R(e.body,n)}(n,e),e.space(),e.print("else"),n.alternative instanceof ze?(e.space(),n.alternative.print(e)):R(n.alternative,e)):R(n.body,e)})),e(Ce,(function(e){var n=this;e.print("switch"),e.space(),e.with_parens((function(){n.expression.print(e)})),e.space();var t=n.body.length-1;t<0?p(n,e):e.with_block((function(){n.body.forEach((function(n,i){e.indent(!0),n.print(e),i<t&&n.body.length>0&&e.newline()}))}))})),e(Fe,(function(e){e.print("default:"),E(this,e)})),e(Pe,(function(e){e.print("case"),e.space(),this.expression.print(e),e.print(":"),E(this,e)})),e(je,(function(e){var n=this;e.print("try"),e.space(),d(n,e),n.bcatch&&(e.space(),n.bcatch.print(e)),n.bfinally&&(e.space(),n.bfinally.print(e))})),e(Ne,(function(e){var n=this;e.print("catch"),n.argname&&(e.space(),e.with_parens((function(){n.argname.print(e)}))),e.space(),d(n,e)})),e(Ie,(function(e){e.print("finally"),e.space(),d(this,e)})),e(Ye,T("const")),e(Re,T("let")),e(Le,T("var")),e(Be,(function(e){var n=this;if(n.name.print(e),n.value){e.space(),e.print("="),e.space();var t=e.parent(1),i=t instanceof U||t instanceof V;A(n.value,e,i)}})),e(Xe,(function(e){this.name.print(e),e.space(),e.print("="),e.space(),this.value.print(e)})),e(Qe,(function(e){var n=this;q(n,e),n.expression.print(e),n.optional&&e.print("?."),z(n,e)})),e(Ze,(function(e){var n=this;q(n,e),e.print("new"),e.space(),n.expression.print(e),ee(n,e)&&z(n,e)})),e(en,(function(e){this.expressions.forEach((function(n,t){t>0&&(e.comma(),e.should_break()&&(e.newline(),e.indent())),n.print(e)}))})),e(rn,(function(e){var n=this,t=n.expression;t.print(e);var i=n.property;e.option("ie")&&pt[i]?(e.print(n.optional?"?.[":"["),e.add_mapping(n.end),e.print_string(i),e.print("]")):(t instanceof Xn&&!/[ex.)]/i.test(e.last())&&e.print("."),e.print(n.optional?"?.":"."),e.add_mapping(n.end),e.print_name(i))})),e(on,(function(e){var n=this;n.expression.print(e),e.print(n.optional?"?.[":"["),n.property.print(e),e.print("]")})),e(an,(function(e){e.print("..."),this.expression.print(e)})),e(fn,(function(e){var n=this.operator,t=this.expression;e.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&t instanceof fn&&/^[+-]/.test(t.operator))&&e.space(),t.print(e)})),e(cn,(function(e){this.expression.print(e),e.print(this.operator)})),e(un,(function(e){var n=this;n.left.print(e),e.space(),e.print(n.operator),e.space(),n.right.print(e)})),e(ln,(function(e){var n=this;n.condition.print(e),e.space(),e.print("?"),e.space(),n.consequent.print(e),e.space(),e.colon(),n.alternative.print(e)})),e(dn,(function(e){e.print("await"),e.space(),this.expression.print(e)})),e(hn,(function(e){e.print(this.nested?"yield*":"yield"),this.expression&&(e.space(),this.expression.print(e))})),e(vn,(function(e){var n=this.elements,t=n.length;e.with_square(t>0?function(){e.space(),n.forEach((function(n,i){i&&e.comma(),n.print(e),i===t-1&&n instanceof it&&e.comma()})),e.space()}:f)})),e(gn,(function(e){var n=this.elements,t=n.length,i=this.rest;e.with_square(t||i?function(){e.space(),n.forEach((function(n,t){t&&e.comma(),n.print(e)})),i?(t&&e.comma(),e.print("..."),i.print(e)):n[t-1]instanceof it&&e.comma(),e.space()}:f)})),e(bn,(function(e){var n=F(this,e),t=this.value;if(n)if(t instanceof Xe){if(t.name instanceof An&&n==j(t.name))return e.space(),e.print("="),e.space(),void t.value.print(e)}else if(t instanceof An&&n==j(t))return;e.colon(),t.print(e)})),e(yn,(function(e){var n=this.properties,t=n.length,i=this.rest;t||i?e.with_block((function(){n.forEach((function(n,t){t&&(e.print(","),e.newline()),e.indent(),n.print(e)})),i&&(t&&(e.print(","),e.newline()),e.indent(),e.print("..."),i.print(e)),e.newline()})):p(this,e)})),e(wn,(function(e){C(this,e)})),e(kn,(function(e){F(this,e),e.colon(),this.value.print(e)})),e(En,(function(e){x(this,e)})),e(Tn,P("get")),e(Sn,P("set")),e(An,(function(e){e.print_name(j(this))})),e(Yn,(function(e){var n=j(this);e.print_name(n);var t=this.alias;t!=n&&(e.space(),e.print("as"),e.space(),e.print_name(t))})),e($n,(function(e){var n=j(this),t=this.key;t&&t!=n&&(e.print_name(t),e.space(),e.print("as"),e.space()),e.print_name(n)})),e(it,f),e(Wn,(function(e){var n=this;n.tag&&n.tag.print(e),e.print("`");for(var t=0;t<n.expressions.length;t++)e.print(n.strings[t]),e.print("${"),n.expressions[t].print(e),e.print("}");e.print(n.strings[t]),e.print("`")})),e(Gn,(function(e){e.print(""+this.value)})),e(Jn,(function(e){e.print_string(this.value,this.quote)})),e(Xn,(function(e){var t=this.start;n&&t&&null!=t.raw?e.print(t.raw):e.print(oe(this.value))})),e(Qn,(function(e){var n=this.value,t=n.toString(),i=t.lastIndexOf("/");n.raw_source?t="/"+n.raw_source+t.slice(i):1==i?t="/(?:)"+t.slice(i):t.indexOf("/",1)<i&&(t="/"+t.slice(1,i).replace(/\\\\|[^/]?\//g,(function(e){return"\\"==e[0]?e:e.slice(0,-1)+"\\/"}))+t.slice(i)),e.print(e.to_utf8(t).replace(/\\(?:\0(?![0-9])|[^\0])/g,(function(e){switch(e[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})).replace(/[\n\r\u2028\u2029]/g,(function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})));var r=e.parent();r instanceof un&&/^in/.test(r.operator)&&r.left===this&&e.print(" ")})),Te([S,H],f),Te([vn,N,Ne,Gn,D,He,mn,Ie,Se,Z,Ze,wn,I,An,Ce,Me,je],(function(e){e.add_mapping(this.start)})),Te([ye,bn,xn],(function(e){"string"==typeof this.key&&e.add_mapping(this.start,this.key)}))}();var ei=t("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ni=ei.reduce((function(e,n,t){return e[n]=t,e}),Object.create(null));function ti(e){var n="";e=Math.abs(e)<<1|e>>>31;do{var t=31&e;(e>>>=5)&&(t|=32),n+=ei[t]}while(e);return n}function ii(){var e=new b,n=[];return n.index=function(t){var i=e.get(t);return i>=0||(i=n.length,n.push(t),e.set(t,i)),i},n}function ri(e){var n,t=ii(),i=e.includeSources&&new b,r=ii(),o="";e.orig&&Object.keys(e.orig).forEach((function(n){var t=e.orig[n],r=[0,0,1,0,0];if(e.orig[n]={names:t.names,mappings:t.mappings.split(/;/).map((function(e){return r[0]=0,e.split(/,/).map((function(e){return r.slice(0,function(e,n){for(var t=0,i=0,r=0,o=0;r<n.length;r++){var a=ni[n[r]];t+=(31&a)<<i,32&a?i+=5:(e[o++]+=1&t?2147483648|-(t>>1):t>>1,t=i=0)}return o}(r,e))}))})),sources:t.sources},i&&t.sourcesContent)for(var o=0;o<t.sources.length;o++){var a=t.sourcesContent[o];a&&i.set(t.sources[o],a)}}));var a=1,s=0,c=0,u=1,l=0,p=0;return{add:e.orig?function(n,t,i,r,o,a){var s=e.orig[n];if(s){var f,c=s.mappings[r-1];if(!c)return;for(var u=0;u<c.length;u++){var l=c[u][0];if(o>=l&&(f=c[u]),o<=l)break}!f||f.length<4?n=null:(n=s.sources[f[1]],r=f[2],o=f[3],f.length>4&&(a=s.names[f[4]]))}d(n,t,i,r,o,a)}:d,setSourceContent:i?function(e,n){i.has(e)||i.set(e,n)}:f,toString:function(){return JSON.stringify({version:3,file:e.filename||void 0,sourceRoot:e.root||void 0,sources:t,sourcesContent:i?t.map((function(e){return i.get(e)||null})):void 0,names:r,mappings:o})}};function d(i,f,d,h,v,m){if(null!=n||null!=i){if(n=i,a<f){s=0;do{o+=";"}while(++a<f)}else o&&(o+=",");if(o+=ti(d-s),s=d,null!=i){var _=t.index(i);if(o+=ti(_-c),c=_,o+=ti(h-u),u=h,o+=ti(v-l),l=v,e.names&&null!=m){var g=r.index(m);o+=ti(g-p),p=g}}}}}!function(){var e={Program:function(e){return new Q({start:s(e),end:f(e),body:o(e.body.map(d))})},ArrowFunctionExpression:function(e){var n=[],t=null;e.params.forEach((function(e){"RestElement"==e.type?t=d(e.argument):n.push(d(e))}));var i=new(e.async?se:ae)({start:s(e),end:f(e),argnames:n,rest:t}),r=d(e.body);return r instanceof N?(i.body=o(r.body),i.value=null):(i.body=[],i.value=r),i},FunctionDeclaration:function(e){var n;n=e.async?e.generator?he:de:e.generator?me:ve;var t=[],i=null;return e.params.forEach((function(e){"RestElement"==e.type?i=d(e.argument):t.push(d(e))})),new n({start:s(e),end:f(e),name:d(e.id),argnames:t,rest:i,body:o(d(e.body).body)})},FunctionExpression:function(e){var n;n=e.async?e.generator?ce:fe:e.generator?le:ue;var t=[],i=null;return e.params.forEach((function(e){"RestElement"==e.type?i=d(e.argument):t.push(d(e))})),new n({start:s(e),end:f(e),name:d(e.id),argnames:t,rest:i,body:o(d(e.body).body)})},ClassDeclaration:function(e){return new ge({start:s(e),end:f(e),name:d(e.id),extends:d(e.superClass),properties:e.body.body.map(d)})},ClassExpression:function(e){return new be({start:s(e),end:f(e),name:d(e.id),extends:d(e.superClass),properties:e.body.body.map(d)})},MethodDefinition:function(e){var n=e.key,t=!1;e.computed?n=d(n):"PrivateIdentifier"==n.type?(t=!0,n="#"+n.name):n=c(n);var i=Ee,r=d(e.value);switch(e.kind){case"get":i=xe,r=new ee(r);break;case"set":i=ke,r=new ee(r)}return new i({start:s(e),end:f(e),key:n,private:t,static:e.static,value:r})},PropertyDefinition:function(e){var n=e.key,t=!1;return e.computed?n=d(n):"PrivateIdentifier"==n.type?(t=!0,n="#"+n.name):n=c(n),new we({start:s(e),end:f(e),key:n,private:t,static:e.static,value:d(e.value)})},ForOfStatement:function(e){return new(e.await?J:G)({start:s(e),end:f(e),init:d(e.left),object:d(e.right),body:d(e.body)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(n.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new je({start:s(e),end:f(e),body:d(e.block).body,bcatch:d(n[0]),bfinally:e.finalizer?new Ie(d(e.finalizer)):null})},Property:function(e){var n=e.computed?d(e.key):c(e.key),t={start:s(e),end:f(e),key:n,value:d(e.value)};return"init"==e.kind?new(e.method?En:kn)(t):(t.value=new ee(t.value),"get"==e.kind?new Tn(t):"set"==e.kind?new Sn(t):void 0)},ArrayExpression:function(e){return new vn({start:s(e),end:f(e),elements:e.elements.map((function(e){return null===e?new it:d(e)}))})},ArrayPattern:function(e){var n=[],t=null;return e.elements.forEach((function(e){null===e?n.push(new it):"RestElement"==e.type?t=d(e.argument):n.push(d(e))})),new gn({start:s(e),end:f(e),elements:n,rest:t})},ObjectPattern:function(e){var n=[],t=null;return e.properties.forEach((function(e){"RestElement"==e.type?t=d(e.argument):n.push(new bn(d(e)))})),new yn({start:s(e),end:f(e),properties:n,rest:t})},MemberExpression:function(e){return new(e.computed?on:rn)({start:s(e),end:f(e),optional:e.optional,expression:d(e.object),property:e.computed?d(e.property):e.property.name})},MetaProperty:function(e){var n=d(e.meta),t=c(e.property);return"new"==n.name&&"target"==t?new Vn({start:s(e),end:f(e),name:"new.target"}):new rn({start:s(e),end:f(e),expression:n,property:t})},SwitchCase:function(e){return new(e.test?Pe:Fe)({start:s(e),end:f(e),expression:d(e.test),body:e.consequent.map(d)})},ExportAllDeclaration:function(e){var n=e.exported?c(e.exported):"*";return new We({start:s(e),end:f(e),aliases:[n],keys:["*"],path:e.source.value})},ExportDefaultDeclaration:function(e){var n=d(e.declaration);if(!n.name)switch(n.CTOR){case de:n=new fe(n);break;case he:n=new ce(n);break;case ge:n=new be(n);break;case ve:n=new ue(n);break;case me:n=new le(n)}return new Ve({start:s(e),end:f(e),body:n})},ExportNamedDeclaration:function(e){if(e.declaration)return new Ue({start:s(e),end:f(e),body:d(e.declaration)});if(e.source){var n=[],t=[];return e.specifiers.forEach((function(e){n.push(c(e.exported)),t.push(c(e.local))})),new We({start:s(e),end:f(e),aliases:n,keys:t,path:e.source.value})}return new Ge({start:s(e),end:f(e),properties:e.specifiers.map((function(e){var n=new Yn(d(e.local));return n.alias=c(e.exported),n}))})},ImportDeclaration:function(e){var n=null,t=null,i=null;return e.specifiers.forEach((function(e){var r=new $n(d(e.local));switch(e.type){case"ImportDefaultSpecifier":(t=r).key="";break;case"ImportNamespaceSpecifier":(n=r).key="*";break;default:r.key=e.imported.name||syn.name,i||(i=[]),i.push(r)}})),new Je({start:s(e),end:f(e),all:n,default:t,properties:i,path:e.source.value})},ImportExpression:function(e){var n=s(e),t=d(e.source);return new Qe({start:n,end:f(e),expression:new Hn({start:n,end:t.start,name:"import"}),args:[t]})},VariableDeclaration:function(e){return new({const:Ye,let:Re}[e.kind]||Le)({start:s(e),end:f(e),definitions:e.declarations.map(d)})},Literal:function(e){var n={start:s(e),end:f(e)};if(e.bigint)return n.value=e.bigint.toLowerCase()+"n",new Kn(n);var t=e.value;if(null===t)return new et(n);var i=e.regex;if(i&&i.pattern)return n.value=new RegExp(i.pattern,i.flags),n.value.raw_source=i.pattern,new Qn(n);if(i)return n.value=e.regex&&e.raw?e.raw:t,new Qn(n);switch(typeof t){case"string":return n.value=t,new Jn(n);case"number":return isNaN(t)?new nt(n):(isFinite(t)?(r=1/t<0,n.value=r?-t:t,o=new Xn(n)):(r=t<0,o=new rt(n)),r?new fn({start:n.start,end:n.end,operator:"-",expression:o}):o);var r,o;case"boolean":return new(t?st:at)(n)}},TemplateLiteral:function(e){return new Wn({start:s(e),end:f(e),expressions:e.expressions.map(d),strings:e.quasis.map((function(e){return e.value.raw}))})},TaggedTemplateExpression:function(e){var n=d(e.quasi);return n.start=s(e),n.end=f(e),n.tag=d(e.tag),n},Identifier:function(e){var n,t=l.length-1;do{n=l[--t]}while("ArrayPattern"==n.type||"AssignmentPattern"==n.type&&n.left===l[t+1]||"ObjectPattern"==n.type||"Property"==n.type&&n.value===l[t+1]||"VariableDeclarator"==n.type&&n.id===l[t+1]);var i=Hn;switch(n.type){case"ArrowFunctionExpression":n.body!==l[t+1]&&(i=Cn);break;case"BreakStatement":case"ContinueStatement":i=Rn;break;case"CatchClause":i=Nn;break;case"ClassDeclaration":n.id===l[t+1]&&(i=Pn);break;case"ClassExpression":n.id===l[t+1]&&(i=jn);break;case"FunctionDeclaration":i=n.id===l[t+1]?Mn:Cn;break;case"FunctionExpression":i=n.id===l[t+1]?Fn:Cn;break;case"LabeledStatement":i=In;break;case"VariableDeclaration":i={const:On,let:qn}[n.kind]||zn}return new i({start:s(e),end:f(e),name:e.name})},Super:function(e){return new Bn({start:s(e),end:f(e),name:"super"})},ThisExpression:function(e){return new Un({start:s(e),end:f(e),name:"this"})},ParenthesizedExpression:function(e){var n=d(e.expression);return n.start.parens||(n.start.parens=[]),n.start.parens.push(s(e)),n.end.parens||(n.end.parens=[]),n.end.parens.push(f(e)),n},ChainExpression:function(e){var n=d(e.expression);return n.terminal=!0,n}};function t(e){return function(n){var t=n.key instanceof S,i=t?m(n.key):n.private?{type:"PrivateIdentifier",name:n.key.slice(1)}:{type:"Literal",value:n.key};return{type:"MethodDefinition",kind:e,computed:t,key:i,static:n.static,value:m(n.value)}}}function i(e){return function(n){return{type:"ForOfStatement",await:e,left:m(n.init),right:m(n.object),body:m(n.body)}}}function r(e){var n=e.value;return"number"===typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}function o(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof M))break;var i=t.body;if(!(i instanceof Jn))break;if(t.start.pos!==i.start.pos)break;e[n]=new O(i)}return e}function a(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function s(e){var n=e.loc,t=n&&n.start,i=e.range;return new E({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[0]:e.start,raw:a(e)})}function f(e){var n=e.loc,t=n&&n.end,i=e.range;return new E({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[1]:e.end,raw:a(e)})}function c(e){return""+e["Identifier"==e.type?"name":"value"]}function u(t,i,r){var o=["start: my_start_token(M)","end: my_end_token(M)"],a=["type: "+JSON.stringify(t)];r&&r.split(/\s*,\s*/).forEach((function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(i){case"@":o.push(r+": M."+t+".map(from_moz)"),a.push(t+": M."+r+".map(to_moz)");break;case">":o.push(r+": from_moz(M."+t+")"),a.push(t+": to_moz(M."+r+")");break;case"=":o.push(r+": M."+t),a.push(t+": M."+r);break;case"%":o.push(r+": from_moz(M."+t+").body"),a.push(t+": to_moz_block(M)");break;default:throw new Error("Can't understand operator in propmap: "+e)}})),e[t]=new Function("U2","my_start_token","my_end_token","from_moz",["return function From_Moz_"+t+"(M) {","    return new U2.AST_"+i.TYPE+"({",o.join(",\n"),"    });","};"].join("\n"))(n,s,f,d),v(i,new Function("to_moz","to_moz_block","to_moz_scope",["return function To_Moz_"+t+"(M) {","    return {",a.join(",\n"),"    };","};"].join("\n"))(m,_,g))}e.UpdateExpression=e.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?fn:cn)({start:s(e),end:f(e),operator:e.operator,expression:d(e.argument)})},u("EmptyStatement",$),u("ExpressionStatement",M,"expression>body"),u("BlockStatement",N,"body@body"),u("IfStatement",ze,"test>condition, consequent>body, alternate>alternative"),u("LabeledStatement",H,"label>label, body>body"),u("BreakStatement",$e,"label>label"),u("ContinueStatement",qe,"label>label"),u("WithStatement",X,"object>expression, body>body"),u("SwitchStatement",Ce,"discriminant>expression, cases@body"),u("ReturnStatement",Ae,"argument>value"),u("ThrowStatement",De,"argument>value"),u("WhileStatement",B,"test>condition, body>body"),u("DoWhileStatement",L,"test>condition, body>body"),u("ForStatement",U,"init>init, test>condition, update>step, body>body"),u("ForInStatement",W,"left>init, right>object, body>body"),u("DebuggerStatement",D),u("VariableDeclarator",Be,"id>name, init>value"),u("CatchClause",Ne,"param>argname, body%body"),u("BinaryExpression",un,"operator=operator, left>left, right>right"),u("LogicalExpression",un,"operator=operator, left>left, right>right"),u("AssignmentExpression",pn,"operator=operator, left>left, right>right"),u("AssignmentPattern",Xe,"left>name, right>value"),u("ConditionalExpression",ln,"test>condition, consequent>consequent, alternate>alternative"),u("NewExpression",Ze,"callee>expression, arguments@args, pure=pure"),u("CallExpression",Qe,"callee>expression, arguments@args, optional=optional, pure=pure"),u("SequenceExpression",en,"expressions@expressions"),u("SpreadElement",an,"argument>expression"),u("ObjectExpression",wn,"properties@properties"),u("AwaitExpression",dn,"argument>expression"),u("YieldExpression",hn,"argument>expression, delegate=nested"),v(Q,(function(e){return g("Program",e)})),v(pe,(function(e){var n=e.argnames.map(m);return e.rest&&n.push({type:"RestElement",argument:m(e.rest)}),{type:"FunctionDeclaration",id:m(e.name),async:ie(e),generator:re(e),params:n,body:g("BlockStatement",e)}})),v(Z,(function(e){var n=e.argnames.map(m);return e.rest&&n.push({type:"RestElement",argument:m(e.rest)}),te(e)?{type:"ArrowFunctionExpression",async:ie(e),params:n,body:e.value?m(e.value):g("BlockStatement",e)}:{type:"FunctionExpression",id:m(e.name),async:ie(e),generator:re(e),params:n,body:g("BlockStatement",e)}})),v(ge,(function(e){return{type:"ClassDeclaration",id:m(e.name),superClass:m(e.extends),body:{type:"ClassBody",body:e.properties.map(m)}}})),v(be,(function(e){return{type:"ClassExpression",id:m(e.name),superClass:m(e.extends),body:{type:"ClassBody",body:e.properties.map(m)}}})),v(xe,t("get")),v(ke,t("set")),v(Ee,t("method")),v(we,(function(e){var n=e.key instanceof S;return{type:"PropertyDefinition",computed:n,key:n?m(e.key):e.private?{type:"PrivateIdentifier",name:e.key.slice(1)}:{type:"Literal",value:e.key},static:e.static,value:m(e.value)}})),v(J,i(!0)),v(G,i(!1)),v(O,(function(e){return{type:"ExpressionStatement",expression:h(e,{type:"Literal",value:e.value})}})),v(Me,(function(e){return{type:"SwitchCase",test:m(e.expression),consequent:e.body.map(m)}})),v(je,(function(e){return{type:"TryStatement",block:_(e),handler:m(e.bcatch),guardedHandlers:[],finalizer:m(e.bfinally)}})),v(Ne,(function(e){return{type:"CatchClause",param:m(e.argname),guard:null,body:_(e)}})),v(Ue,(function(e){return{type:"ExportNamedDeclaration",declaration:m(e.body)}})),v(Ve,(function(e){return{type:"ExportDefaultDeclaration",declaration:m(e.body)}})),v(We,(function(e){if("*"==e.keys[0])return{type:"ExportAllDeclaration",exported:"*"==e.aliases[0]?null:{type:"Identifier",name:e.aliases[0]},source:{type:"Literal",value:e.path}};for(var n=[],t=0;t<e.aliases.length;t++)n.push({type:"ExportSpecifier",exported:{type:"Identifier",name:e.aliases[t]},local:{type:"Identifier",name:e.keys[t]}});return{type:"ExportNamedDeclaration",specifiers:n,source:{type:"Literal",value:e.path}}})),v(Ge,(function(e){return{type:"ExportNamedDeclaration",specifiers:e.properties.map((function(e){return{type:"ExportSpecifier",local:m(e),exported:{type:"Identifier",name:e.alias}}}))}})),v(Je,(function(e){var n=e.properties?e.properties.map((function(e){return{type:"ImportSpecifier",local:m(e),imported:{type:"Identifier",name:e.key}}})):[];return e.all&&n.unshift({type:"ImportNamespaceSpecifier",local:m(e.all)}),e.default&&n.unshift({type:"ImportDefaultSpecifier",local:m(e.default)}),{type:"ImportDeclaration",specifiers:n,source:{type:"Literal",value:e.path}}})),v(He,(function(e){return{type:"VariableDeclaration",kind:e.TYPE.toLowerCase(),declarations:e.definitions.map(m)}})),v(tn,(function(e){var n=e instanceof on,t={type:"MemberExpression",object:m(e.expression),computed:n,optional:e.optional,property:n?m(e.property):{type:"Identifier",name:e.property}};return e.terminal?{type:"ChainExpression",expression:t}:t})),v(sn,(function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof fn,argument:m(e.expression)}})),v(un,(function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:m(e.left),operator:e.operator,right:m(e.right)}})),v(vn,(function(e){return{type:"ArrayExpression",elements:e.elements.map(m)}})),v(gn,(function(e){var n=e.elements.map(m);return e.rest&&n.push({type:"RestElement",argument:m(e.rest)}),{type:"ArrayPattern",elements:n}})),v(bn,(function(e){var n=e.key instanceof S;return{type:"Property",kind:"init",computed:n,key:n?m(e.key):{type:"Literal",value:e.key},value:m(e.value)}})),v(yn,(function(e){var n=e.properties.map(m);return e.rest&&n.push({type:"RestElement",argument:m(e.rest)}),{type:"ObjectPattern",properties:n}})),v(xn,(function(e){var n,t=e.key instanceof S,i=t?m(e.key):{type:"Literal",value:e.key};return e instanceof kn?n="init":e instanceof Tn?n="get":e instanceof Sn&&(n="set"),{type:"Property",kind:n,computed:t,method:e instanceof En,key:i,value:m(e.value)}})),v(An,(function(e){var n=e.definition();return{type:"Identifier",name:n&&n.mangled_name||e.name}})),v(Bn,(function(){return{type:"Super"}})),v(Un,(function(){return{type:"ThisExpression"}})),v(Vn,(function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}})),v(Qn,(function(e){var n=e.value.toString().match(/\/([gimuy]*)$/)[1],t="/"+e.value.raw_source+"/"+n;return{type:"Literal",value:t,raw:t,regex:{pattern:e.value.raw_source,flags:n}}})),v(Kn,(function(e){var n=e.value;return{type:"Literal",bigint:n.slice(0,-1),raw:n}})),v(ot,r),v(Gn,r),v(et,r),v(Zn,(function(e){return{type:"Identifier",name:String(e.value)}})),v(Wn,(function(e){var n=e.strings.length-1,t={type:"TemplateLiteral",expressions:e.expressions.map(m),quasis:e.strings.map((function(e,t){return{type:"TemplateElement",tail:t==n,value:{raw:e}}}))};return e.tag?{type:"TaggedTemplateExpression",tag:m(e.tag),quasi:t}:t})),j.DEFMETHOD("to_mozilla_ast",N.prototype.to_mozilla_ast),it.DEFMETHOD("to_mozilla_ast",p),S.DEFMETHOD("to_mozilla_ast",(function(){throw new Error("Cannot convert AST_"+this.TYPE)}));var l=null;function d(n){l.push(n);var t=null;if(n){if(!y(e,n.type))throw new Error("Unsupported type: "+n.type);t=e[n.type](n)}return l.pop(),t}function h(e,n){var t=e.start,i=e.end;return null!=t.pos&&null!=i.endpos&&(n.range=[t.pos,i.endpos]),t.line&&(n.loc={start:{line:t.line,column:t.col},end:i.endline?{line:i.endline,column:i.endcol}:null},t.file&&(n.loc.source=t.file)),n}function v(e,n){e.DEFMETHOD("to_mozilla_ast",(function(){return h(this,n(this))}))}function m(e){return null!=e?e.to_mozilla_ast():null}function _(e){return{type:"BlockStatement",body:e.body.map(m)}}function g(e,n){var t=n.body.map(m);return n.body[0]instanceof M&&n.body[0].body instanceof Jn&&t.unshift(m(new $(n.body[0]))),{type:e,body:t}}S.from_mozilla_ast=function(e){var n=l;l=[];var t=d(e);return l=n,t.walk(new ft((function(e){if(e instanceof Rn){for(var n,t=0;(n=this.parent(t))&&!(n instanceof K);t++)if(n instanceof H&&n.label.name==e.name){e.thedef=n.label;break}if(!e.thedef){var i=e.start;zt("Undefined label "+e.name,i.file,i.line,i.col,i.pos)}}}))),t}}();var oi,ai,si=function(){var e=new b;return["null","true","false","Infinity","-Infinity","undefined"].forEach(n),[Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String].forEach((function(e){Object.getOwnPropertyNames(e).map(n),e.prototype&&(Object.getOwnPropertyNames(new e).map(n),Object.getOwnPropertyNames(e.prototype).map(n))})),e;function n(n){e.set(n,!0)}}();function fi(e,n){e instanceof ln?(fi(e.consequent,n),fi(e.alternative,n)):e instanceof en?fi(e.tail_node(),n):e instanceof Jn&&n(e.value)}function ci(e,n){for(var t=n.end.comments_after,i=t.length;--i>=0;){var r=t[i];if("comment1"!=r.type)break;var o=/^# ([^\s=]+)=(\S+)\s*$/.exec(r.value);if(!o)break;if("sourceMappingURL"==o[1]){if(!(o=/^data:application\/json(;.*?)?;base64,([^,]+)$/.exec(o[2])))break;return oi(o[2])}}S.warn("inline source map not found: {name}",{name:e})}function ui(e){try{return JSON.parse(e)}catch(n){throw new Error("invalid input source map: "+e)}}function li(e,n,t){t.forEach((function(t){n[t]&&("object"!=typeof n[t]&&(n[t]={}),e in n[t]||(n[t][e]=n[e]))}))}function pi(e){e&&("props"in e?e.props instanceof b||(e.props=b.fromObject(e.props)):e.props=new b)}function di(e){return{props:e.props.toObject()}}"undefined"==typeof Buffer?(oi=atob,ai=btoa):"undefined"==typeof Buffer.alloc?(oi=function(e){return new Buffer(e,"base64").toString()},ai=function(e){return new Buffer(e).toString("base64")}):(oi=function(e){return Buffer.from(e,"base64").toString()},ai=function(e){return Buffer.from(e).toString("base64")}),n.Dictionary=b,n.is_statement=q,n.List=d,n.minify=function(e,n){try{(n=s(n,{annotations:void 0,compress:{},enclose:!1,ie:!1,ie8:!1,keep_fargs:!1,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!1,v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&S.enable_validation();var t,i=n.timings&&{start:Date.now()};void 0!==n.annotations&&li("annotations",n,["compress","output"]),n.ie8&&(n.ie=n.ie||n.ie8),n.ie&&li("ie",n,["compress","mangle","output","rename"]),n.keep_fargs&&li("keep_fargs",n,["compress","mangle","rename"]),n.keep_fnames&&li("keep_fnames",n,["compress","mangle","rename"]),n.toplevel&&li("toplevel",n,["compress","mangle","rename"]),n.v8&&li("v8",n,["mangle","output","rename"]),n.webkit&&li("webkit",n,["compress","mangle","output","rename"]),n.mangle&&(n.mangle=s(n.mangle,{cache:n.nameCache&&(n.nameCache.vars||{}),eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),n.mangle.properties&&("object"!=typeof n.mangle.properties&&(n.mangle.properties={}),n.mangle.properties.keep_quoted&&(t=n.mangle.properties.reserved,Array.isArray(t)||(t=[]),n.mangle.properties.reserved=t),n.nameCache&&!("cache"in n.mangle.properties)&&(n.mangle.properties.cache=n.nameCache.props||{})),pi(n.mangle.cache),pi(n.mangle.properties.cache)),void 0===n.rename&&(n.rename=n.compress&&n.mangle),n.sourceMap&&(n.sourceMap=s(n.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0));var r,o=[];if(n.warnings&&S.log_function((function(e){o.push(e)}),"verbose"==n.warnings),i&&(i.parse=Date.now()),e instanceof Q)r=e;else{"string"==typeof e&&(e=[e]),n.parse=n.parse||{},n.parse.toplevel=null;var a=n.sourceMap&&n.sourceMap.content;for(var f in"string"==typeof a&&"inline"!=a&&(a=ui(a)),a&&(n.sourceMap.orig=Object.create(null)),e)if(y(e,f))if(n.parse.filename=f,n.parse.toplevel=r=Yt(e[f],n.parse),"inline"==a){var c=ci(f,r);c&&(n.sourceMap.orig[f]=ui(c))}else a&&(n.sourceMap.orig[f]=a)}t&&function(e,n){function t(e){h(n,e)}e.walk(new ft((function(e){e instanceof ye||e instanceof xn?e.start&&e.start.quote&&t(e.key):e instanceof on&&fi(e.property,t)})))}(r,t),["enclose","wrap"].forEach((function(t){var i=n[t];if(i){var o=r.print_to_string().slice(0,-1);r=r[t](i),e[r.start.file]=r.print_to_string().replace(o,"")}})),n.validate&&r.validate_ast(),i&&(i.rename=Date.now()),n.rename&&(r.figure_out_scope(n.rename),r.expand_names(n.rename)),i&&(i.compress=Date.now()),n.compress&&(r=new Kt(n.compress).compress(r),n.validate&&r.validate_ast()),i&&(i.scope=Date.now()),n.mangle&&r.figure_out_scope(n.mangle),i&&(i.mangle=Date.now()),n.mangle&&(r.compute_char_frequency(n.mangle),r.mangle_names(n.mangle)),i&&(i.properties=Date.now()),n.mangle&&n.mangle.properties&&function(e,n){var t=(n=s(n,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,regex:null,reserved:null},!0)).builtins?new b:si.clone();Array.isArray(n.reserved)&&n.reserved.forEach((function(e){t.set(e,!0)}));var i,r=-1;n.cache?(i=n.cache.props).each((function(e){t.set(e,!0)})):i=new b;var o,a=n.regex,f=!1!==n.debug;f&&(o=!0===n.debug?"":n.debug);var c=new b,u=t.clone();function l(e){return!u.has(e)&&!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)}function p(e){return!t.has(e)&&!(a&&!a.test(e))&&(i.has(e)||c.has(e))}function d(e){l(e)&&c.set(e,!0),p(e)||u.set(e,!0)}function h(e){if(!p(e))return e;var n=i.get(e);if(!n){if(f){var t="_$"+e+"$"+o+"_";l(t)&&(n=t)}if(!n)do{n=Xt(++r)}while(!l(n));/^#/.test(e)&&(n="#"+n),i.set(e,n)}return n}function v(e){e instanceof en?v(e.expressions.tail_node()):e instanceof Jn?e.value=h(e.value):e instanceof ln&&(v(e.consequent),v(e.alternative))}e.walk(new ft((function(e){if(e instanceof un)"in"==e.operator&&fi(e.left,d);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof rn)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Hn))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;fi(e.args[1],d);break;case"hasOwnProperty":if(e.args.length<1)break;fi(e.args[0],d)}}else e instanceof ye?"string"==typeof e.key&&d(e.key):e instanceof rn?d(e.property):e instanceof xn?"string"==typeof e.key&&d(e.key):e instanceof on&&fi(e.property,d)}))),e.walk(new ft((function(e){if(e instanceof un)"in"==e.operator&&v(e.left);else if("Call"==e.TYPE){var t=e.expression;if(t instanceof rn)switch(t.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((t=t.expression)instanceof Hn))break;if("Object"!=t.name)break;if(!t.definition().undeclared)break;v(e.args[1]);break;case"hasOwnProperty":if(e.args.length<1)break;v(e.args[0])}}else e instanceof ye?"string"==typeof e.key&&(e.key=h(e.key)):e instanceof rn?e.property=h(e.property):e instanceof xn?"string"==typeof e.key&&(e.key=h(e.key)):e instanceof on&&(n.keep_quoted||v(e.property))})))}(r,n.mangle.properties),i&&(i.output=Date.now());var u={},l=s(n.output,{ast:!1,code:!0});if(l.ast&&(u.ast=r),l.code){if(n.sourceMap&&(l.source_map=ri(n.sourceMap),n.sourceMap.includeSources)){if(e instanceof Q)throw new Error("original source content unavailable");for(var f in e)y(e,f)&&l.source_map.setSourceContent(f,e[f])}delete l.ast,delete l.code;var p=Zt(l);if(r.print(p),u.code=p.get(),n.sourceMap){u.map=l.source_map.toString();var d=n.sourceMap.url;d&&(u.code=u.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),u.code+="inline"==d?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+ai(u.map):"\n//# sourceMappingURL="+d)}}return n.nameCache&&n.mangle&&(n.mangle.cache&&(n.nameCache.vars=di(n.mangle.cache)),n.mangle.properties&&n.mangle.properties.cache&&(n.nameCache.props=di(n.mangle.properties.cache))),i&&(i.end=Date.now(),u.timings={parse:.001*(i.rename-i.parse),rename:.001*(i.compress-i.rename),compress:.001*(i.scope-i.compress),scope:.001*(i.mangle-i.scope),mangle:.001*(i.properties-i.mangle),properties:.001*(i.output-i.properties),output:.001*(i.end-i.output),total:.001*(i.end-i.start)}),o.length&&(u.warnings=o),u}catch(v){return{error:v}}finally{S.log_function(),S.disable_validation()}},n.parse=Yt,n.push_uniq=h,n.TreeTransformer=ct,n.TreeWalker=ft}}]);
//# sourceMappingURL=9298.b116af6c.chunk.js.map