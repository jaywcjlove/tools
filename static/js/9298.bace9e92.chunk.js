"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9298],{29298:function(e,n){function t(e){return e.split("")}function i(e,n){return n.indexOf(e)>=0}function r(e,n){for(var t=n.length;--t>=0;)if(e(n[t]))return n[t]}function o(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(n){return n.stack}}})}function a(e,n){this.message=e,this.defs=n}function s(e,n,t){if(t)for(var i in e)if(y(e,i)&&!y(n,i))throw new a("`"+i+"` is not a supported option",n);for(var i in e)y(e,i)&&(n[i]=e[i]);return n}function f(){}function c(){return!1}function u(){return!0}function l(){return this}function p(){return null}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.name="DefaultsError",o(a);var d=function(){function e(e,i){for(var r=[],o=0;o<e.length;o++){var a=i(e[o],o);a!==n&&(a instanceof t?r.push.apply(r,a.v):r.push(a))}return r}e.is_op=function(e){return e===n||e instanceof t},e.splice=function(e){return new t(e)};var n=e.skip={};function t(e){this.v=e}return e}();function h(e,n){if(e.indexOf(n)<0)return e.push(n)}function v(e,n){return e.replace(/\{([^{}]+)\}/g,(function(e,t){var i=n[t];return i instanceof S?i.print_to_string():i}))}function m(e,n){var t=e.indexOf(n);t>=0&&e.splice(t,1)}function _(e){Array.isArray(e)||(e=e.split(" "));var n=Object.create(null);return e.forEach((function(e){n[e]=!0})),n}function g(e,n){for(var t=e.length;--t>=0;)if(!n(e[t],t))return!1;return!0}function b(){this.values=Object.create(null)}function y(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function w(e,n,t){for(var i,r=e.parent(-1),o=0;i=e.parent(o++);r=i){if(ie(i))return n&&i.value===r;if(i instanceof pn){if(i.left===r)continue}else if("Call"==i.TYPE){if(i.expression===r)continue}else if(i instanceof dn){if(i.condition===r)continue}else{if(i instanceof Ge)return t;if(i instanceof on){if(i.expression===r)continue}else if(i instanceof tn){if(i.expressions[0]===r)continue}else{if(i instanceof M)return!0;if(i instanceof Jn){if(i.tag===r)continue}else if(i instanceof ln&&i.expression===r)continue}}return!1}}function x(e,n){if(n.length>31)throw new Error("Too many properties: "+n.length+"\n"+n.join(", "));n.forEach((function(n,t){var i=1<<t;Object.defineProperty(e.prototype,n,{get:function(){return!!(this._bits&i)},set:function(e){e?this._bits|=i:this._bits&=~i}})}))}function k(e,t,i,r){"undefined"===typeof r&&(r=S);var o=t=t?t.split(/\s+/):[];r&&r.PROPS&&(t=t.concat(r.PROPS));var a=["return function AST_",e,"(props){","this._bits=0;","if(props){"];t.forEach((function(e){a.push("this.",e,"=props.",e,";")})),a.push("}");var s=Object.create(r&&r.prototype);(i.initialize||s.initialize)&&a.push("this.initialize();"),a.push("};");var f=new Function(a.join(""))();for(var c in f.prototype=s,f.prototype.CTOR=f,f.prototype.TYPE=f.TYPE=e,r&&(f.BASE=r,r.SUBCLASSES.push(f)),f.DEFMETHOD=function(e,n){this.prototype[e]=n},f.PROPS=t,f.SELF_PROPS=o,f.SUBCLASSES=[],i)y(i,c)&&(/^\$/.test(c)?f[c.substr(1)]=i[c]:f.DEFMETHOD(c,i[c]));return n["AST_"+e]=f,f}b.prototype={set:function(e,n){return"__proto__"==e?this.proto_value=n:this.values[e]=n,this},add:function(e,n){var t=this.get(e);return t?t.push(n):this.set(e,[n]),this},get:function(e){return"__proto__"==e?this.proto_value:this.values[e]},del:function(e){return"__proto__"==e?delete this.proto_value:delete this.values[e],this},has:function(e){return"__proto__"==e?"proto_value"in this:e in this.values},all:function(e){for(var n in this.values)if(!e(this.values[n],n))return!1;return!("proto_value"in this&&!e(this.proto_value,"__proto__"))},each:function(e){for(var n in this.values)e(this.values[n],n);"proto_value"in this&&e(this.proto_value,"__proto__")},size:function(){return Object.keys(this.values).length+("proto_value"in this)},map:function(e){var n=[];for(var t in this.values)n.push(e(this.values[t],t));return"proto_value"in this&&n.push(e(this.proto_value,"__proto__")),n},clone:function(){var e=new b;return this.each((function(n,t){e.set(t,n)})),e},toObject:function(){var e={};return this.each((function(n,t){e["$"+t]=n})),e}},b.fromObject=function(e){var n=new b;for(var t in e)y(e,t)&&n.set(t.slice(1),e[t]);return n};var E=k("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),S=k("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new lt((function(e){if(e!==n)return e.clone(!0)})))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},walk:function(e){e.visit(this)},_validate:function(){if("Node"==this.TYPE)throw new Error("should not instantiate AST_Node")},validate:function(){var e=this.CTOR;do{e.prototype._validate.call(this)}while(e=e.BASE)},validate_ast:function(){var e={};this.walk(new ut((function(n){if(n.validate_visited===e)throw new Error(v("cannot reuse {type} from [{file}:{line},{col}]",{type:"AST_"+n.TYPE,file:n.start.file,line:n.start.line,col:n.start.col}));n.validate_visited=e})))}},null);x(S,["_optimized","_squeezed","call_only","collapse_scanning","defined","evaluating","falsy","in_arg","in_bool","is_undefined","inlined","length_read","nested","new","optional","private","pure","redundant","static","terminal","truthy","uses_eval","uses_with"]),(S.log_function=function(e,n){if("function"==typeof e){var t=Object.create(null);S.info=n?function(e,n){i("INFO: "+v(e,n))}:f,S.warn=function(e,n){i("WARN: "+v(e,n))}}else S.info=S.warn=f;function i(n){t[n]||(t[n]=!0,e(n))}})();var T=[];S.enable_validation=function(){S.disable_validation(),function e(n){if(n.SUBCLASSES.forEach(e),y(n.prototype,"transform")){var t=n.prototype.transform;n.prototype.transform=function(e,n){var i=t.call(this,e,n);if(i instanceof S)i.validate();else if(!(null===i||n&&d.is_op(i)))throw new Error("invalid transformed value: "+i);return i},T.push((function(){n.prototype.transform=t}))}}(this)},S.disable_validation=function(){for(var e;e=T.pop();)e()};var A=k("Statement",null,{$documentation:"Base class of all statements",_validate:function(){if("Statement"==this.TYPE)throw new Error("should not instantiate AST_Statement")}}),D=k("Debugger",null,{$documentation:"Represents a debugger statement"},A),O=k("Directive","quote value",{$documentation:'Represents a directive, like "use strict";',$propdoc:{quote:"[string?] the original quote character",value:"[string] The value of this directive as a plain string (it's not an AST_String!)"},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},A),$=k("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},A);function z(e){return e instanceof A&&!(e instanceof ye)&&!(e instanceof te)}function q(e,n,t,i,r){if(t=t?"contain":"be",!(e instanceof S))throw new Error(n+" must "+t+" AST_Node");if(e instanceof Qe)throw new Error(n+" cannot "+t+" AST_DefaultValue");if(e instanceof gn)throw new Error(n+" cannot "+t+" AST_Destructured");if(e instanceof ot&&!r)throw new Error(n+" cannot "+t+" AST_Hole");if(e instanceof fn&&!i)throw new Error(n+" cannot "+t+" AST_Spread");if(z(e))throw new Error(n+" cannot "+t+" AST_Statement");if(e instanceof $n)throw new Error(n+" cannot "+t+" AST_SymbolDeclaration")}function C(e,n){q(e[n],n)}var M=k("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e)}))},_validate:function(){C(this,"body")}},A),F=k("BlockScope","_var_names enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",functions:"[Dictionary/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Dictionary/S] a map of name ---\x3e SymbolDef for all variables/functions defined in this scope"},clone:function(e){var n=this._clone(e);return this.enclosed&&(n.enclosed=this.enclosed.slice()),this.functions&&(n.functions=this.functions.clone()),this.variables&&(n.variables=this.variables.clone()),n},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if("BlockScope"==this.TYPE)throw new Error("should not instantiate AST_BlockScope");if(null!=this.parent_scope){if(!(this.parent_scope instanceof F))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof K))throw new Error("must be contained within AST_Scope")}}},A);function P(e,n){e.body.forEach((function(e){e.walk(n)}))}var j=k("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},walk:function(e){var n=this;e.visit(n,(function(){P(n,e)}))},_validate:function(){if("Block"==this.TYPE)throw new Error("should not instantiate AST_Block");this.body.forEach((function(e){if(!z(e))throw new Error("body must contain AST_Statement")}))}},F),N=k("BlockStatement",null,{$documentation:"A block statement"},j),I=k("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if("StatementWithBody"==this.TYPE)throw new Error("should not instantiate AST_StatementWithBody");if(!z(this.body))throw new Error("body must be AST_Statement")}},F),H=k("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},walk:function(e){var n=this;e.visit(n,(function(){n.label.walk(e),n.body.walk(e)}))},clone:function(e){var n=this._clone(e);if(e){var t=n.label,i=this.label;n.walk(new ut((function(e){if(e instanceof ze){if(!e.label||e.label.thedef!==i)return;return e.label.thedef=t,t.references.push(e),!0}if(e instanceof K)return!0})))}return n},_validate:function(){if(!(this.label instanceof Yn))throw new Error("label must be AST_Label")}},I),Y=k("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it.",_validate:function(){if("IterationStatement"==this.TYPE)throw new Error("should not instantiate AST_IterationStatement")}},I),R=k("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_validate:function(){if("DWLoop"==this.TYPE)throw new Error("should not instantiate AST_DWLoop");C(this,"condition")}},Y),B=k("Do",null,{$documentation:"A `do` statement",walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e),n.condition.walk(e)}))}},R),L=k("While",null,{$documentation:"A `while` statement",walk:function(e){var n=this;e.visit(n,(function(){n.condition.walk(e),n.body.walk(e)}))}},R),U=k("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},walk:function(e){var n=this;e.visit(n,(function(){n.init&&n.init.walk(e),n.condition&&n.condition.walk(e),n.step&&n.step.walk(e),n.body.walk(e)}))},_validate:function(){if(null!=this.init){if(!(this.init instanceof S))throw new Error("init must be AST_Node");if(z(this.init)&&!(this.init instanceof Re))throw new Error("init cannot be AST_Statement")}null!=this.condition&&C(this,"condition"),null!=this.step&&C(this,"step")}},Y),V=k("ForEnumeration","init object",{$documentation:"Base class for enumeration loops, i.e. `for ... in`, `for ... of` & `for await ... of`",$propdoc:{init:"[AST_Node] the assignment target during iteration",object:"[AST_Node] the object to iterate over"},walk:function(e){var n=this;e.visit(n,(function(){n.init.walk(e),n.object.walk(e),n.body.walk(e)}))},_validate:function(){if("ForEnumeration"==this.TYPE)throw new Error("should not instantiate AST_ForEnumeration");if(this.init instanceof Re){if(1!=this.init.definitions.length)throw new Error("init must have single declaration")}else bn(this.init,(function(e){if(!(e instanceof on||e instanceof Rn))throw new Error("init must be assignable: "+e.TYPE)}));C(this,"object")}},Y),W=k("ForIn",null,{$documentation:"A `for ... in` statement"},V),G=k("ForOf",null,{$documentation:"A `for ... of` statement"},V),J=k("ForAwaitOf",null,{$documentation:"A `for await ... of` statement"},G),X=k("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),n.body.walk(e)}))},_validate:function(){C(this,"expression")}},I),K=k("Scope","fn_defs may_call_this uses_eval uses_with",{$documentation:"Base class for all statements introducing a lambda scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:l,_validate:function(){if("Scope"==this.TYPE)throw new Error("should not instantiate AST_Scope")}},j),Q=k("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Dictionary/S] a map of name ---\x3e SymbolDef for all undeclared names"},wrap:function(e){var n=this.body;return Bt(["(function(exports){'$ORIG';})(typeof ",e,"=='undefined'?(",e,"={}):",e,");"].join(""),{filename:"wrap="+JSON.stringify(e)}).transform(new lt((function(e){if(e instanceof O&&"$ORIG"==e.value)return d.splice(n)})))},enclose:function(e){"string"!=typeof e&&(e="");var n=e.indexOf(":");n<0&&(n=e.length);var t=this.body;return Bt(["(function(",e.slice(0,n),'){"$ORIG"})(',e.slice(n+1),")"].join(""),{filename:"enclose="+JSON.stringify(e)}).transform(new lt((function(e){if(e instanceof O&&"$ORIG"==e.value)return d.splice(t)})))}},K),Z=k("ClassInitBlock",null,{$documentation:"Value for `class` static initialization blocks"},K),ee=k("Lambda","argnames length_read rest safe_ids uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_DefaultValue|AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",length_read:"[boolean/S] whether length property of this function is accessed",rest:"[(AST_Destructured|AST_SymbolFunarg)?] rest parameter, or null if absent",uses_arguments:"[boolean|number/S] whether this function accesses the arguments array"},each_argname:function(e){var n=new ut((function(t){return t instanceof Qe?(t.name.walk(n),!0):t instanceof wn?(t.value.walk(n),!0):void(t instanceof Fn&&e(t))}));this.argnames.forEach((function(e){e.walk(n)})),this.rest&&this.rest.walk(n)},walk:function(e){var n=this;e.visit(n,(function(){n.name&&n.name.walk(e),n.argnames.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e),P(n,e)}))},_validate:function(){if("Lambda"==this.TYPE)throw new Error("should not instantiate AST_Lambda");this.argnames.forEach((function(e){bn(e,(function(e){if(!(e instanceof Fn))throw new Error("argnames must be AST_SymbolFunarg[]")}),!0)})),null!=this.rest&&bn(this.rest,(function(e){if(!(e instanceof Fn))throw new Error("rest must be AST_SymbolFunarg")}))}},K),ne=k("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(null!=this.name)throw new Error("name must be null")}},ee),te=k("LambdaExpression","inlined",{$documentation:"Base class for function expressions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined"},_validate:function(){if("LambdaExpression"==this.TYPE)throw new Error("should not instantiate AST_LambdaExpression")}},ee);function ie(e){return e instanceof se||e instanceof fe}function re(e){return e instanceof fe||e instanceof he||e instanceof ce||e instanceof ve||e instanceof ue}function oe(e){return e instanceof ve||e instanceof ue||e instanceof _e||e instanceof pe}function ae(e,n){ie(e)&&e.value?e.value.walk(n):P(e,n)}var se=k("Arrow","value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(e){var n=this;e.visit(n,(function(){n.argnames.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e),n.value?n.value.walk(e):P(n,e)}))},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(C(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},te),fe=k("AsyncArrow","value",{$documentation:"An asynchronous arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(e){var n=this;e.visit(n,(function(){n.argnames.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e),n.value?n.value.walk(e):P(n,e)}))},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(C(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},te),ce=k("AsyncFunction","name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof jn))throw new Error("name must be AST_SymbolLambda")}},te),ue=k("AsyncGeneratorFunction","name",{$documentation:"An asynchronous generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof jn))throw new Error("name must be AST_SymbolLambda")}},te),le=k("Function","name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof jn))throw new Error("name must be AST_SymbolLambda")}},te),pe=k("GeneratorFunction","name",{$documentation:"A generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof jn))throw new Error("name must be AST_SymbolLambda")}},te),de=k("LambdaDefinition","inlined name",{$documentation:"Base class for function definitions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined",name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if("LambdaDefinition"==this.TYPE)throw new Error("should not instantiate AST_LambdaDefinition");if(!(this.name instanceof Pn))throw new Error("name must be AST_SymbolDefun")}},ee),he=k("AsyncDefun",null,{$documentation:"An asynchronous function definition"},de),ve=k("AsyncGeneratorDefun",null,{$documentation:"An asynchronous generator function definition"},de),me=k("Defun",null,{$documentation:"A function definition"},de),_e=k("GeneratorDefun",null,{$documentation:"A generator function definition"},de),ge=k("Class","extends name properties",{$documentation:"Base class for class literals",$propdoc:{extends:"[AST_Node?] the super class, or null if not specified",properties:"[AST_ClassProperty*] array of class properties"},resolve:function(e){return e?this:this.parent_scope.resolve()},walk:function(e){var n=this;e.visit(n,(function(){n.name&&n.name.walk(e),n.extends&&n.extends.walk(e),n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){if("Class"==this.TYPE)throw new Error("should not instantiate AST_Class");null!=this.extends&&C(this,"extends"),this.properties.forEach((function(e){if(!(e instanceof we))throw new Error("properties must contain AST_ClassProperty")}))}},F),be=k("DefClass",null,{$documentation:"A class definition",$propdoc:{name:"[AST_SymbolDefClass] the name of this class"},_validate:function(){if(!(this.name instanceof Nn))throw new Error("name must be AST_SymbolDefClass")}},ge),ye=k("ClassExpression",null,{$documentation:"A class expression",$propdoc:{name:"[AST_SymbolClass?] the name of this class, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof In))throw new Error("name must be AST_SymbolClass")}},ge),we=k("ClassProperty","key private static value",{$documentation:"Base class for `class` properties",$propdoc:{key:"[string|AST_Node?] property name (AST_Node for computed property, null for initialization block)",private:"[boolean] whether this is a private property",static:"[boolean] whether this is a static property",value:"[AST_Node?] property value (AST_Accessor for getters/setters, AST_LambdaExpression for methods, null if not specified for fields)"},walk:function(e){var n=this;e.visit(n,(function(){n.key instanceof S&&n.key.walk(e),n.value&&n.value.walk(e)}))},_validate:function(){if("ClassProperty"==this.TYPE)throw new Error("should not instantiate AST_ClassProperty");if(this instanceof Te){if(null!=this.key)throw new Error("key must be null")}else if("string"!=typeof this.key){if(!(this.key instanceof S))throw new Error("key must be string or AST_Node");C(this,"key")}if(null!=this.value&&!(this.value instanceof S))throw new Error("value must be AST_Node")}}),xe=k("ClassField",null,{$documentation:"A `class` field",_validate:function(){null!=this.value&&C(this,"value")}},we),ke=k("ClassGetter",null,{$documentation:"A `class` getter",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_Accessor")}},we),Ee=k("ClassSetter",null,{$documentation:"A `class` setter",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_Accessor")}},we),Se=k("ClassMethod",null,{$documentation:"A `class` method",_validate:function(){if(!(this.value instanceof te))throw new Error("value must be AST_LambdaExpression");if(ie(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of class method's lambda must be null")}},we),Te=k("ClassInit",null,{$documentation:"A `class` static initialization block",_validate:function(){if(!this.static)throw new Error("static must be true");if(!(this.value instanceof Z))throw new Error("value must be AST_ClassInitBlock")},initialize:function(){this.static=!0}},we),Ae=k("Jump",null,{$documentation:"Base class for \u201cjumps\u201d (for now that's `return`, `throw`, `break` and `continue`)",_validate:function(){if("Jump"==this.TYPE)throw new Error("should not instantiate AST_Jump")}},A),De=k("Exit","value",{$documentation:"Base class for \u201cexits\u201d (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},walk:function(e){var n=this;e.visit(n,(function(){n.value&&n.value.walk(e)}))},_validate:function(){if("Exit"==this.TYPE)throw new Error("should not instantiate AST_Exit")}},Ae),Oe=k("Return",null,{$documentation:"A `return` statement",_validate:function(){null!=this.value&&C(this,"value")}},De),$e=k("Throw",null,{$documentation:"A `throw` statement",_validate:function(){C(this,"value")}},De),ze=k("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},walk:function(e){var n=this;e.visit(n,(function(){n.label&&n.label.walk(e)}))},_validate:function(){if("LoopControl"==this.TYPE)throw new Error("should not instantiate AST_LoopControl");if(null!=this.label&&!(this.label instanceof Ln))throw new Error("label must be AST_LabelRef")}},Ae),qe=k("Break",null,{$documentation:"A `break` statement"},ze),Ce=k("Continue",null,{$documentation:"A `continue` statement"},ze),Me=k("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},walk:function(e){var n=this;e.visit(n,(function(){n.condition.walk(e),n.body.walk(e),n.alternative&&n.alternative.walk(e)}))},_validate:function(){if(C(this,"condition"),null!=this.alternative&&!z(this.alternative))throw new Error("alternative must be AST_Statement")}},I),Fe=k("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` \u201cdiscriminant\u201d"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),P(n,e)}))},_validate:function(){C(this,"expression"),this.body.forEach((function(e){if(!(e instanceof Pe))throw new Error("body must be AST_SwitchBranch[]")}))}},j),Pe=k("SwitchBranch",null,{$documentation:"Base class for `switch` branches",_validate:function(){if("SwitchBranch"==this.TYPE)throw new Error("should not instantiate AST_SwitchBranch")}},j),je=k("Default",null,{$documentation:"A `default` switch branch"},Pe),Ne=k("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),P(n,e)}))},_validate:function(){C(this,"expression")}},Pe),Ie=k("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},walk:function(e){var n=this;e.visit(n,(function(){P(n,e),n.bcatch&&n.bcatch.walk(e),n.bfinally&&n.bfinally.walk(e)}))},_validate:function(){if(null!=this.bcatch&&!(this.bcatch instanceof He))throw new Error("bcatch must be AST_Catch");if(null!=this.bfinally&&!(this.bfinally instanceof Ye))throw new Error("bfinally must be AST_Finally")}},j),He=k("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},walk:function(e){var n=this;e.visit(n,(function(){n.argname&&n.argname.walk(e),P(n,e)}))},_validate:function(){null!=this.argname&&bn(this.argname,(function(e){if(!(e instanceof Hn))throw new Error("argname must be AST_SymbolCatch")}))}},j),Ye=k("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},j),Re=k("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},walk:function(e){var n=this;e.visit(n,(function(){n.definitions.forEach((function(n){n.walk(e)}))}))},_validate:function(){if("Definitions"==this.TYPE)throw new Error("should not instantiate AST_Definitions");if(this.definitions.length<1)throw new Error("must have at least one definition")}},A),Be=k("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach((function(e){if(!(e instanceof Ve))throw new Error("definitions must be AST_VarDef[]");bn(e.name,(function(e){if(!(e instanceof zn))throw new Error("name must be AST_SymbolConst")}))}))}},Re),Le=k("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach((function(e){if(!(e instanceof Ve))throw new Error("definitions must be AST_VarDef[]");bn(e.name,(function(e){if(!(e instanceof Cn))throw new Error("name must be AST_SymbolLet")}))}))}},Re),Ue=k("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach((function(e){if(!(e instanceof Ve))throw new Error("definitions must be AST_VarDef[]");bn(e.name,(function(e){if(!(e instanceof Mn))throw new Error("name must be AST_SymbolVar")}))}))}},Re),Ve=k("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},walk:function(e){var n=this;e.visit(n,(function(){n.name.walk(e),n.value&&n.value.walk(e)}))},_validate:function(){null!=this.value&&C(this,"value")}}),We=k("ExportDeclaration","body",{$documentation:"An `export` statement",$propdoc:{body:"[AST_DefClass|AST_Definitions|AST_LambdaDefinition] the statement to export"},walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e)}))},_validate:function(){if(!(this.body instanceof be||this.body instanceof Re||this.body instanceof de))throw new Error("body must be AST_DefClass, AST_Definitions or AST_LambdaDefinition")}},A),Ge=k("ExportDefault","body",{$documentation:"An `export default` statement",$propdoc:{body:"[AST_Node] the default export"},walk:function(e){var n=this;e.visit(n,(function(){n.body.walk(e)}))},_validate:function(){this.body instanceof be||this.body instanceof de||C(this,"body")}},A),Je=k("ExportForeign","aliases keys path quote",{$documentation:"An `export ... from '...'` statement",$propdoc:{aliases:"[string*] array of aliases to export",keys:"[string*] array of keys to import",path:"[string] the path to import module",quote:"[string?] the original quote character"},_validate:function(){if(this.aliases.length!=this.keys.length)throw new Error("aliases:key length mismatch: "+this.aliases.length+" != "+this.keys.length);if(this.aliases.forEach((function(e){if("string"!=typeof e)throw new Error("aliases must contain string")})),this.keys.forEach((function(e){if("string"!=typeof e)throw new Error("keys must contain string")})),"string"!=typeof this.path)throw new Error("path must be string");if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}}},A),Xe=k("ExportReferences","properties",{$documentation:"An `export { ... }` statement",$propdoc:{properties:"[AST_SymbolExport*] array of aliases to export"},walk:function(e){var n=this;e.visit(n,(function(){n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){this.properties.forEach((function(e){if(!(e instanceof Bn))throw new Error("properties must contain AST_SymbolExport")}))}},A),Ke=k("Import","all default path properties quote",{$documentation:"An `import` statement",$propdoc:{all:"[AST_SymbolImport?] the imported namespace, or null if not specified",default:"[AST_SymbolImport?] the alias for default `export`, or null if not specified",path:"[string] the path to import module",properties:"[(AST_SymbolImport*)?] array of aliases, or null if not specified",quote:"[string?] the original quote character"},walk:function(e){var n=this;e.visit(n,(function(){n.all&&n.all.walk(e),n.default&&n.default.walk(e),n.properties&&n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){if(null!=this.all){if(!(this.all instanceof qn))throw new Error("all must be AST_SymbolImport");if(null!=this.properties)throw new Error("cannot import both * and {} in the same statement")}if(null!=this.default){if(!(this.default instanceof qn))throw new Error("default must be AST_SymbolImport");if(""!==this.default.key)throw new Error("invalid default key: "+this.default.key)}if("string"!=typeof this.path)throw new Error("path must be string");if(null!=this.properties&&this.properties.forEach((function(e){if(!(e instanceof qn))throw new Error("properties must contain AST_SymbolImport")})),null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}}},A),Qe=k("DefaultValue","name value",{$documentation:"A default value declaration",$propdoc:{name:"[AST_Destructured|AST_SymbolDeclaration] name of the variable",value:"[AST_Node] value to assign if variable is `undefined`"},walk:function(e){var n=this;e.visit(n,(function(){n.name.walk(e),n.value.walk(e)}))},_validate:function(){C(this,"value")}});function Ze(e,n,t,i){e[n].forEach((function(e){q(e,n,!0,t,i)}))}var en=k("Call","args expression optional pure terminal",{$documentation:"A function call expression",$propdoc:{args:"[AST_Node*] array of arguments",expression:"[AST_Node] expression to invoke as function",optional:"[boolean] whether the expression is optional chaining",pure:"[boolean/S] marker for side-effect-free call expression",terminal:"[boolean] whether the chain has ended"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),n.args.forEach((function(n){n.walk(e)}))}))},_validate:function(){C(this,"expression"),Ze(this,"args",!0)}}),nn=k("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties",_validate:function(){if(this.optional)throw new Error("optional must be false");if(this.terminal)throw new Error("terminal must be false")}},en),tn=k("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},walk:function(e){var n=this;e.visit(n,(function(){n.expressions.forEach((function(n){n.walk(e)}))}))},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");Ze(this,"expressions")}});function rn(e){for(;e instanceof on;)e=e.expression;return e}var on=k("PropAccess","expression optional property terminal",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the \u201ccontainer\u201d expression",optional:"[boolean] whether the expression is optional chaining",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node",terminal:"[boolean] whether the chain has ended"},get_property:function(){var e=this.property;return e instanceof Xn?e.value:e instanceof un&&"void"==e.operator&&e.expression instanceof Xn?void 0:e},_validate:function(){if("PropAccess"==this.TYPE)throw new Error("should not instantiate AST_PropAccess");C(this,"expression")}}),an=k("Dot",null,{$documentation:"A dotted property access expression",walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){if("string"!=typeof this.property)throw new Error("property must be string")}},on),sn=k("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e),n.property.walk(e)}))},_validate:function(){C(this,"property")}},on),fn=k("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){C(this,"expression")}}),cn=k("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){if("Unary"==this.TYPE)throw new Error("should not instantiate AST_Unary");if("string"!=typeof this.operator)throw new Error("operator must be string");C(this,"expression")}}),un=k("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},cn),ln=k("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},cn),pn=k("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},walk:function(e){var n=this;e.visit(n,(function(){n.left.walk(e),n.right.walk(e)}))},_validate:function(){if(this instanceof hn||C(this,"left"),"string"!=typeof this.operator)throw new Error("operator must be string");C(this,"right")}}),dn=k("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},walk:function(e){var n=this;e.visit(n,(function(){n.condition.walk(e),n.consequent.walk(e),n.alternative.walk(e)}))},_validate:function(){C(this,"condition"),C(this,"consequent"),C(this,"alternative")}}),hn=k("Assign",null,{$documentation:"An assignment expression \u2014 `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof gn){if("="!=this.operator)throw new Error("invalid destructuring operator: "+this.operator);bn(this.left,(function(e){if(!(e instanceof on||e instanceof Rn))throw new Error("left must be assignable: "+e.TYPE)}))}else if(!(this.left instanceof at||this.left instanceof it||this.left instanceof on&&!this.left.optional||this.left instanceof Rn||this.left instanceof rt))throw new Error("left must be assignable")}},pn),vn=k("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},walk:function(e){var n=this;e.visit(n,(function(){n.expression.walk(e)}))},_validate:function(){C(this,"expression")}}),mn=k("Yield","expression nested",{$documentation:"A yield expression",$propdoc:{expression:"[AST_Node?] return value for iterator, or null if undefined",nested:"[boolean] whether to iterate over expression as generator"},walk:function(e){var n=this;e.visit(n,(function(){n.expression&&n.expression.walk(e)}))},_validate:function(){if(null!=this.expression)C(this,"expression");else if(this.nested)throw new Error("yield* must contain expression")}}),_n=k("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(e){var n=this;e.visit(n,(function(){n.elements.forEach((function(n){n.walk(e)}))}))},_validate:function(){Ze(this,"elements",!0,!0)}}),gn=k("Destructured","rest",{$documentation:"Base class for destructured literal",$propdoc:{rest:"[(AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)?] rest parameter, or null if absent"},_validate:function(){if("Destructured"==this.TYPE)throw new Error("should not instantiate AST_Destructured")}});function bn(e,n,t){if(e instanceof Qe&&t)return bn(e.name,n);if(e instanceof gn){if(null!=e.rest&&bn(e.rest,n),e instanceof yn)return e.elements.forEach((function(e){e instanceof ot||bn(e,n,!0)}));if(e instanceof xn)return e.properties.forEach((function(e){bn(e.value,n,!0)}))}n(e)}var yn=k("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[(AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)*] array of elements"},walk:function(e){var n=this;e.visit(n,(function(){n.elements.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e)}))}},gn),wn=k("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef] property value"},walk:function(e){var n=this;e.visit(n,(function(){n.key instanceof S&&n.key.walk(e),n.value.walk(e)}))},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof S))throw new Error("key must be string or AST_Node");C(this,"key")}if(!(this.value instanceof S))throw new Error("value must be AST_Node")}}),xn=k("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},walk:function(e){var n=this;e.visit(n,(function(){n.properties.forEach((function(n){n.walk(e)})),n.rest&&n.rest.walk(e)}))},_validate:function(){this.properties.forEach((function(e){if(!(e instanceof wn))throw new Error("properties must be AST_DestructuredKeyVal[]")}))}},gn),kn=k("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},walk:function(e){var n=this;e.visit(n,(function(){n.properties.forEach((function(n){n.walk(e)}))}))},_validate:function(){this.properties.forEach((function(e){if(!(e instanceof En||e instanceof fn))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")}))}}),En=k("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},walk:function(e){var n=this;e.visit(n,(function(){n.key instanceof S&&n.key.walk(e),n.value.walk(e)}))},_validate:function(){if("ObjectProperty"==this.TYPE)throw new Error("should not instantiate AST_ObjectProperty");if("string"!=typeof this.key){if(!(this.key instanceof S))throw new Error("key must be string or AST_Node");C(this,"key")}if(!(this.value instanceof S))throw new Error("value must be AST_Node")}}),Sn=k("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){C(this,"value")}},En),Tn=k("ObjectMethod",null,{$documentation:"A key(){} object property",_validate:function(){if(!(this.value instanceof te))throw new Error("value must be AST_LambdaExpression");if(ie(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of object method's lambda must be null")}},Sn),An=k("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_Accessor")}},En),Dn=k("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof ne))throw new Error("value must be AST_Accessor")}},En),On=k("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_validate:function(){if("Symbol"==this.TYPE)throw new Error("should not instantiate AST_Symbol");if("string"!=typeof this.name)throw new Error("name must be string")}}),$n=k("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},On),zn=k("SymbolConst",null,{$documentation:"Symbol defining a constant"},$n),qn=k("SymbolImport","key",{$documentation:"Symbol defined by an `import` statement",$propdoc:{key:"[string] the original `export` name"},_validate:function(){if("string"!=typeof this.key)throw new Error("key must be string")}},zn),Cn=k("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},$n),Mn=k("SymbolVar",null,{$documentation:"Symbol defining a variable"},$n),Fn=k("SymbolFunarg","unused",{$documentation:"Symbol naming a function argument"},Mn),Pn=k("SymbolDefun",null,{$documentation:"Symbol defining a function"},$n),jn=k("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},$n),Nn=k("SymbolDefClass",null,{$documentation:"Symbol defining a class"},zn),In=k("SymbolClass",null,{$documentation:"Symbol naming a class expression"},zn),Hn=k("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},$n),Yn=k("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},On),Rn=k("SymbolRef","fixed in_arg redef",{$documentation:"Reference to some symbol (not definition/declaration)"},On),Bn=k("SymbolExport","alias",{$documentation:"Reference in an `export` statement",$propdoc:{alias:"[string] the `export` alias"},_validate:function(){if("string"!=typeof this.alias)throw new Error("alias must be string")}},Rn),Ln=k("LabelRef",null,{$documentation:"Reference to a label symbol"},On),Un=k("ObjectIdentity",null,{$documentation:"Base class for `super` & `this`",_validate:function(){if("ObjectIdentity"==this.TYPE)throw new Error("should not instantiate AST_ObjectIdentity")}},On),Vn=k("Super",null,{$documentation:"The `super` symbol",_validate:function(){if("super"!==this.name)throw new Error('name must be "super"')}},Un),Wn=k("This",null,{$documentation:"The `this` symbol",_validate:function(){if("This"==this.TYPE&&"this"!==this.name)throw new Error('name must be "this"')}},Un),Gn=k("NewTarget",null,{$documentation:"The `new.target` symbol",initialize:function(){this.name="new.target"},_validate:function(){if("new.target"!==this.name)throw new Error('name must be "new.target": '+this.name)}},Wn),Jn=k("Template","expressions strings tag",{$documentation:"A template literal, i.e. tag`str1${expr1}...strN${exprN}strN+1`",$propdoc:{expressions:"[AST_Node*] the placeholder expressions",strings:"[string*] the raw text segments",tag:"[AST_Node] tag function, or null if absent"},walk:function(e){var n=this;e.visit(n,(function(){n.tag&&n.tag.walk(e),n.expressions.forEach((function(n){n.walk(e)}))}))},_validate:function(){if(this.expressions.length+1!=this.strings.length)throw new Error("malformed template with "+this.expressions.length+" placeholder(s) but "+this.strings.length+" text segment(s)");Ze(this,"expressions"),this.strings.forEach((function(e){if("string"!=typeof e)throw new Error("strings must contain string")})),null!=this.tag&&C(this,"tag")}}),Xn=k("Constant",null,{$documentation:"Base class for all constants",_validate:function(){if("Constant"==this.TYPE)throw new Error("should not instantiate AST_Constant")}}),Kn=k("String","quote value",{$documentation:"A string literal",$propdoc:{quote:"[string?] the original quote character",value:"[string] the contents of this string"},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},Xn),Qn=k("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if("number"!=typeof this.value)throw new Error("value must be number");if(!isFinite(this.value))throw new Error("value must be finite");if(this.value<0)throw new Error("value cannot be negative")}},Xn),Zn=k("BigInt","value",{$documentation:"A BigInt literal",$propdoc:{value:"[string] the numeric representation"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string");if("-"==this.value[0])throw new Error("value cannot be negative")}},Xn),et=k("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},Xn),nt=k("Atom",null,{$documentation:"Base class for atoms",_validate:function(){if("Atom"==this.TYPE)throw new Error("should not instantiate AST_Atom")}},Xn),tt=k("Null",null,{$documentation:"The `null` atom",value:null},nt),it=k("NaN",null,{$documentation:"The impossible value",value:NaN},nt),rt=k("Undefined",null,{$documentation:"The `undefined` value",value:void 0},nt),ot=k("Hole",null,{$documentation:"A hole in an array",value:void 0},nt),at=k("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},nt),st=k("Boolean",null,{$documentation:"Base class for booleans",_validate:function(){if("Boolean"==this.TYPE)throw new Error("should not instantiate AST_Boolean")}},nt),ft=k("False",null,{$documentation:"The `false` atom",value:!1},st),ct=k("True",null,{$documentation:"The `true` atom",value:!0},st);function ut(e){this.callback=e,this.directives=Object.create(null),this.stack=[]}function lt(e,n){ut.call(this),this.before=e,this.after=n}ut.prototype={visit:function(e,n){this.push(e),!this.callback(e,n||f)&&n&&n(),this.pop()},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){var n;e instanceof ge?(this.directives=Object.create(this.directives),n="use strict"):e instanceof O?n=e.value:e instanceof ee&&(this.directives=Object.create(this.directives)),n&&!this.directives[n]&&(this.directives[n]=e),this.stack.push(e)},pop:function(){var e=this.stack.pop();(e instanceof ge||e instanceof ee)&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length-1;--t>=0;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof K)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof O))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n=this.stack;if(e.label)for(var t=n.length;--t>=0;){if((i=n[t])instanceof H&&i.label.name==e.label.name)return i.body}else for(t=n.length;--t>=0;){var i;if((i=n[t])instanceof Y||e instanceof qe&&i instanceof Fe)return i}},in_boolean_context:function(){for(var e,n=!0,t=0,i=this.self();e=this.parent(t++);i=e){if(e instanceof pn)switch(e.operator){case"&&":case"||":e.left===i&&(n=!1);continue;default:return!1}if(!(e instanceof dn)){if(e instanceof R)return e.condition===i;if(e instanceof U)return e.condition===i;if(e instanceof Me)return e.condition===i;if(e instanceof Oe){if(e.in_bool)return!0;for(;e=this.parent(t++);)if(e instanceof ee){if(e.name)return!1;if("Call"!=(e=this.parent(t++)).TYPE)return!1;break}}if(e instanceof tn){if(e.tail_node()===i)continue;return!n||"d"}return e instanceof M?!n||"d":e instanceof un&&"!"==e.operator}if(e.condition===i)return!0}}},lt.prototype=new ut,function(e){function n(e,n){return d(e,(function(e){return e.transform(n,!0)}))}function t(e,t){e.argnames=n(e.argnames,t),e.rest&&(e.rest=e.rest.transform(t)),e.value?e.value=e.value.transform(t):e.body=n(e.body,t)}e(S,f),e(H,(function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)})),e(M,(function(e,n){e.body=e.body.transform(n)})),e(j,(function(e,t){e.body=n(e.body,t)})),e(B,(function(e,n){e.body=e.body.transform(n),e.condition=e.condition.transform(n)})),e(L,(function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)})),e(U,(function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)})),e(V,(function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)})),e(X,(function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)})),e(De,(function(e,n){e.value&&(e.value=e.value.transform(n))})),e(ze,(function(e,n){e.label&&(e.label=e.label.transform(n))})),e(Me,(function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))})),e(Fe,(function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)})),e(Ne,(function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)})),e(Ie,(function(e,t){e.body=n(e.body,t),e.bcatch&&(e.bcatch=e.bcatch.transform(t)),e.bfinally&&(e.bfinally=e.bfinally.transform(t))})),e(He,(function(e,t){e.argname&&(e.argname=e.argname.transform(t)),e.body=n(e.body,t)})),e(Re,(function(e,t){e.definitions=n(e.definitions,t)})),e(Ve,(function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))})),e(Qe,(function(e,n){e.name=e.name.transform(n),e.value=e.value.transform(n)})),e(ee,(function(e,t){e.name&&(e.name=e.name.transform(t)),e.argnames=n(e.argnames,t),e.rest&&(e.rest=e.rest.transform(t)),e.body=n(e.body,t)})),e(se,t),e(fe,t),e(ge,(function(e,t){e.name&&(e.name=e.name.transform(t)),e.extends&&(e.extends=e.extends.transform(t)),e.properties=n(e.properties,t)})),e(we,(function(e,n){e.key instanceof S&&(e.key=e.key.transform(n)),e.value&&(e.value=e.value.transform(n))})),e(en,(function(e,t){e.expression=e.expression.transform(t),e.args=n(e.args,t)})),e(tn,(function(e,t){e.expressions=n(e.expressions,t)})),e(vn,(function(e,n){e.expression=e.expression.transform(n)})),e(mn,(function(e,n){e.expression&&(e.expression=e.expression.transform(n))})),e(an,(function(e,n){e.expression=e.expression.transform(n)})),e(sn,(function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)})),e(fn,(function(e,n){e.expression=e.expression.transform(n)})),e(cn,(function(e,n){e.expression=e.expression.transform(n)})),e(pn,(function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)})),e(dn,(function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)})),e(_n,(function(e,t){e.elements=n(e.elements,t)})),e(yn,(function(e,t){e.elements=n(e.elements,t),e.rest&&(e.rest=e.rest.transform(t))})),e(wn,(function(e,n){e.key instanceof S&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)})),e(xn,(function(e,t){e.properties=n(e.properties,t),e.rest&&(e.rest=e.rest.transform(t))})),e(kn,(function(e,t){e.properties=n(e.properties,t)})),e(En,(function(e,n){e.key instanceof S&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)})),e(We,(function(e,n){e.body=e.body.transform(n)})),e(Ge,(function(e,n){e.body=e.body.transform(n)})),e(Xe,(function(e,t){e.properties=n(e.properties,t)})),e(Ke,(function(e,t){e.all&&(e.all=e.all.transform(t)),e.default&&(e.default=e.default.transform(t)),e.properties&&(e.properties=n(e.properties,t))})),e(Jn,(function(e,t){e.tag&&(e.tag=e.tag.transform(t)),e.expressions=n(e.expressions,t)}))}((function(e,n){e.DEFMETHOD("transform",(function(e,t){var i,r;return e.push(this),e.before&&(i=e.before(this,n,t)),"undefined"===typeof i&&(n(i=this,e),e.after&&"undefined"!==typeof(r=e.after(i,t))&&(i=r)),e.pop(),i}))}));var pt="break case catch class const continue debugger default delete do else extends finally for function if in instanceof new return switch throw try typeof var void while with",dt="false null true",ht=["abstract async await boolean byte char double enum export final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield",dt,pt].join(" "),vt="return new delete throw else case";pt=_(pt),ht=_(ht),vt=_(vt),dt=_(dt);var mt=/^0b([01]+)$/i,_t=/^0x([0-9a-f]+)$/i,gt=/^0o?([0-7]+)$/i,bt=_(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%","**",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=","**=",">>=","<<=",">>>=","&=","|=","^=","&&","||","??","&&=","||=","??="]),yt="\n\r\u2028\u2029",wt="+-*&%=<>!?|~^",xt=",;:)}]",kt="[{(,;:",Et=kt+"`)}]",St=yt+" \xa0\t\f\v\u200b\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\ufeff",Tt=_(t("./'\"#"+wt+Et+St));function At(e){return e>=55296&&e<=56319}function Dt(e){return e>=56320&&e<=57343}function Ot(e){return e>=48&&e<=57}function $t(e){return!Tt[e]}function zt(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function qt(e){switch(e[0]){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"u":var n;if("{"==e[1]&&"}"==e.slice(-1))n=e.slice(2,-1);else{if(5!=e.length)return;n=e.slice(1)}if((t=parseInt(n,16))<0||isNaN(t))return;if(t<65536)return String.fromCharCode(t);if(t>1114111)return;return String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t));case"v":return"\v";case"x":if(3!=e.length)return;var t;if((t=parseInt(e.slice(1),16))<0||isNaN(t))return;return String.fromCharCode(t);case"\r":case"\n":return"";default:if("0"==e)return"\0";if(e[0]>="0"&&e[0]<="9")return;return e}}function Ct(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function Mt(e,n,t,i,r){throw new Ct(e,n,t,i,r)}function Ft(e,n,t){return e.type==n&&(null==t||e.value==t)}yt=_(t(yt)),wt=_(t(wt)),xt=_(t(xt)),kt=_(t(kt)),Et=_(t(Et)),St=_(t(St)),Ct.prototype=Object.create(Error.prototype),Ct.prototype.constructor=Ct,Ct.prototype.name="SyntaxError",o(Ct);var Pt={};function jt(e,n,t,i){var r={text:e,filename:n,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:Object.create(null),read_template:A("Unterminated template literal",(function(e){for(var n="";;){var t=i();switch(t){case"\\":t+=i();break;case"`":return void e.push(n);case"$":if("{"==a())return s(),e.push(n),r.regex_allowed=!0,!0}n+=t}function i(){var e=s(!0,!0);return"\r"==e?"\n":e}}))},o=!1;function a(){return r.text.charAt(r.pos)}function s(e,n){var t=r.text.charAt(r.pos++);if(e&&!t)throw Pt;return yt[t]?(r.col=0,r.line++,n||(r.newline_before=!0),"\r"==t&&"\n"==a()&&(r.pos++,t="\n")):r.col++,t}function f(e){for(;e-- >0;)s()}function c(e){return r.text.substr(r.pos,e.length)==e}function u(){r.tokline=r.line,r.tokcol=r.col,r.tokpos=r.pos}function l(t,i,a){r.regex_allowed="operator"==t&&!It[i]||"keyword"==t&&vt[i]||"punc"==t&&kt[i],"punc"==t&&"."==i?o=!0:a||(o=!1);var s={type:t,value:i,line:r.tokline,col:r.tokcol,pos:r.tokpos,endline:r.line,endcol:r.col,endpos:r.pos,nlb:r.newline_before,file:n};return/^(?:num|string|regexp)$/i.test(t)&&(s.raw=e.substring(s.pos,s.endpos)),a||(s.comments_before=r.comments_before,s.comments_after=r.comments_before=[]),r.newline_before=!1,new E(s)}function p(){for(;St[a()];)s()}function d(e){Mt(e,n,r.tokline,r.tokcol,r.tokpos)}function h(e){return/^0[0-7_]+$/.test(e)}function v(e){var n=!1,t=!1,i=!1,r="."==e,o=function(e){for(var n,t="";(n=a())&&e(n,t);)t+=s();return t}((function(e,o){switch(e){case"x":case"X":return!i&&(i=!0);case"e":case"E":return!!i||!n&&(n=t=!0);case"+":case"-":return t;case t=!1,".":return!(r||n||i||h(o))&&(r=!0)}return/[_0-9a-dfo]/i.test(e)}));e&&(o=e+o),h(o)?D.has_directive("use strict")&&d("Legacy octal literals are not allowed in strict mode"):o=o.replace(i?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1");var f=function(e){var n;if(n=mt.exec(e))return parseInt(n[1],2);if(n=_t.exec(e))return parseInt(n[1],16);if(n=gt.exec(e))return parseInt(n[1],8);var t=parseFloat(e);return t==e?t:void 0}(o);return isNaN(f)&&d("Invalid syntax: "+o),r||n||"n"!=a()?l("num",f):l("bigint",o.toLowerCase()+s())}function m(e){var n=s(!0,e);if(n>="0"&&n<="7")return function(e){var n=a();n>="0"&&n<="7"&&(e+=s(!0))[0]<="3"&&(n=a())>="0"&&n<="7"&&(e+=s(!0));if("0"===e)return"\0";e.length>0&&D.has_directive("use strict")&&d("Legacy octal escape sequences are not allowed in strict mode");return String.fromCharCode(parseInt(e,8))}(n);if("u"==n){var t=s(!0,e);if(n+=t,"{"!=t)n+=s(!0,e)+s(!0,e)+s(!0,e);else do{n+=t=s(!0,e)}while("}"!=t)}else"x"==n&&(n+=s(!0,e)+s(!0,e));var i=qt(n);return"string"!=typeof i&&d("Invalid escape sequence: \\"+n),i}var _=A("Unterminated string constant",(function(e){for(var n=s(),t="";;){var i=s(!0,!0);if("\\"==i)i=m(!0);else if(yt[i])d("Unterminated string constant");else if(i==n)break;t+=i}var r=l("string",t);return r.quote=e,r}));function g(e){var n,t=r.regex_allowed,i=function(){for(var e=r.text,n=r.pos;n<r.text.length;++n)if(yt[e[n]])return n;return-1}();return-1==i?(n=r.text.substr(r.pos),r.pos=r.text.length):(n=r.text.substring(r.pos,i),r.pos=i),r.col=r.tokcol+(r.pos-r.tokpos),r.comments_before.push(l(e,n,!0)),r.regex_allowed=t,D}var b=A("Unterminated multiline comment",(function(){var e=r.regex_allowed,n=function(e,n){var t=r.text.indexOf(e,r.pos);if(n&&-1==t)throw Pt;return t}("*/",!0),t=r.text.substring(r.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return f(t.length+2),r.comments_before.push(l("comment2",t,!0)),r.regex_allowed=e,D}));function y(){for(var e,n=!1,t=!1,i="#"==a()?s():"";e=a();)if(n)"u"!=e&&d("Expecting UnicodeEscapeSequence -- uXXXX"),$t(e=m())||d("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),i+=e,n=!1;else if("\\"==e)t=n=!0,s();else{if(!$t(e))break;i+=s()}if(pt[i]&&t){var r=i.charCodeAt(0).toString(16).toUpperCase();i="\\u"+"0000".substr(r.length)+r+i.slice(1)}return i}var w=A("Unterminated regular expression",(function(e){for(var n,t=!1,i=!1;n=s(!0);)if(yt[n])d("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=y();try{var o=new RegExp(e,r);return o.raw_source=e,l("regexp",o)}catch(a){d(a.message)}}));function x(e){return l("operator",function e(n){if(!a())return n;var t=n+a();return bt[t]?(s(),e(t)):n}(e||s()))}function k(){switch(s(),a()){case"/":return s(),g("comment1");case"*":return s(),b()}return r.regex_allowed?w(""):x("/")}function S(){s();var e=a();if("."==e){var n=".";do{n+=".",s()}while("."==a());return l("operator",n)}return Ot(e.charCodeAt(0))?v("."):l("punc",".")}function T(){var e=y();return o?l("name",e):dt[e]?l("atom",e):pt[e]?bt[e]?l("operator",e):l("keyword",e):l("name",e)}function A(e,n){return function(t){try{return n(t)}catch(i){if(i!==Pt)throw i;d(e)}}}function D(e){if(null!=e)return w(e);for(i&&0==r.pos&&c("#!")&&(u(),f(2),g("comment5"));;){if(p(),u(),t){if(c("\x3c!--")){f(4),g("comment3");continue}if(c("--\x3e")&&r.newline_before){f(3),g("comment4");continue}}var n=a();if(!n)return l("eof");var o=n.charCodeAt(0);switch(o){case 34:case 39:return _(n);case 46:return S();case 47:var h=k();if(h===D)continue;return h}if(Ot(o))return v();if(Et[n])return l("punc",s());if(c("=>"))return l("punc",s()+s());if(wt[n])return x();if(35==o||92==o||!Tt[n])return T();break}d("Unexpected character '"+n+"'")}return D.context=function(e){return e&&(r=e),r},D.add_directive=function(e){r.directives[e]=!0},D.push_directives_stack=function(){r.directives=Object.create(r.directives)},D.pop_directives_stack=function(){r.directives=Object.getPrototypeOf(r.directives)},D.has_directive=function(e){return!!r.directives[e]},D}var Nt=_("typeof void delete -- ++ ! ~ - +"),It=_("-- ++"),Ht=_("= += -= /= *= %= **= >>= <<= >>>= &= |= ^= &&= ||= ??="),Yt=function(e,n){for(var t=0;t<e.length;)for(var i=e[t++],r=0;r<i.length;r++)n[i[r]]=t;return n}([["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),Rt=_("atom bigint num regexp string");function Bt(e,n){n=s(n,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,module:!1,shebang:!0,strict:!1,toplevel:null},!0);var t={input:"string"==typeof e?jt(e,n.filename,n.html5_comments,n.shebang):e,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_generator:!1,in_loop:0,labels:[],peeked:null,prev:null,token:null};function i(e,n){return Ft(t.token,e,n)}function o(){return t.peeked||(t.peeked=t.input())}function a(){return t.prev=t.token,t.peeked?(t.token=t.peeked,t.peeked=null):t.token=t.input(),t.in_directives=t.in_directives&&("string"==t.token.type||i("punc",";")),t.token}function f(){return t.prev}function c(e,n,i,r){var o=t.input.context();Mt(e,o.filename,null!=n?n:o.tokline,null!=i?i:o.tokcol,null!=r?r:o.tokpos)}function u(e,n){c(n,e.line,e.col)}function l(e,n){return e+(void 0===n?"":" \xab"+n+"\xbb")}function p(e){null==e&&(e=t.token),u(e,"Unexpected token: "+l(e.type,e.value))}function d(e,n){if(i(e,n))return a();u(t.token,"Unexpected token: "+l(t.token.type,t.token.value)+", expected: "+l(e,n))}function h(e){return d("punc",e)}function v(e){return e.nlb||!g(e.comments_before,(function(e){return!e.nlb}))}function m(){return!n.strict&&(i("eof")||i("punc","}")||v(t.token))}function _(e){i("punc",";")?a():e||m()||h(";")}function b(){h("(");var e=ut();return h(")"),e}function w(e){return function(){var n=t.token,i=e.apply(null,arguments),r=f();return i.start=n,i.end=r,i}}function x(){(i("operator","/")||i("operator","/="))&&(t.peeked=null,t.token=t.input(t.token.value.substr(1)))}t.token=a();var k=w((function(){switch(x(),t.token.type){case"string":var e=t.in_directives,r=ut();if(e)if(r instanceof Kn){var s=r.start.raw.slice(1,-1);t.input.add_directive(s),r.value=s}else t.in_directives=e=!1;return _(),e?new O(r):new M({body:r});case"num":case"bigint":case"regexp":case"operator":case"atom":return E();case"name":switch(t.token.value){case"async":if(Ft(o(),"keyword","function"))return a(),a(),i("operator","*")?(a(),C(ve)):C(he);break;case"await":if(t.in_async)return E();break;case"export":return a(),function(){if(i("operator","*")){a();var e="*";i("name","as")&&(a(),F()||d("name"),e=t.token.value,a()),d("name","from");var n=t.token;return d("string"),_(),new Je({aliases:[e],keys:["*"],path:n.value,quote:n.quote})}if(i("punc","{")){a();for(var r=[],s=[];F();){var c=t.token;a(),s.push(c),i("name","as")?(a(),F()||d("name"),r.push(t.token.value),a()):r.push(c.value),i("punc","}")||h(",")}if(h("}"),i("name","from")){a();n=t.token;return d("string"),_(),new Je({aliases:r,keys:s.map((function(e){return e.value})),path:n.value,quote:n.quote})}return _(),new Xe({properties:s.map((function(e,n){Ft(e,"name")||u(e,"Name expected");var t=ze(Bn,e);return t.alias=r[n],t}))})}if(i("keyword","default")){a();var l=t.token,p=function(){if(i("name","async")){if(!Ft(o(),"keyword","function"))return;return a(),a(),i("operator","*")?(a(),P(ve,C(ue))):P(he,C(ce))}if(i("keyword"))switch(t.token.value){case"class":return a(),P(be,A(ye));case"function":return a(),i("operator","*")?(a(),P(_e,C(pe))):P(me,C(le))}}();return p?(p.start=l,p.end=f()):(x(),p=ut(),_()),new Ge({body:p})}return new We({body:j()})}();case"import":var l=o();if("punc"!=l.type||!/^[(.]$/.test(l.value))return a(),function(){var e=null,n=Ze(qn,!0),r=null;if(n?(n.key="",i("punc",",")&&a()):!i("string"))if(i("operator","*"))a(),d("name","as"),(e=Ze(qn)).key="*";else{for(h("{"),r=[];F();){var s;if(Ft(o(),"name","as")){var f=t.token.value;a(),a(),(s=Ze(qn)).key=f}else(s=Ze(qn)).key=s.name;r.push(s),i("punc","}")||h(",")}h("}")}(e||n||r)&&d("name","from");var c=t.token;return d("string"),_(),new Ke({all:e,default:n,path:c.value,properties:r,quote:c.quote})}();break;case"let":if(K()){a();var y=te();return _(),y}break;case"yield":if(t.in_generator)return E()}return Ft(o(),"punc",":")?function(){var e=Ze(Yn);g(t.labels,(function(n){return n.name!=e.name}))||c("Label "+e.name+" defined twice");h(":"),t.labels.push(e);var n=k();t.labels.pop(),n instanceof Y||e.references.forEach((function(n){n instanceof Ce&&u(n.label.start,"Continue label `"+e.name+"` must refer to IterationStatement")}));return new H({body:n,label:e})}():E();case"punc":switch(t.token.value){case"{":return new N({start:t.token,body:I(),end:f()});case"[":case"(":case"`":return E();case";":return t.in_directives=!1,a(),new $;default:p()}case"keyword":switch(t.token.value){case"break":return a(),S(qe);case"class":return a(),A(be);case"const":a();y=ee();return _(),y;case"continue":return a(),S(Ce);case"debugger":return a(),_(),new D;case"do":a();r=lt(k);d("keyword","while");var w=b();return _(!0),new B({body:r,condition:w});case"while":return a(),new L({condition:b(),body:lt(k)});case"for":return a(),function(){var e=i("name","await")&&a();h("(");var n=null;if(e||!i("punc",";")){var t;if(n=i("keyword","const")?(a(),ee(!0)):i("name","let")&&K()?(a(),te(!0)):i("keyword","var")?(a(),ie(!0)):ut(!0),e?(d("name","of"),t=J):i("operator","in")?(a(),t=W):i("name","of")&&(a(),t=G),t)return n instanceof Re?(n.definitions.length>1&&u(n.start,"Only one variable declaration allowed in for..in/of loop"),t!==W&&n.definitions[0].value&&u(n.definitions[0].value.start,"No initializers allowed in for..of loop")):it(n)||(n=rt(n))instanceof gn||u(n.start,"Invalid left-hand side in for..in/of loop"),function(e,n){x();var t=ut();return h(")"),new e({init:n,object:t,body:lt(k)})}(t,n)}return function(e){h(";");var n=i("punc",";")?null:ut();h(";");var t=i("punc",")")?null:ut();return h(")"),new U({init:e,condition:n,step:t,body:lt(k)})}(n)}();case"function":return a(),i("operator","*")?(a(),C(_e)):C(me);case"if":return a(),function(){var e=b(),n=k(),t=null;i("keyword","else")&&(a(),t=k());return new Me({condition:e,body:n,alternative:t})}();case"return":0!=t.in_function||n.bare_returns||c("'return' outside of function"),a();s=null;return i("punc",";")?a():m()||(s=ut(),_()),new Oe({value:s});case"switch":return a(),new Fe({expression:b(),body:lt(R)});case"throw":a(),v(t.token)&&c("Illegal newline after 'throw'");s=ut();return _(),new $e({value:s});case"try":return a(),function(){var e=I(),n=null,r=null;if(i("keyword","catch")){var o=t.token;a();var s=null;i("punc","(")&&(a(),s=rn(Hn),h(")")),n=new He({start:o,argname:s,body:I(),end:f()})}if(i("keyword","finally")){o=t.token;a(),r=new Ye({start:o,body:I(),end:f()})}n||r||c("Missing catch/finally blocks");return new Ie({body:e,bcatch:n,bfinally:r})}();case"var":a();y=ie();return _(),y;case"with":return t.input.has_directive("use strict")&&c("Strict mode may not include a with statement"),a(),new X({expression:b(),body:k()})}}p()}));function E(){var e=ut();return _(),new M({body:e})}function S(e){var n,i=null;m()||(i=Ze(Ln,!0)),null!=i?((n=r((function(e){return e.name==i.name}),t.labels))||u(i.start,"Undefined label "+i.name),i.thedef=n):0==t.in_loop&&c(e.TYPE+" not inside a loop or switch"),_();var o=new e({label:i});return n&&n.references.push(o),o}function T(e){if(i("name",e)){var n=o();if(n&&!Ft(n,"operator","=")&&("punc"!=n.type||!/^[(;}]$/.test(n.value))&&!v(n))return a()}}function A(e){var n,r=t.in_async,o=t.in_generator;t.input.push_directives_stack(),t.input.add_directive("use strict"),n=e===be?Ze(Nn):Ze(In,!0);var s=null;i("keyword","extends")&&(a(),x(),s=oe(!0)),h("{");for(var c=[];!i("punc","}");)if(i("punc",";"))a();else{var u=t.token,l=!!T("static"),d=T("async");if(i("operator","*")){a();var v=i("name")&&/^#/.test(t.token.value),m=Ae(),g=t.token,b=C(d?ue:pe);b.start=g,b.end=f(),c.push(new Se({start:u,static:l,private:v,key:m,value:b,end:f()}))}else if(l&&i("punc","{"))c.push(new Te({start:u,value:new Z({start:u,body:I(),end:f()}),end:f()}));else{v=i("name")&&/^#/.test(t.token.value),m=Ae();if(i("punc","(")){var y=t.token,w=C(d?ce:le);w.start=y,w.end=f(),c.push(new Se({start:u,static:l,private:v,key:m,value:w,end:f()}))}else{d&&p(d);var k=null;if(i("operator","="))a(),t.in_async=!1,t.in_generator=!1,k=st(),t.in_generator=o,t.in_async=r;else if(!i("punc",";")&&!i("punc","}")){var E=null;switch(m){case"get":E=ke;break;case"set":E=Ee}if(E){c.push(new E({start:u,static:l,private:i("name")&&/^#/.test(t.token.value),key:Ae(),value:ge(),end:f()}));continue}}_(),c.push(new xe({start:u,static:l,private:v,key:m,value:k,end:f()}))}}}return a(),t.input.pop_directives_stack(),t.in_generator=o,t.in_async=r,new e({extends:s,name:n,properties:c})}function z(e){if(e instanceof _n){var n=null;return e.elements[e.elements.length-1]instanceof fn&&(n=z(e.elements.pop().expression)),new yn({start:e.start,elements:e.elements.map(z),rest:n,end:e.end})}if(e instanceof hn)return new Qe({start:e.start,name:z(e.left),value:e.right,end:e.end});if(e instanceof Qe)return e.name=z(e.name),e;if(e instanceof yn)return e.elements=e.elements.map(z),e.rest&&(e.rest=z(e.rest)),e;if(e instanceof xn)return e.properties.forEach((function(e){e.value=z(e.value)})),e.rest&&(e.rest=z(e.rest)),e;if(e instanceof ot)return e;if(e instanceof kn){n=null;return e.properties[e.properties.length-1]instanceof fn&&(n=z(e.properties.pop().expression)),new xn({start:e.start,properties:e.properties.map((function(e){return e instanceof Sn||u(e.start,"Invalid destructuring assignment"),new wn({start:e.start,key:e.key,value:z(e.value),end:e.end})})),rest:n,end:e.end})}return e instanceof Fn?e:e instanceof Rn?new Fn(e):e instanceof mn?new Fn({start:e.start,name:"yield",end:e.end}):void u(e.start,"Invalid arrow parameter")}function q(e,n,r){var o=t.in_async,a=t.in_generator;t.in_async=r,t.in_generator=!1;var s=t.in_funarg;t.in_funarg=t.in_function;var c,u,l=e.map(z),p=e.rest||null;p&&(p=z(p)),t.in_funarg=s,h("=>");var d=t.in_loop,v=t.labels;++t.in_function,t.input.push_directives_stack(),t.in_loop=0,t.labels=[],i("punc","{")?(t.in_directives=!0,c=I(),u=null):(c=[],x(),u=st());var m=t.input.has_directive("use strict");t.input.pop_directives_stack(),--t.in_function,t.in_loop=d,t.labels=v,t.in_generator=a,t.in_async=o;var _=new(r?fe:se)({start:n,argnames:l,rest:p,body:c,value:u,end:f()});return m&&_.each_argname(Pe),_}var C=function(e){var i,r=t.in_async,o=t.in_generator;/Defun$/.test(e.TYPE)?(i=Ze(Pn),t.in_async=/^Async/.test(e.TYPE),t.in_generator=/Generator/.test(e.TYPE)):(t.in_async=/^Async/.test(e.TYPE),t.in_generator=/Generator/.test(e.TYPE),i=Ze(jn,!0)),!i||e===ne||i instanceof $n||p(f()),h("(");var a=t.in_funarg;t.in_funarg=t.in_function;var s=ae(")",!n.strict,!1,(function(){return cn(Fn)}));t.in_funarg=a;var c=t.in_loop,u=t.labels;++t.in_function,t.in_directives=!0,t.input.push_directives_stack(),t.in_loop=0,t.labels=[];var l=I(),d=t.input.has_directive("use strict");t.input.pop_directives_stack(),--t.in_function,t.in_loop=c,t.labels=u,t.in_generator=o,t.in_async=r;var v=new e({name:i,argnames:s,rest:s.rest||null,body:l});return d&&(i&&Pe(i),v.each_argname(Pe)),v};function F(){return i("name")||zt(t.token.value)}function P(e,n){return n.name&&((n=new e(n)).name=new(e===be?Nn:Pn)(n.name)),n}var j=w((function(){if(i("name"))switch(t.token.value){case"async":return a(),d("keyword","function"),i("operator","*")?(a(),C(ve)):C(he);case"let":a();var e=te();return _(),e}else if(i("keyword"))switch(t.token.value){case"class":return a(),A(be);case"const":a();e=ee();return _(),e;case"function":return a(),i("operator","*")?(a(),C(_e)):C(me);case"var":a();e=ie();return _(),e}p()}));function I(){h("{");for(var e=[];!i("punc","}");)i("eof")&&h("}"),e.push(k());return a(),e}function R(){h("{");for(var e,n,r,o,s=[];!i("punc","}");)i("eof")&&h("}"),i("keyword","case")?(e&&(e.end=f()),n=[],e=new Ne({start:(o=t.token,a(),o),expression:ut(),body:n}),s.push(e),h(":")):i("keyword","default")?(e&&(e.end=f()),r&&c("More than one default clause in switch statement"),n=[],e=new je({start:(o=t.token,a(),h(":"),o),body:n}),s.push(e),r=e):(n||p(),n.push(k()));return e&&(e.end=f()),a(),s}function V(e,n){for(var r=[];;){var o=t.token,s=rn(e),u=null;if(i("operator","=")?(a(),u=st(n)):!n&&(e===zn||s instanceof gn)&&c("Missing initializer in declaration"),r.push(new Ve({start:o,name:s,value:u,end:f()})),!i("punc",","))break;a()}return r}function K(){var e=o();return Ft(e,"name")||Ft(e,"punc","[")||Ft(e,"punc","{")}var ee=function(e){return new Be({start:f(),definitions:V(zn,e),end:f()})},te=function(e){return new Le({start:f(),definitions:V(Cn,e),end:f()})},ie=function(e){return new Ue({start:f(),definitions:V(Mn,e),end:f()})},re=function(e){var r,s=t.token;if(d("operator","new"),i("punc",".")&&Ft(o(),"name","target"))a(),a(),r=new Gn;else{var c,u=oe(!1);i("punc","(")?(a(),c=ae(")",!n.strict)):c=[],r=new nn({expression:u,args:c})}return r.start=s,r.end=f(),En(r,e)};var oe=function(e){if(i("operator","new"))return re(e);var n=t.token;if(i("punc")){switch(n.value){case"`":return En(bn(null),e);case"(":if(a(),i("punc",")"))return a(),q([],n);var r=ut(!1,!0),s=n.comments_before.length;if([].unshift.apply(r.start.comments_before,n.comments_before),n.comments_before.length=0,n.comments_before=r.start.comments_before,n.comments_before_length=s,0==s&&n.comments_before.length>0){var c=n.comments_before[0];c.nlb||(c.nlb=n.nlb,n.nlb=!1)}n.comments_after=r.start.comments_after,r.start=n,h(")");var u=f();return u.comments_before=r.end.comments_before,u.comments_after.forEach((function(e){r.end.comments_after.push(e),e.nlb&&(t.token.nlb=!0)})),u.comments_after.length=0,u.comments_after=r.end.comments_after,r.end=u,i("punc","=>")?q(r instanceof tn?r.expressions:[r],n):En(r,e);case"[":return En(de(),e);case"{":return En(we(),e)}p()}if(i("keyword"))switch(n.value){case"class":a();var l=A(ye);return l.start=n,l.end=f(),En(l,e);case"function":return a(),i("operator","*")?(a(),v=C(pe)):v=C(le),v.start=n,v.end=f(),En(v,e)}if(i("name")){var d=ze(Rn,n);if(a(),"async"==d.name){var v;if(i("keyword","function"))return a(),i("operator","*")?(a(),v=C(ue)):v=C(ce),v.start=n,v.end=f(),En(v,e);if(i("name")&&Ft(o(),"punc","=>"))return n=t.token,d=ze(Rn,n),a(),q([d],n,!0);if(i("punc","(")){var m=En(d,e);if(!i("punc","=>"))return m;var _=m.args;return _[_.length-1]instanceof fn&&(_.rest=_.pop().expression),q(_,n,!0)}}return i("punc","=>")?q([d],n):En(d,e)}if(Rt[t.token.type])return En(function(){var e,n=t.token,i=n.value;switch(n.type){case"num":isFinite(i)?e=new Qn({value:i}):(e=new at,i<0&&(e=new un({operator:"-",expression:e})));break;case"bigint":e=new Zn({value:i});break;case"string":e=new Kn({value:i,quote:n.quote});break;case"regexp":e=new et({value:i});break;case"atom":switch(i){case"false":e=new ft;break;case"true":e=new ct;break;case"null":e=new tt;break;default:p()}break;default:p()}return a(),e.start=e.end=n,e}(),e);p()};function ae(e,n,r,o){o||(o=st);for(var s=!0,c=[];!i("punc",e)&&(s?s=!1:h(","),!n||!i("punc",e));)if(r&&i("punc",","))c.push(new ot({start:t.token,end:t.token}));else if(i("operator","...")){if(o!==st){a(),c.rest=o(),c.rest instanceof Qe&&u(c.rest.start,"Invalid rest parameter");break}c.push(new fn({start:t.token,expression:(a(),o()),end:f()}))}else c.push(o());return h(e),c}var de=w((function(){return h("["),new _n({elements:ae("]",!n.strict,!0)})})),ge=w((function(){return C(ne)})),we=w((function(){h("{");for(var e=!0,r=[];!i("punc","}")&&(e?e=!1:h(","),n.strict||!i("punc","}"));){var s=t.token;if(i("operator","*")){a();var c=Ae(),u=t.token,l=C(pe);l.start=u,l.end=f(),r.push(new Tn({start:s,key:c,value:l,end:f()}))}else if(i("operator","..."))a(),r.push(new fn({start:s,expression:st(),end:f()}));else if(Ft(o(),"operator","=")){var d=Ze(Rn);a(),r.push(new Sn({start:s,key:s.value,value:new hn({start:s,left:d,operator:"=",right:st(),end:f()}),end:f()}))}else if(Ft(o(),"punc",",")||Ft(o(),"punc","}"))r.push(new Sn({start:s,key:s.value,value:Ze(Rn),end:f()}));else{c=Ae();if(i("punc","(")){var v=t.token;(_=C(le)).start=v,_.end=f(),r.push(new Tn({start:s,key:c,value:_,end:f()}))}else if(i("punc",":"))a(),r.push(new Sn({start:s,key:c,value:st(),end:f()}));else{if("name"==s.type)switch(c){case"async":var m=i("operator","*")&&a();c=Ae();var _;v=t.token;(_=C(m?ue:ce)).start=v,_.end=f(),r.push(new Tn({start:s,key:c,value:_,end:f()}));continue;case"get":r.push(new Dn({start:s,key:Ae(),value:ge(),end:f()}));continue;case"set":r.push(new An({start:s,key:Ae(),value:ge(),end:f()}));continue}p()}}}return a(),new kn({properties:r})}));function Ae(){var e=t.token;switch(e.type){case"operator":pt[e.value]||p();case"num":case"string":case"name":case"keyword":case"atom":return a(),""+e.value;case"punc":h("[");var n=st();return h("]"),n;default:p()}}function De(){var e=t.token.value;return d("name"),e}function ze(e,n){var i=n.value;switch(i){case"await":t.in_async&&p(n);break;case"super":e=Vn;break;case"this":e=Wn;break;case"yield":t.in_generator&&p(n)}return new e({name:""+i,start:n,end:n})}function Pe(e){"arguments"!=e.name&&"eval"!=e.name&&"let"!=e.name||u(e.start,"Unexpected "+e.name+" in strict mode")}function Ze(e,n){if(!i("name"))return n||c("Name expected"),null;var r=ze(e,t.token);return t.input.has_directive("use strict")&&r instanceof $n&&Pe(r),a(),r}function rn(e){var r=t.token;if(i("punc","[")){a();var s=ae("]",!n.strict,!0,(function(){return cn(e)}));return new yn({start:r,elements:s,rest:s.rest||null,end:f()})}if(i("punc","{")){a();for(var c=!0,u=[],l=null;!i("punc","}")&&(c?c=!1:h(","),n.strict||!i("punc","}"));){var p=t.token;if(i("punc","[")||Ft(o(),"punc",":")){var d=Ae();h(":"),u.push(new wn({start:p,key:d,value:cn(e),end:f()}))}else{if(i("operator","...")){a(),l=rn(e);break}var v=Ze(e);i("operator","=")&&(a(),v=new Qe({start:v.start,name:v,value:st(),end:f()})),u.push(new wn({start:p,key:p.value,value:v,end:f()}))}}return h("}"),new xn({start:r,properties:u,rest:l,end:f()})}return Ze(e)}function cn(e){var n=t.token,r=rn(e);return i("operator","=")?(a(),new Qe({start:n,name:r,value:st(),end:f()})):r}function bn(e){for(var n=e?e.start:t.token,r=t.input.context().read_template,o=[],s=[];r(o);)a(),s.push(ut()),i("punc","}")||p();return a(),new Jn({start:n,expressions:s,strings:o,tag:e,end:f()})}function En(e,t){for(var r=e.start,s=null;;)if(i("operator","?")&&Ft(o(),"punc",".")&&(a(),a(),s=e),i("punc","[")){a();var u=ut();h("]"),e=new sn({start:r,optional:s===e,expression:e,property:u,end:f()})}else if(t&&i("punc","("))a(),e=new en({start:r,optional:s===e,expression:e,args:ae(")",!n.strict),end:f()});else if(s===e||i("punc","."))s!==e&&a(),e=new an({start:r,optional:s===e,expression:e,property:De(),end:f()});else{if(!i("punc","`"))break;s&&c("Invalid template on optional chain"),e=bn(e)}if(s&&(e.terminal=!0),e instanceof en&&!e.pure)for(var l=(r=e.start).comments_before,p=y(r,"comments_before_length")?r.comments_before_length:l.length;--p>=0;)if(/[@#]__PURE__/.test(l[p].value)){e.pure=!0;break}return e}function On(e){var n=t.token;if(t.in_async&&i("name","await"))return t.in_funarg===t.in_function&&c("Invalid use of await in function argument"),t.input.context().regex_allowed=!0,a(),new vn({start:n,expression:On(e),end:f()});if(t.in_generator&&i("name","yield")){t.in_funarg===t.in_function&&c("Invalid use of yield in function argument"),t.input.context().regex_allowed=!0,a();var r=null,o=!1;return i("operator","*")?(a(),r=st(e),o=!0):(i("punc")?xt[t.token.value]:m())||(r=st(e)),new mn({start:n,expression:r,nested:o,end:f()})}if(i("operator")&&Nt[n.value]){a(),x();var s=Un(un,n,On(e));return s.start=n,s.end=f(),s}for(var u=oe(!0);i("operator")&&It[t.token.value]&&!v(t.token);)(u=Un(ln,t.token,u)).start=n,u.end=t.token,a();return u}function Un(e,n,i){var r=n.value;switch(r){case"++":case"--":it(i)||u(n,"Invalid use of "+r+" operator");break;case"delete":i instanceof Rn&&t.input.has_directive("use strict")&&u(i.start,"Calling delete on expression not allowed in strict mode")}return new e({operator:r,expression:i})}var Xn=function e(n,r,o){var s=i("operator")?t.token.value:null;"in"==s&&o&&(s=null);var f=null!=s?Yt[s]:null;if(null!=f&&f>r){a();var c=e(On(o),"**"==s?f-1:f,o);return e(new pn({start:n.start,left:n,operator:s,right:c,end:c.end}),r,o)}return n};function nt(e){return Xn(On(e),0,e)}function it(e){return e instanceof on&&!e.optional||e instanceof Rn}function rt(e){if(e instanceof _n){var n=null;if(e.elements[e.elements.length-1]instanceof fn&&!((n=rt(e.elements.pop().expression))instanceof gn||it(n)))return e;var t=e.elements.map(rt);return g(t,(function(e){return e instanceof Qe||e instanceof gn||e instanceof ot||it(e)}))?new yn({start:e.start,elements:t,rest:n,end:e.end}):e}if(e instanceof hn){var i=rt(e.left);return i instanceof gn||it(i)?new Qe({start:e.start,name:i,value:e.right,end:e.end}):e}if(!(e instanceof kn))return e;n=null;if(e.properties[e.properties.length-1]instanceof fn&&!((n=rt(e.properties.pop().expression))instanceof gn||it(n)))return e;for(var r=[],o=0;o<e.properties.length;o++){var a=e.properties[o];if(!(a instanceof Sn))return e;var s=rt(a.value);if(!(s instanceof Qe||s instanceof gn||it(s)))return e;r.push(new wn({start:a.start,key:a.key,value:s,end:a.end}))}return new xn({start:e.start,properties:r,rest:n,end:e.end})}function st(e){var n=t.token,r=function(e){var n=t.token,r=nt(e);if(i("operator","?")){a();var o=st();return h(":"),new dn({start:n,condition:r,consequent:o,alternative:st(e),end:f()})}return r}(e),o=t.token.value;if(i("operator")&&Ht[o]){if(it(r)||"="==o&&(r=rt(r))instanceof gn)return a(),new hn({start:n,left:r,operator:o,right:st(e),end:f()});c("Invalid assignment")}return r}function ut(e,n){for(var r=t.token,s=[];;){if(n&&i("operator","...")){a(),s.rest=rn(Fn);break}if(s.push(st(e)),!i("punc",","))break;if(a(),n&&i("punc",")")&&Ft(o(),"punc","=>"))break}return 1!=s.length||s.rest?new tn({start:r,expressions:s,end:f()}):s[0]}function lt(e){++t.in_loop;var n=e();return--t.in_loop,n}if(n.expression){x();var dt=ut();return d("eof"),dt}return function(){var e=t.token,r=[];for(n.module&&(t.in_async=!0,t.input.add_directive("use strict")),t.input.push_directives_stack();!i("eof");)r.push(k());t.input.pop_directives_stack();var o=f()||e,a=n.toplevel;return a?(a.body=a.body.concat(r),a.end=o):a=new Q({start:e,body:r,end:o}),a}()}function Lt(e,n,t,i){this._bits=0,this.defun=void 0,this.eliminated=0,this.id=e,this.init=i,this.mangled_name=null,this.name=t.name,this.orig=[t],this.references=[],this.replaced=0,this.safe_ids=void 0,this.scope=n}function Ut(e){return e.orig[0]instanceof Fn||e.orig[1]instanceof Fn}Lt.prototype={forEach:function(e){this.orig.forEach(e),this.references.forEach(e)},mangle:function(e){if(!this.mangled_name){var n=this.global&&e.cache&&e.cache.props;if(n&&n.has(this.name))this.mangled_name=n.get(this.name);else if(this.unmangleable(e))Xt(this.scope,e).set(this.name,!0);else{var t=this.redefined();this.mangled_name=t?t.mangled_name||t.name:function(e,n){var t,r=e.scope,o=Xt(r,n),a=r.cname_holes,s=new b,f=[r];e.forEach((function(e){var t=e.scope;do{if(i(t,f))break;Xt(t,n).each((function(e,n){s.set(n,e)})),f.push(t)}while(t=t.parent_scope)}));for(var c=0;c<a.length;c++)if(t=Qt(a[c]),!s.has(t))return a.splice(c,1),o.set(t,!0),t;for(;;)if(t=Qt(++r.cname),!(o.has(t)||ht[t]||n.reserved.has[t])){if(!s.has(t))break;a.push(r.cname)}return o.set(t,!0),t}(this,e),n&&n.set(this.name,this.mangled_name)}}},redefined:function(){var e=this,n=e.defun;if(n){var t=e.name,i=n.variables.get(t)||n instanceof Q&&n.globals.get(t)||e.orig[0]instanceof zn&&r((function(e){return e.name==t}),n.enclosed);return i&&i!==e?i.redefined()||i:void 0}},unmangleable:function(e){if(this.exported)return!0;if(this.undeclared)return!0;if(!e.eval&&this.scope.pinned())return!0;if(e.keep_fargs&&Ut(this))return!0;if(e.keep_fnames){var n=this.orig[0];if(n instanceof In)return!0;if(n instanceof Nn)return!0;if(n instanceof Pn)return!0;if(n instanceof jn)return!0}return!(e.toplevel||!this.global)}},x(Lt,["const_redefs","cross_loop","direct_access","exported","global","undeclared"]);var Vt=_("delete ++ --");function Wt(e,n){return n instanceof hn?n.left===e&&e:n instanceof Qe?n.name===e&&e:n instanceof gn||n instanceof wn?e:n instanceof V?n.init===e&&e:n instanceof cn?Vt[n.operator]&&n.expression:void 0}function Gt(e,n){e.enclosed=[],e.parent_scope=n,e.functions=new b,e.variables=new b,n&&(e.make_def=n.make_def)}function Jt(e,n){Gt(e,n),e.uses_eval=!1,e.uses_with=!1}function Xt(e,n){var t=e.names_in_use;if(!t){e.cname=-1,e.cname_holes=[],e.names_in_use=t=new b;var i=n.cache&&n.cache.props;e.enclosed.forEach((function(e){e.unmangleable(n)&&t.set(e.name,!0),e.global&&i&&i.has(e.name)&&t.set(i.get(e.name),!0)}))}return t}function Kt(e){return e=s(e,{eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1}),Array.isArray(e.reserved)||(e.reserved=[]),h(e.reserved,"arguments"),e.reserved.has=_(e.reserved),e}Q.DEFMETHOD("figure_out_scope",(function(e){e=s(e,{cache:null,ie:!1});var n=this,t=null,i=!1,r=0,o=n.parent_scope=null,a=new ut((function(n,r){if(n instanceof be){var s=i;return i=a.parent()instanceof We,n.name.walk(a),i=s,u((function(){n.extends&&n.extends.walk(a),n.properties.forEach((function(e){e.walk(a)}))})),!0}if(n instanceof Re){s=i;return i=a.parent()instanceof We,r(),i=s,!0}if(n instanceof de){s=i;return i=a.parent()instanceof We,n.name.walk(a),i=s,u((function(){n.argnames.forEach((function(e){e.walk(a)})),n.rest&&n.rest.walk(a),P(n,a)})),!0}if(n instanceof Pe)return n.init_vars(o),r(),!0;if(n instanceof Ie)return u((function(){P(n,a)})),n.bcatch&&n.bcatch.walk(a),n.bfinally&&n.bfinally.walk(a),!0;if(n instanceof X){var f=o;do{if((f=f.resolve()).uses_with)break;f.uses_with=!0}while(f=f.parent_scope);return u(r),!0}if(n instanceof F)return u(r),!0;if(n instanceof On&&(n.scope=o),n instanceof Yn&&(n.thedef=n,n.references=[]),n instanceof Hn)o.def_variable(n).defun=t;else if(n instanceof zn){(c=o.def_variable(n)).defun=t,i&&(c.exported=!0)}else if(n instanceof Pn){var c=t.def_function(n,a.parent());i&&(c.exported=!0)}else if(n instanceof Fn)t.def_variable(n);else if(n instanceof jn){c=t.def_function(n,"arguments"==n.name?void 0:t);e.ie&&"arguments"!=n.name&&(c.defun=t.parent_scope.resolve())}else if(n instanceof Cn){c=o.def_variable(n);i&&(c.exported=!0)}else if(n instanceof Mn){c=t.def_variable(n,n instanceof qn?void 0:null);i&&(c.exported=!0)}function u(e){n.init_vars(o);var i=t,r=o;n instanceof K&&(t=n),o=n,e(),o=r,t=i}}));n.make_def=function(e,n){return new Lt(++r,this,e,n)},n.walk(a),n.globals=new b;var f=[];a=new ut((function(t){if(t instanceof He){if(!(t.argname instanceof gn))return;return f.push(t),t.argname.walk(a),f.pop(),P(t,a),!0}if(t instanceof ee)return f.push(t),t.name&&t.name.walk(a),t.argnames.forEach((function(e){e.walk(a)})),t.rest&&t.rest.walk(a),f.pop(),ae(t,a),!0;if(t instanceof ze)return t.label&&t.label.thedef.references.push(t),!0;if(t instanceof $n){var i=t.definition();if(i.preinit=i.references.length,t instanceof Hn){if(o=i.redefined())for(var r=t.scope;r&&(h(r.enclosed,o),r!==o.scope);r=r.parent_scope);}else if(t instanceof zn){(o=i.redefined())&&(o.const_redefs=!0)}else if(i.scope!==t.scope&&(t instanceof Pn||t instanceof Fn||t instanceof Mn)){t.mark_enclosed(e);var o=t.scope.find_variable(t.name);t.thedef!==o&&(t.thedef=o,o.orig.push(t),t.mark_enclosed(e))}return"arguments"!=t.name||((d=t instanceof Mn&&a.parent())instanceof Ve&&!d.value||(u=t.scope.resolve().find_variable("arguments"))&&c(u)&&(u.scope.uses_arguments=3)),!0}if(t instanceof Rn){for(var s=t.name,u=t.scope.find_variable(s),l=f.length;l>0&&u&&!((l=f.lastIndexOf(u.scope,l-1))<0);){var p=u.orig[0];if(p instanceof Hn||p instanceof Fn||p instanceof jn){t.in_arg=!0;break}u=u.scope.parent_scope.find_variable(s)}if(u){if("arguments"==s&&c(u)){var d;Wt(t,d=a.parent())?u.scope.uses_arguments=3:u.scope.uses_arguments<2&&!(d instanceof on&&d.expression===t)?u.scope.uses_arguments=2:u.scope.uses_arguments||(u.scope.uses_arguments=!0)}}else u=n.def_global(t);if("eval"==s)if("Call"==(d=a.parent()).TYPE&&d.expression===t){r=t.scope;do{if((r=r.resolve()).uses_eval)break;r.uses_eval=!0}while(r=r.parent_scope)}else u.undeclared&&(n.uses_eval=!0);if(u.init instanceof de&&u.scope!==u.init.name.scope){var v=t.scope;do{if(v===u.init.name.scope)break}while(v=v.parent_scope);v||(u.init=void 0)}return t.thedef=u,t.reference(e),!0}}));function c(e){return e.orig[0]instanceof Fn&&!(e.orig[1]instanceof Fn||e.orig[2]instanceof Fn)&&!ie(e.scope)}function u(t,i){var r=t.name,o=t.thedef;if(!g(o.orig,(function(e){return!(e instanceof zn||e instanceof Cn)})))return!1;var a=i.find_variable(r);if(a){var s=a.redefined();s&&(a=s)}else a=n.globals.get(r);return a?a.orig.push(t):a=i.def_variable(t),a.undeclared&&n.variables.set(r,a),"arguments"==r&&c(o)&&t instanceof jn||(o.defun=a.scope,o.forEach((function(n){n.redef=o,n.thedef=a,n.reference(e)}))),!0}n.walk(a),e.ie&&n.walk(new ut((function(e){if(e instanceof Hn){var n=e.thedef.defun;return n.name instanceof jn&&n.name.name==e.name&&(n=n.parent_scope.resolve()),u(e,n),!0}if(e instanceof jn){var t=e.thedef;return u(e,e.scope.parent_scope.resolve())?"undefined"!==typeof e.thedef.init?e.thedef.init=!1:t.init&&(e.thedef.init=t.init):t.defun=void 0,!0}})))})),Q.DEFMETHOD("def_global",(function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);var i=this.make_def(e);return i.undeclared=!0,i.global=!0,n.set(t,i),i})),F.DEFMETHOD("init_vars",(function(e){Gt(this,e)})),K.DEFMETHOD("init_vars",(function(e){Jt(this,e)})),se.DEFMETHOD("init_vars",(function(e){return Jt(this,e),this})),fe.DEFMETHOD("init_vars",(function(e){Jt(this,e)})),ee.DEFMETHOD("init_vars",(function(e){return Jt(this,e),this.uses_arguments=!1,this.def_variable(new Fn({name:"arguments",scope:this,start:this.start,end:this.end})),this})),On.DEFMETHOD("mark_enclosed",(function(e){for(var n=this.definition(),t=this.scope;t&&(h(t.enclosed,n),e?(e.keep_fargs&&t instanceof ee&&t.each_argname((function(e){h(n.scope.enclosed,e.definition())})),e.keep_fnames&&t.functions.each((function(e){h(n.scope.enclosed,e)}))):t._var_names=void 0,t!==n.scope);t=t.parent_scope);})),On.DEFMETHOD("reference",(function(e){this.definition().references.push(this),this.mark_enclosed(e)})),F.DEFMETHOD("find_variable",(function(e){return this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)})),F.DEFMETHOD("def_function",(function(e,n){var t=this.def_variable(e,n);return(!t.init||t.init instanceof de)&&(t.init=n),this.functions.set(e.name,t),t})),F.DEFMETHOD("def_variable",(function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),t.init instanceof te&&(t.init=n)):(t=this.make_def(e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t})),On.DEFMETHOD("unmangleable",(function(e){var n=this.definition();return!n||n.unmangleable(e)})),Yn.DEFMETHOD("unmangleable",c),On.DEFMETHOD("definition",(function(){return this.thedef})),Q.DEFMETHOD("mangle_names",(function(e){if((e=Kt(e)).cache&&e.cache.props){var n=Xt(this,e);e.cache.props.each((function(e){n.set(e,!0)}))}var t=-1,i=[],r=new ut((function(n,a){var s;if(n instanceof F){n instanceof H&&(s=t),e.webkit&&n instanceof Y&&n.init instanceof Le&&n.init.definitions.forEach((function(e){e.name.match_symbol((function(e){if(e instanceof Cn){var n=e.definition(),t=e.scope.parent_scope,i=t.def_variable(e);e.thedef=n,t.to_mangle.push(i),n.redefined=function(){return i}}}))}),!0);var f=n.to_mangle=[];if(n.variables.each((function(n){(function(n){var t=n.orig[0],r=n.redefined();if(!r){if(!(t instanceof zn))return!1;var o=n.scope.resolve();if(n.scope===o)return!1;if(n.scope.parent_scope.find_variable(t.name))return!1;r=o.def_variable(t),o.to_mangle.push(r)}i.push(n),n.references.forEach(a),(t instanceof Hn||t instanceof zn)&&a(t);return!0;function a(t){t.thedef=r,t.reference(e),t.thedef=n}})(n)||f.push(n)})),a(),e.cache&&n instanceof Q&&n.globals.each(o),n instanceof me&&r.has_directive("use asm")){var c=new Rn(n.name);c.scope=n,c.reference(e)}if(f.length>36){var u=f.map((function(e,n){return n})).sort((function(e,n){return f[n].references.length-f[e].references.length||e-n}));f=u.slice(0,36).sort((function(e,n){return e-n})).map((function(e){return f[e]})).concat(u.slice(36).sort((function(e,n){return e-n})).map((function(e){return f[e]})))}return f.forEach(o),!(n instanceof H)||e.v8&&function(n){var t,i=0;for(;t=n.parent(i++);){if(t instanceof j)return t instanceof Q&&!e.toplevel;if(t instanceof H)return!0}}(r)||(t=s),!0}if(n instanceof Yn){var l;do{l=Qt(++t)}while(ht[l]);return n.mangled_name=l,!0}}));function o(n){e.reserved.has[n.name]||n.mangle(e)}this.walk(r),i.forEach(o)})),Q.DEFMETHOD("find_colliding_names",(function(e){var n=e.cache&&e.cache.props,t=Object.create(ht);return e.reserved.forEach(i),this.globals.each(r),this.walk(new ut((function(e){e instanceof F&&e.variables.each(r)}))),t;function i(e){t[e]=!0}function r(t){var r=t.name;if(t.global&&n&&n.has(r))r=n.get(r);else if(!t.unmangleable(e))return;i(r)}})),Q.DEFMETHOD("expand_names",(function(e){Qt.reset(),Qt.sort(),e=Kt(e);var n=this.find_colliding_names(e),t=0;function i(i){if((!i.global||!e.cache)&&!i.unmangleable(e)&&!e.reserved.has[i.name]){var r=i.redefined(),o=r?r.rename||r.name:function(){var e;do{e=Qt(t++)}while(n[e]);return e}();i.rename=o,i.forEach((function(e){e.definition()===i&&(e.name=o)}))}}this.globals.each(i),this.walk(new ut((function(e){e instanceof F&&e.variables.each(i)})))})),S.DEFMETHOD("tail_node",l),tn.DEFMETHOD("tail_node",(function(){return this.expressions[this.expressions.length-1]})),Q.DEFMETHOD("compute_char_frequency",(function(e){e=Kt(e),Qt.reset();var n=On.prototype.add_source_map;try{On.prototype.add_source_map=function(){this.unmangleable(e)||Qt.consider(this.name,-1)},e.properties&&(an.prototype.add_source_map=function(){Qt.consider(this.property,-1)},sn.prototype.add_source_map=function(){t(this.property)}),Qt.consider(this.print_to_string(),1)}finally{On.prototype.add_source_map=n,delete an.prototype.add_source_map,delete sn.prototype.add_source_map}function t(e){e instanceof Kn?Qt.consider(e.value,-1):e instanceof dn?(t(e.consequent),t(e.alternative)):e instanceof tn&&t(e.tail_node())}Qt.sort()}));var Qt=function(){var e=Object.create(null);function n(n){for(var t=[],i=0;i<n.length;i++){var r=n[i];t.push(r),e[r]=-.01*i}return t}var t,i,r=n("0123456789"),o=n("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_");function a(){t=null,i=Object.create(e)}function s(e,n){return i[n]-i[e]}function f(e){var n=o[e%54];for(e=Math.floor(e/54);--e>=0;e>>=6)n+=t[63&e];return n}return f.consider=function(e,n){for(var t=e.length;--t>=0;)i[e[t]]+=n},f.sort=function(){t=o.sort(s).concat(r).sort(s)},f.reset=a,a(),f}();function Zt(e,n){if(!(this instanceof Zt))return new Zt(e,n);lt.call(this,this.before,this.after),this.options=s(e,{annotations:!n,arguments:!n,arrows:!n,assignments:!n,awaits:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,default_values:!n,directives:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,functions:!n,global_defs:!1,hoist_exports:!n,hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie:!1,if_return:!n,imports:!n,inline:!n,join_vars:!n,keep_fargs:n,keep_fnames:!1,keep_infinity:!1,loops:!n,merge_vars:!n,module:!1,negate_iife:!n,objects:!n,optional_chains:!n,passes:1,properties:!n,pure_funcs:null,pure_getters:!n&&"strict",reduce_funcs:!n,reduce_vars:!n,rests:!n,sequences:!n,side_effects:!n,spreads:!n,strings:!n,switches:!n,templates:!n,top_retain:null,toplevel:!(!e||!e.module&&!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,varify:!n,webkit:!1,yields:!n},!0);var t=this.options.evaluate;this.eval_threshold=/eager/.test(t)?1/0:+t;var r=this.options.global_defs;if("object"==typeof r)for(var o in r)/^@/.test(o)&&y(r,o)&&(r[o.slice(1)]=Bt(r[o],{expression:!0}));!0===this.options.inline&&(this.options.inline=4),this.drop_fargs=this.options.keep_fargs?c:function(e,n){if(e.length_read)return!1;var t=e.name;if(!t)return n&&"Call"==n.TYPE&&n.expression===e;if(t.fixed_value()!==e)return!1;var i=t.definition();if(i.direct_access)return!1;var r=i.escaped;return r&&1!=r.depth},this.options.module&&(this.directives["use strict"]=!0);var a=this.options.pure_funcs;"function"==typeof a?this.pure_funcs=a:"string"==typeof a?this.pure_funcs=function(e){var n;return e instanceof en?n=e.expression:e instanceof Jn&&(n=e.tag),!(n&&a===n.print_to_string())}:Array.isArray(a)?this.pure_funcs=function(e){var n;return e instanceof en?n=e.expression:e instanceof Jn&&(n=e.tag),!(n&&i(n.print_to_string(),a))}:this.pure_funcs=u;var f=this.options.sequences;this.sequences_limit=1==f?800:0|f;var l=this.options.top_retain;l instanceof RegExp?this.top_retain=function(e){return l.test(e.name)}:"function"==typeof l?this.top_retain=l:l&&("string"==typeof l&&(l=l.split(/,/)),this.top_retain=function(e){return i(e.name,l)});var p=this.options.toplevel;this.toplevel="string"==typeof p?{funcs:/funcs/.test(p),vars:/vars/.test(p)}:{funcs:p,vars:p}}function ei(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function ni(e){e=s(e,{annotations:!1,ascii_only:!1,beautify:!1,braces:!1,comments:!1,galio:!1,ie:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var n=c;if(e.comments){var t=e.comments;if("string"===typeof e.comments&&/^\/.*\/[a-zA-Z]*$/.test(e.comments)){var i=e.comments.lastIndexOf("/");t=new RegExp(e.comments.substr(1,i-1),e.comments.substr(i+1))}n=t instanceof RegExp?function(e){return"comment5"!=e.type&&t.test(e.value)}:"function"===typeof t?function(e){return"comment5"!=e.type&&t(this,e)}:"some"===t?ei:u}function r(e){if("number"==typeof e)return new Array(e+1).join(" ");if(!e)return"";if(!/^\s*$/.test(e))throw new Error("unsupported indentation: "+JSON.stringify(""+e));return e}var o,a,l,p,d,h,v,m=0,b=1,y=r(e.indent_start),w=r(e.indent_level),x=w.length+1>>1,k=0,T=!0,D=e.source_map&&[],O=!1,$=!1,z="";function q(){o="",p=!1,d=!1,v=[];var e=h;return h="",e}q();var C=e.ascii_only?function(e,n){return n&&(e=e.replace(/[\ud800-\udbff][\udc00-\udfff]/g,(function(e){return"\\u{"+(e.charCodeAt(0)-55232<<10|e.charCodeAt(1)-56320).toString(16)+"}"}))),e.replace(/[\u0000-\u001f\u007f-\uffff]/g,(function(e){var t=e.charCodeAt(0).toString(16);if(t.length<=2&&!n){for(;t.length<2;)t="0"+t;return"\\x"+t}for(;t.length<4;)t="0"+t;return"\\u"+t}))}:function(e){for(var n="",t=0,i=0;t<e.length;t++){var r=e.charCodeAt(t);if(At(r)){if(Dt(e.charCodeAt(t+1))){t++;continue}}else if(!Dt(r))continue;n+=e.slice(i,t)+"\\u"+r.toString(16),i=t+1}return 0==i?e:n+e.slice(i)};function M(e){return"'"+e.replace(/\x27/g,"\\'")+"'"}function F(e){return'"'+e.replace(/\x22/g,'\\"')+'"'}var P=[null,M,F,function(e,n){return"'"==n?M(e):F(e)}][e.quote_style]||function(e,n,t,i){return t>i?M(e):F(e)};function j(n,t){var i=0,r=0;return n=n.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,(function(t,o){switch(t){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return e.ie?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(n.charAt(o+1))?"\\x00":"\\0"}return t})),P(C(n),t,i,r)}var N=D?function(e,n){D.forEach((function(t){t.line+=e,t.col+=n}))}:f,I=D?function(){D.forEach((function(n){e.source_map.add(n.token.file,n.line,n.col,n.token.line,n.token.col,n.name||"name"!=n.token.type?n.name:n.token.value)})),D=[]}:f;function H(e){z+=h.slice(0,k);var n=(h=h.slice(k)).length;for(N(e,n-m),b+=e,m=n;e--;)z+="\n"}var Y=e.max_line_len?function(n){T?m>e.max_line_len&&S.warn("Output exceeds {max_line_len} characters",e):(m>e.max_line_len&&(H(1),T=!0),(T||n)&&I())}:f,R=_("( [ + * / - , .");function B(e,n,t){return $t(e)&&($t(n)||"\\"==n)||"/"==n&&n==e||("+"==n||"-"==n)&&n==o||"--"==o&&">"==n||"!"==o&&"--"==t||"/"==e&&("in"==t||"instanceof"==t)}var L=e.beautify||e.comments||e.max_line_len||e.preserve_line||e.shebang||!e.semicolons||e.source_map||e.width?function(n){var t=n.charAt(0);O&&t&&(O=!1,"\n"!=t&&(L("\n"),V())),$&&t&&($=!1,/[\s;})]/.test(t)||U());var i=o.slice(-1);if(d&&(d=!1,":"==i&&"}"==t||";"!=i&&(!t||";}".indexOf(t)<0))){var r=R[t];r||e.semicolons?(h+=";",m++,T||(Y(),T&&!r&&";"==h&&(h="",m=0)),k==h.length-1&&k++):(Y(),h+="\n",b++,m=0,/^\s+$/.test(n)&&(d=!0)),e.beautify||(p=!1)}p&&(B(i,t,n)&&(h+=" ",m++),"<"==i&&"!"==n||(p=!1)),l&&(D.push({token:l,name:a,line:b,col:m}),l=!1,T&&I()),h+=n;var s=n.split(/\r?\n/),f=s.length-1;b+=f,m+=s[0].length,f>0&&(Y(),m=s[f].length),o=n}:function(e){var n=e.charAt(0),t=o.slice(-1);d&&(d=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(h+=";",p=!1)),p&&(B(t,n,e)&&(h+=" "),"<"==t&&"!"==e||(p=!1)),h+=e,o=e},U=e.beautify?function(){L(" ")}:function(){p=!0},V=e.beautify?function(e){O&&L("\n"),L(e?y.slice(0,-x):y)}:f,W=e.beautify?function(e){var n=y;y+=w,e(),y=n}:function(e){e()},G=e.max_line_len||e.preserve_line?function(){Y(),k=h.length,T=!1}:f,J=e.beautify?function(){L("\n"),k=h.length}:G,X=e.beautify?function(){L(";")}:function(){d=!0};var K=D?function(e,n){l=e,a=n}:f;function Q(e,n){O||(!e.nlb||!n&&/(^|\n) *$/.test(h)?n&&($=!0):O=!0)}function Z(e){var n=e.value.replace(/[@#]__PURE__/g," ");return!(/^\s*$/.test(n)&&!/^\s*$/.test(e.value))&&(/comment[134]/.test(e.type)?(L("//"+n),O=!0):"comment2"==e.type&&L("/*"+n+"*/"),!0)}return{get:function(){return T||Y(!0),z+h},reset:q,indent:V,should_break:e.beautify&&e.width?function(){return m>=e.width}:c,has_parens:function(){return"("==o.slice(-1)},newline:J,print:L,space:U,comma:function(){G(),L(","),G(),U()},colon:function(){L(":"),U()},last:function(){return o},semicolon:X,force_semicolon:function(){d&&L(";"),L(";")},to_utf8:C,print_name:function(e){L(C(e.toString(),!0))},print_string:e.inline_script?function(e,n){e=j(e,n).replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2"),L(e.replace(/\x3c!--/g,"\\x3c!--").replace(/--\x3e/g,"--\\x3e"))}:function(e,n){L(j(e,n))},with_indent:W,with_block:function(e){L("{"),J(),W(e),V(),L("}")},with_parens:function(e){L("("),G(),e(),G(),L(")")},with_square:function(e){L("["),G(),e(),G(),L("]")},add_mapping:K,option:function(n){return e[n]},prepend_comments:e.comments||e.shebang?function(t){var i,r=this;t instanceof De?i=t.value:t instanceof mn&&(i=t.expression);var o=c(t);if(o||(o=[]),i){var a=new ut((function(e){if(!function(e,n){return n instanceof pn?n.left===e:"Call"==n.TYPE?n.expression===e:n instanceof dn?n.condition===e:n instanceof an?n.expression===e:n instanceof De||(n instanceof tn?n.expressions[0]===e:n instanceof sn?n.expression===e:n instanceof ln||n instanceof mn||void 0)}(e,a.parent()))return!0;var n=c(e);n&&(o=o.concat(n))}));a.push(t),i.walk(a)}if(1==b&&0==m){o.length>0&&e.shebang&&"comment5"==o[0].type&&(L("#!"+o.shift().value+"\n"),V());var s=e.preamble;s&&L(s.replace(/\r\n?|\u2028|\u2029|(^|\S)\s*$/g,"$1\n"))}o=o.filter(n,t);var f=!1;function c(e){var n=e.start;if(!n){if(!i)return;e.start=n=new E}var t=n.comments_before;if(!t){if(!i)return;n.comments_before=t=[]}if(t._dumped!==r)return t._dumped=r,t}o.forEach((function(e,n){Q(e,n),Z(e)&&(f=!0)})),f&&Q(t.start,!0)}:f,append_comments:e.comments?function(e,t){var i=e.end;if(i){var r=i[t?"comments_before":"comments_after"];r&&r._dumped!==this&&(e instanceof A||g(r,(function(e){return!/comment[134]/.test(e.type)})))&&(r._dumped=this,r.filter(n,e).forEach((function(e,n){Q(e,n||!t),Z(e)})))}}:f,push_node:function(e){v.push(e)},pop_node:e.preserve_line?function(){var e=v.pop();e.start&&e.start.line>b&&H(e.start.line-b)}:function(){v.pop()},parent:function(e){return v[v.length-2-(e||0)]}}}Zt.prototype=new lt((function(e,n,t){if(e._squeezed)return e;var i=e instanceof K;i&&(e.hoist_properties(this),e.hoist_declarations(this),e.process_returns(this)),n(e,this),n(e,this);var r=e.optimize(this);return!i||r!==e||this.has_directive("use asm")||r.pinned()||(r.drop_unused(this),r.merge_variables(this)&&r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r})),Zt.prototype.option=function(e){return this.options[e]},Zt.prototype.exposed=function(e){if(e.exported)return!0;if(e.undeclared)return!0;if(!(e.global||e.scope.resolve()instanceof Q))return!1;var n=this.toplevel;return!g(e.orig,(function(e){return n[e instanceof Pn?"funcs":"vars"]}))},Zt.prototype.compress=function(e){(e=e.resolve_defines(this)).hoist_exports(this),this.option("expression")&&e.process_expression(!0);for(var n=this.options.merge_vars,t=+this.options.passes||1,i=1/0,r=!1,o={ie:this.option("ie")},a=0;a<t;a++)if(e.figure_out_scope(o),(a>0||this.option("reduce_vars"))&&e.reset_opt_flags(this),this.options.merge_vars=n&&(r||a==t-1),e=e.transform(this),t>1){var s=0;if(e.walk(new ut((function(){s++}))),S.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:a,min_count:i,count:s}),s<i)i=s,r=!1;else{if(r)break;r=!0}}return this.option("expression")&&e.process_expression(!1),e},function(e){function n(e,n){var t=n.get_property();if(!(t instanceof S)){var i;if(e instanceof _n){var r=e.elements;if("length"==t)return pt(r.length,e);"number"==typeof t&&t in r&&(i=r[t])}else if(e instanceof ee){if("length"==t)return e.length_read=!0,pt(e.argnames.length,e)}else if(e instanceof kn){t=""+t;for(var o=e.properties,a=o.length;--a>=0;){if(!ir(o[a]))return;i||o[a].key!==t||(i=o[a].value)}}return i instanceof Rn&&i.fixed_value()||i}}function t(e,i,r,o,a,s,f){var c=i.parent(a);if(!(e.option("unsafe")&&c instanceof an&&function(e,n){return e instanceof st?ei.Boolean[n]:e instanceof Qn?ei.Number[n]:e instanceof Kn?ei.String[n]:"valueOf"!=n&&(e instanceof _n?ei.Array[n]:e instanceof ee?ei.Function[n]:e instanceof kn?ei.Object[n]:e instanceof et?ei.RegExp[n]&&!e.value.global:void 0)}(o,c.property))){var u=Wt(r,c);if(u)return u;if(0!=a||!o||!o.is_constant()){if(c instanceof _n)return t(e,i,c,c,a+1);if(c instanceof hn)switch(c.operator){case"=":return t(e,i,c,o,a+1,s,f);case"&&=":case"||=":case"??=":return t(e,i,c,c,a+1);default:return}if(c instanceof pn){if(!Nt[c.operator])return;return t(e,i,c,c,a+1)}if(c instanceof en)return!s&&c.expression===r&&!c.is_expr_pure(e)&&(!(o instanceof te)||!(c instanceof nn)&&o.contains_this());if(c instanceof dn){if(c.condition===r)return;return t(e,i,c,c,a+1)}if(c instanceof V)return c.init===r;if(c instanceof Sn){if(c.value!==r)return;var l=i.parent(a+1);return t(e,i,l,l,a+2)}if(c instanceof on){if(c.expression!==r)return;var p=n(o,c);return(!s||f)&&t(e,i,c,p,a+1)}if(c instanceof tn){if(c.tail_node()!==r)return;return t(e,i,c,o,a+1,s,f)}}}}function o(e){return e instanceof ge||e instanceof ee}function a(e){return e instanceof ge||e instanceof me||e instanceof le}function s(e){return"arguments"==e.name&&e.scope.uses_arguments}function x(e,n){do{if(e===n)return!1;if(n instanceof K)return!0}while(n=n.parent_scope)}function k(e,n,t){var i=e.redef||e.definition();return(!e.in_arg||!Ut(i))&&g(i.orig,(function(e){return e instanceof zn||e instanceof Cn?e instanceof qn||n&&$i(n,e):!(t&&e instanceof jn)}))}function E(e,n,t,i){return i instanceof hn?"="==i.operator&&i.right===t:i instanceof en?i.expression!==t||i instanceof nn:i instanceof De?i.value===t&&n.resolve()!==e.scope.resolve():i instanceof Ve?i.value===t:void 0}e(S,(function(e,n){return e})),S.DEFMETHOD("equivalent_to",(function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()})),Q.DEFMETHOD("hoist_exports",(function(e){if(e.option("hoist_exports")){for(var n=this.body,t=[],i=0;i<n.length;i++){var r=n[i];r instanceof We?(n[i]=r=r.body,r instanceof Re?r.definitions.forEach((function(e){e.name.match_symbol(o,!0)})):o(r.name)):r instanceof Xe&&(n.splice(i--,1),[].push.apply(t,r.properties))}t.length&&n.push(Ln(Xe,this,{properties:t}))}function o(e){if(e instanceof $n){var n=Ln(Bn,e,e);n.alias=n.name,t.push(n)}}})),K.DEFMETHOD("process_expression",(function(e,n){var t=this,i=new lt((function(r){if(e){if(r instanceof O&&(r=Ln(M,r,{body:Ln(Kn,r,r)})),r instanceof M)return n?n(r):Ln(Oe,r,{value:r.body})}else if(r instanceof Oe){if(n)return n(r);var o=r.value;return o instanceof Kn?Ln(O,r,o):Ln(M,r,{body:o||Ln(un,r,{operator:"void",expression:Ln(Qn,r,{value:0})})})}if(r instanceof j){if(r instanceof ee){if(r!==t)return r}else if("awaits"===e&&r instanceof Ie&&r.bfinally)return r;for(var a=r.body.length;--a>=0;){var s=r.body[a];if(!Ot(s,!0)){r.body[a]=s.transform(i);break}}}else r instanceof Me?(r.body=r.body.transform(i),r.alternative&&(r.alternative=r.alternative.transform(i))):r instanceof X&&(r.body=r.body.transform(i));return r}));t.transform(i)}));var T=/^(0|[1-9][0-9]*)$/;function q(e){e._squeezed=!1,e._optimized=!1,e instanceof F&&(e._var_names=void 0),e instanceof Rn&&(e.fixed=void 0)}function C(e,n){return this.transform(new lt((function(t,i){return t instanceof Qe?((t=t.clone()).name=t.name.transform(this),t):t instanceof gn?(i(t=t.clone(),this),t):t instanceof wn?((t=t.clone()).value=t.value.transform(this),t):t.convert_symbol(e,n)})))}function I(e,n){var t=Ln(e,this,this);return n(t,this)||t}function G(e){var n=e.definition();n.assignments++,n.references.push(e)}function ke(e,n){var t=new ut((function(i){return i instanceof Qe?(i.value.walk(n),i.name.walk(t),!0):i instanceof wn?(i.key instanceof S&&i.key.walk(n),i.value.walk(t),!0):e(i)}));this.walk(t)}function Ee(e){return e(this)}function Je(e,n){var t=!1,i=new ut((function(r){return!!t||(r instanceof Qe?n?(r.name.walk(i),!0):t=!0:r instanceof wn?!n&&r.key instanceof S?t=!0:(r.value.walk(i),!0):e(r)?t=!0:void 0)}));return this.walk(i),t}function Ze(e){return e instanceof ve||e instanceof ue}function bn(e){for(var n,t=0;n=e.parent(t++);)if(n.variables)return n}!function(e){function r(e,n,t){t.assignments=0,t.bool_return=0,t.drop_return=0,t.cross_loop=!1,t.direct_access=!1,t.escaped=[],t.fixed=!t.const_redefs&&!t.scope.pinned()&&!n.exposed(t)&&!(t.init instanceof te&&t.init!==t.scope)&&t.init,t.reassigned=0,t.recursive_refs=0,t.references=[],t.single_use=void 0}function a(e,n,t){t.variables.each((function(e){r(0,n,e)}))}function l(e,n,t){t.fn_defs=[],t.variables.each((function(i){r(0,n,i);var o=i.init;o instanceof de&&(t.fn_defs.push(o),o.safe_ids=null),null===i.fixed?(i.safe_ids=e.safe_ids,A(e,i)):i.fixed&&(e.loop_ids[i.id]=e.in_loop,A(e,i))})),t.may_call_this=function(){t.may_call_this=t.contains_this()?u:c},t.uses_arguments&&t.each_argname((function(e){e.definition().last_ref=!1})),n.option("ie")&&t.variables.each((function(e){var n=e.orig[0].definition();n!==e&&(n.fixed=!1)}))}function p(e,n){var t=n.safe_ids;return void 0===t||t===e.safe_ids}function d(e,n){var t=e.fn_scanning;e.fn_scanning=n,n.walk(e),e.fn_scanning=t}function v(e,n){n.enclosed.forEach((function(t){if(n.variables.get(t.name)!==t&&!O(e,t)){t.single_use=!1;var i=t.fixed;"function"==typeof i&&(i=i()),i instanceof ee&&void 0!==i.safe_ids||(t.fixed=!1)}}))}function m(e,n,t){var r=t.safe_ids;if(void 0!==r&&!1!==r)if(t.parent_scope.resolve().may_call_this===u)i(t,e.fn_visited)&&v(e,t);else if(r){var o=i(t,e.fn_visited);r===e.safe_ids?o||d(e,t):o?v(e,t):t.safe_ids=!1}else e.fn_scanning&&e.fn_scanning!==n.scope.resolve()?t.safe_ids=!1:(t.safe_ids=e.safe_ids,d(e,t))}function _(e,n){var t=n.fn_defs,i=n.may_call_this===u?t:t.filter((function(n){return!1===n.safe_ids||(n.safe_ids=e.safe_ids,d(e,n),!1)}));w(e),i.forEach((function(n){n.safe_ids=e.safe_ids,d(e,n)})),t.forEach((function(e){e.safe_ids=void 0})),n.fn_defs=void 0,n.may_call_this=void 0}function b(e){e.safe_ids=Object.create(e.safe_ids)}function w(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function A(e,n){e.safe_ids[n.id]={}}function D(e,n){e.references.push(n),!1!==e.last_ref&&(e.last_ref=n)}function O(e,n){if("m"==n.single_use)return!1;var t=e.safe_ids[n.id];if(t){var i=y(e.safe_ids,n.id);return i||(t.read=!(!t.read||t.read===e.safe_ids)||e.safe_ids),null==n.fixed?!s(n)&&((!n.global||"arguments"!=n.name)&&(e.loop_ids[n.id]=null,n.fixed=Ln(rt,n.orig[0]),i&&(n.safe_ids=void 0),!0)):!t.assign||t.assign===e.safe_ids}return n.fixed instanceof de}function $(e,n,t){if(!t){if(Ut(n)&&n.scope.uses_arguments&&!e.has_directive("use strict"))return!1;if(!g(n.orig,(function(e){return!(e instanceof zn)})))return!1}if(void 0===n.fixed)return t||g(n.orig,(function(e){return!(e instanceof Cn)}));if(!1===n.fixed||0===n.fixed)return!1;var i=e.safe_ids[n.id];if(n.safe_ids)return n.safe_ids[n.id]=!1,n.safe_ids=void 0,null===n.fixed||y(e.safe_ids,n.id)&&!i.read;if(!y(e.safe_ids,n.id)){if(!i)return!1;if(i.read||e.in_loop){var r=e.find_parent(F);if(r instanceof ge)return!1;if(n.scope.resolve()!==r.resolve())return!1}i.assign=!(!i.assign||i.assign===e.safe_ids)||e.safe_ids}if(null!=n.fixed&&i.read){if(i.read!==e.safe_ids)return!1;if(e.loop_ids[n.id]!==e.in_loop)return!1}return O(e,n)&&g(n.orig,(function(e){return!(e instanceof jn)}))}function z(e,n){var t=Ln(Rn,e,e);return t.fixed=n||Ln(rt,e),t}function C(e,n){return function(){var t=z(e,n),i=e.definition();return i.references.push(t),i.replaced++,t}}function j(e){if(!e)return!1;if(e instanceof hn){var n=e.operator;return"="==n?j(e.right):!Nt[n.slice(0,-1)]}return e instanceof tn?j(e.tail_node()):e.is_constant()||o(e)||e instanceof Un}function N(e,t,i,r,o,a,s){var f=e.parent(a);if(!o||!o.is_constant()){if(E(t,i,r,f))return t.escaped.push(f),!(s>1)||o&&o.is_constant_expression(i)||(s=1),(!t.escaped.depth||t.escaped.depth>s)&&(t.escaped.depth=s),t.scope.resolve()!==i.resolve()&&(t.escaped.cross_scope=!0),void(t.fixed&&(t.fixed.escaped=t.escaped));if(function(e,n){return n instanceof _n||(n instanceof pn?Nt[n.operator]:n instanceof dn?n.condition!==e:n instanceof tn?n.tail_node()===e:n instanceof fn||void 0)}(r,f))N(e,t,i,f,f,a+1,s);else if(f instanceof Sn&&f.value===r){var c=e.parent(a+1);N(e,t,i,c,c,a+2,s)}else if(f instanceof on&&f.expression===r&&(N(e,t,i,f,o=n(o,f),a+1,s+1),o))return;a>0||f instanceof en&&f.expression===r||f instanceof tn&&f.tail_node()!==r||f instanceof M||f instanceof cn&&!Vt[f.operator]||(t.direct_access=!0,t.fixed&&(t.fixed.direct_access=!0))}}function I(e){if(e instanceof sn){var n=e.expression;if(n instanceof Rn){var t=n.definition();if(s(t)){var i=e.property;i.is_constant()&&(i=i.value),(i instanceof S||T.test(i))&&(t.reassigned++,(i instanceof S?t.scope.argnames:[t.scope.argnames[i]]).forEach((function(e){e instanceof Fn&&(e.definition().fixed=!1)})))}}}}function Y(e,n){var t,i;return function(){var r=e();return t!==r&&(t=r,i=n(r)),i}}function R(e,n,t,i,r){var o=new ut((function(t){if(t instanceof Qe)return q(t),b(e),t.value.walk(e),w(e),(s=i)&&(i=function(e,n,t){var i,r;return function(){if(r===n)return n;var o=t(),a=Ei(e,o,!0);return a instanceof S?r=n:i!==o&&(i=o,r=void 0===a?nt(n,[o,n.value]):o),r}}(n,t,s)),t.name.walk(o),i=s,!0;if(t instanceof yn){q(t);var a,s=i;if(t.elements.forEach((function(e,n){if(e instanceof ot)return q(e);s&&(i=Y(s,(function(t){return Ln(sn,e,{expression:t,property:Ln(Qn,e,{value:n})})}))),e.walk(o)})),t.rest)s&&(i=n.option("rests")&&Y(s,(function(e){if(!(e instanceof _n))return t;for(var n=0,i=t.elements.length;n<i;n++)if(e.elements[n]instanceof fn)return t;return a||(a=Ln(_n,t)),a.elements=e.elements.slice(i),a}))),t.rest.walk(o);return i=s,!0}if(t instanceof xn){q(t);s=i;return t.properties.forEach((function(n){q(n),n.key instanceof S&&(b(e),n.key.walk(e),w(e)),s&&(i=Y(s,(function(e){var t=n.key,i=sn;return"string"==typeof t&&(zt(t)?i=an:t=pt(t,n)),Ln(i,n,{expression:e,property:t})}))),n.value.walk(o)})),t.rest&&(i=!1,t.rest.walk(o)),i=s,!0}return r(t,i,(function(){for(var n=e.stack.length,i=0,r=o.stack.length-1;i<r;i++)e.stack.push(o.stack[i]);t.walk(e),e.stack.length=n})),!0}));t.walk(o)}function W(e,n,t){var i=this;i.inlined=!1;var r=e.parent(),o=re(i)||oe(i),a=!1;i.walk(new ut((function(e){return o?a=!0:e instanceof Oe?o=!0:e instanceof K&&e!==i||void 0}))),a&&b(e),l(e,t,i);var s=!i.uses_arguments||e.has_directive("use strict");i.argnames.forEach((function(n,o){var a=r.args[o];R(e,t,n,(function(){var e=i.argnames.indexOf(n),t=e<0?a:r.args[e];return t instanceof tn&&t.expressions.length<2&&(t=t.expressions[0]),t||Ln(rt,r)}),p)}));var f,c=i.rest;c&&R(e,t,c,t.option("rests")&&function(){return i.rest!==c?c:(f||(f=Ln(_n,i)),f.elements=r.args.slice(i.argnames.length),f)},p),ae(i,e);var u=e.safe_ids;return _(e,i),a||(e.safe_ids=u),!0;function p(n,t){var i=n.definition();t&&s&&void 0===i.fixed?(A(e,i),e.loop_ids[i.id]=e.in_loop,i.fixed=t,i.fixed.assigns=[n]):i.fixed=!1}}e(S,f),e(hn,(function(e,n,i){var r=this,o=r.left,a=r.right,s=o instanceof Rn&&o.definition(),f=s||o instanceof gn;switch(r.operator){case"=":return o.equivalent_to(a)&&!o.has_side_effects(i)?(a.walk(e),function n(t){if(t instanceof an)n(t.expression);else if(t instanceof sn)n(t.expression),t.property.walk(e);else if(t instanceof Rn){var i=t.definition();D(i,t),i.fixed&&(t.fixed=i.fixed,t.fixed.assigns?t.fixed.assigns.push(r):t.fixed.assigns=[r])}else t.walk(e)}(o),r.redundant=!0,!0):s&&a instanceof te?(p(),a.parent_scope.resolve().fn_defs.push(a),a.safe_ids=null,s.fixed&&r.write_only||m(e,s,a),!0):f?(a.walk(e),p(),!0):void I(o);case"&&=":case"||=":case"??=":var c=!0;default:if(!f)return I(o),d();s.assignments++;var u=s.fixed;if(t(i,e,r,r,0))return s.fixed=!1,d();var l=O(e,s);return c&&b(e),a.walk(e),c&&w(e),l&&!o.in_arg&&$(e,s)?(D(s,o),A(e,s),s.single_use&&(s.single_use=!1),o.fixed=s.fixed=function(){return Ln(pn,r,{operator:r.operator.slice(0,-1),left:z(o,u),right:r.right})},o.fixed.assigns=u&&u.assigns?u.assigns.slice():[s.orig[0]],o.fixed.assigns.push(r),o.fixed.to_binary=C(o,u)):(o.walk(e),s.fixed=!1),!0}function p(){var n=s&&Gi(e,s),f=t(i,e,r,a,0,j(a),n);R(e,i,o,(function(){return r.right}),(function(n,t,i){if(!(n instanceof Rn))return I(n),void i();var s=n.definition();s.assignments++,t&&!n.in_arg&&$(e,s)?f?(i(),s.fixed=0):(D(s,n),A(e,s),(o instanceof gn||1==s.orig.length&&s.orig[0]instanceof Pn)&&(s.single_use=!1),e.loop_ids[s.id]=e.in_loop,n.fixed=s.fixed=t,n.fixed.assigns=[r],N(e,s,n.scope,r,a,0,1)):(i(),s.fixed=!1)}))}function d(){if(c)return o.walk(e),b(e),a.walk(e),w(e),!0}})),e(pn,(function(e){if(Nt[this.operator])return this.left.walk(e),b(e),this.right.walk(e),w(e),!0})),e(F,(function(e,n,t){a(0,t,this)})),e(en,(function(e,n){var t=this,i=t.expression;if(i instanceof te){var r=kt(t);return t.args.forEach((function(n){n.walk(e),n instanceof fn&&(r=!1)})),r&&(i.reduce_vars=W),i.walk(e),r&&delete i.reduce_vars,!0}if("Call"==t.TYPE)switch(e.in_boolean_context()){case"d":var o=!0;case!0:!function e(n,t){if(n instanceof hn){if("="!=n.operator)return;e(n.left,t),e(n.right,t)}else if(n instanceof pn){if(!Nt[n.operator])return;e(n.left,t),e(n.right,t)}else if(n instanceof dn)e(n.consequent,t),e(n.alternative,t);else if(n instanceof Rn){var i=n.definition();i.bool_return++,t&&i.drop_return++}}(i,o)}i.walk(e);var a=t.optional;a&&b(e),t.args.forEach((function(n){n.walk(e)})),a&&w(e);var s=i instanceof Rn&&i.fixed_value();return s instanceof ee?m(e,i.definition(),s):e.find_parent(K).may_call_this(),!0})),e(ge,(function(e,n,t){var i=this;a(0,t,i),i.extends&&i.extends.walk(e);var r=i.properties.filter((function(n){return q(n),n.key instanceof S&&n.key.walk(e),n.value}));if(i.name){var o=i.name.definition(),s=e.parent();(s instanceof We||s instanceof Ge)&&(o.single_use=!1),$(e,o,!0)?(A(e,o),e.loop_ids[o.id]=e.in_loop,o.fixed=function(){return i},o.fixed.assigns=[i],Ai(o)||(o.single_use=!1)):o.fixed=!1}return r.forEach((function(n){!n.static||At(n)&&n.value.contains_this()?(b(e),n.value.walk(e),w(e)):n.value.walk(e)})),!0})),e(Z,(function(e,n,t){return b(e),l(e,t,this),n(),_(e,this),!0})),e(dn,(function(e){return this.condition.walk(e),b(e),this.consequent.walk(e),w(e),b(e),this.alternative.walk(e),w(e),!0})),e(Qe,(function(e){return this.name.walk(e),b(e),this.value.walk(e),w(e),!0})),e(B,(function(e){var n=e.in_loop;return e.in_loop=this,b(e),this.body.walk(e),wi(this,e.parent())&&(w(e),b(e)),this.condition.walk(e),w(e),e.in_loop=n,!0})),e(U,(function(e,n,t){var i=this;a(0,t,i),i.init&&i.init.walk(e);var r=e.in_loop;return e.in_loop=i,b(e),i.condition&&i.condition.walk(e),i.body.walk(e),i.step&&(wi(i,e.parent())&&(w(e),b(e)),i.step.walk(e)),w(e),e.in_loop=r,!0})),e(V,(function(e,n,t){var i=this;a(0,t,i),i.object.walk(e);var r=e.in_loop;e.in_loop=i,b(e);var o=i.init;return o instanceof Re?o.definitions[0].name.mark_symbol((function(e){if(e instanceof $n){var n=e.definition();n.assignments++,n.fixed=!1}}),e):o instanceof gn||o instanceof Rn?o.mark_symbol((function(e){if(e instanceof Rn){var n=e.definition();D(n,e),n.assignments++,e.is_immutable()||(n.fixed=!1)}}),e):o.walk(e),i.body.walk(e),w(e),e.in_loop=r,!0})),e(Me,(function(e){return this.condition.walk(e),b(e),this.body.walk(e),w(e),this.alternative&&(b(e),this.alternative.walk(e),w(e)),!0})),e(H,(function(e){return b(e),this.body.walk(e),w(e),!0})),e(ee,(function(e,n,t){var i=this;return!p(e,i)||(!h(e.fn_visited,i)||(i.inlined=!1,b(e),l(e,t,i),n(),_(e,i),i.name&&N(e,i.name.definition(),i,i.name,i,0,1),!0))})),e(de,(function(e,n,t){var i=this,r=i.name.definition(),o=e.parent();return(o instanceof We||o instanceof Ge)&&(r.single_use=!1),!p(e,i)||(!h(e.fn_visited,i)||(i.inlined=!1,b(e),l(e,t,i),n(),_(e,i),!0))})),e(sn,(function(e){if(this.optional)return this.expression.walk(e),b(e),this.property.walk(e),w(e),!0})),e(Fe,(function(e,n,t){var i=this;a(0,t,i),i.expression.walk(e);var r=!0;return i.body.forEach((function(n){n instanceof je||(n.expression.walk(e),r&&(r=!1,b(e)))})),r||w(e),P(i,e),!0})),e(Pe,(function(e){return b(e),P(this,e),w(e),!0})),e(Hn,(function(){this.definition().fixed=!1})),e(qn,(function(){this.definition().fixed=!1})),e(Rn,(function(e,n,i){var r=this.definition();D(r,this),1==r.references.length&&!r.fixed&&r.orig[0]instanceof Pn&&(e.loop_ids[r.id]=e.in_loop);var a,s=Gi(e,r);if(s&&s.enclosed.forEach((function(n){if(r!==n&&n.scope.resolve()!==s){var t=n.fixed&&n.fixed.assigns;if(t&&!(t[t.length-1]instanceof Ve)){var i=e.safe_ids[n.id];i&&(i.assign=!0)}}})),!1===r.fixed||0===r.fixed){var f=r.redefined();f&&x(r.scope,this.scope)&&(f.single_use=!1)}else if(void 0!==r.fixed&&O(e,r)){if(r.fixed){this.in_arg&&r.orig[0]instanceof jn&&(this.fixed=r.scope);var c=this.fixed_value();s?r.recursive_refs++:c&&function(e,n){return e.option("unused")&&!n.scope.pinned()&&!1!==n.single_use&&n.references.length-n.recursive_refs==1&&!(Ut(n)&&n.scope.uses_arguments)}(i,r)?(r.in_loop=e.loop_ids[r.id]!==e.in_loop,r.single_use=o(c)&&!c.pinned()&&(!r.in_loop||e.parent()instanceof en)||!r.in_loop&&r.scope===this.scope.resolve()&&c.is_constant_expression()):r.single_use=!1,t(i,e,this,c,0,j(c),s)&&(r.single_use?r.single_use="m":r.fixed=0),r.fixed&&e.loop_ids[r.id]!==e.in_loop&&(r.cross_loop=!0),N(e,r,this.scope,this,c,0,1)}}else r.fixed=!1;this.fixed||(this.fixed=r.fixed),c instanceof ee&&!((a=e.parent())instanceof en&&a.expression===this)&&m(e,r,c)})),e(Jn,(function(e,n){var t=this,i=t.tag;if(i){if(i instanceof te)return t.expressions.forEach((function(n){n.walk(e)})),i.walk(e),!0;i.walk(e),t.expressions.forEach((function(n){n.walk(e)}));var r=i instanceof Rn&&i.fixed_value();return r instanceof ee?m(e,i.definition(),r):e.find_parent(K).may_call_this(),!0}})),e(Q,(function(e,n,t){var i=this;return i.globals.each((function(e){r(0,t,e)})),b(e),l(e,t,i),n(),_(e,i),!0})),e(Ie,(function(e,n,t){var i=this;return a(0,t,i),b(e),P(i,e),w(e),i.bcatch&&(b(e),i.bcatch.walk(e),w(e)),i.bfinally&&i.bfinally.walk(e),!0})),e(cn,(function(e,n){var t=this;if(It[t.operator]){var i=t.expression;if(i instanceof Rn){var r=i.definition();r.assignments++;var o=r.fixed;return O(e,r)&&!i.in_arg&&$(e,r)?(D(r,i),A(e,r),r.single_use&&(r.single_use=!1),r.fixed=function(){return Ln(pn,t,{operator:t.operator.slice(0,-1),left:Ln(un,t,{operator:"+",expression:z(i,o)}),right:Ln(Qn,t,{value:1})})},r.fixed.assigns=o&&o.assigns?o.assigns.slice():[],r.fixed.assigns.push(t),t instanceof un?i.fixed=r.fixed:(i.fixed=function(){return Ln(un,t,{operator:"+",expression:z(i,o)})},i.fixed.assigns=o&&o.assigns,i.fixed.to_prefix=C(i,r.fixed))):(i.walk(e),r.fixed=!1),!0}I(i)}})),e(Ve,(function(e,n,t){var i=this,r=i.value;if(r instanceof te&&i.name instanceof $n){a(),r.parent_scope.resolve().fn_defs.push(r),r.safe_ids=null;var o=i.name.definition();o.fixed||m(e,o,r)}else r?(r.walk(e),a()):e.parent()instanceof Le&&a();return!0;function a(){R(e,t,i.name,(function(){return i.value||Ln(rt,i)}),(function(n,t){var r=n.definition();t&&$(e,r,!0)?(A(e,r),e.loop_ids[r.id]=e.in_loop,r.fixed=t,r.fixed.assigns=[i],(n instanceof zn&&r.redefined()||!k(n)&&!Ai(r))&&(r.single_use=!1)):r.fixed=!1}))}})),e(L,(function(e,n){var t=e.in_loop;return e.in_loop=this,b(e),n(),w(e),e.in_loop=t,!0}))}((function(e,n){e.DEFMETHOD("reduce_vars",n)})),Q.DEFMETHOD("reset_opt_flags",(function(e){var n=new ut(e.option("reduce_vars")?function(t,i){return q(t),t.reduce_vars(n,i,e)}:q);n.fn_scanning=null,n.fn_visited=[],n.in_loop=null,n.loop_ids=Object.create(null),n.safe_ids=Object.create(null),this.walk(n)})),On.DEFMETHOD("fixed_value",(function(){var e=this.definition().fixed;if(e)return this.fixed&&(e=this.fixed),(e instanceof S?e:e()).tail_node();if(!(e=0===e&&this.fixed))return e;var n=(e instanceof S?e:e()).tail_node();return n.is_constant()&&n})),Rn.DEFMETHOD("is_immutable",(function(){var e=this.redef||this.definition();return e.orig[0]instanceof jn&&(1==e.orig.length||!!this.in_arg&&!(e.orig[1]instanceof Fn))})),S.DEFMETHOD("convert_symbol",f),Qe.DEFMETHOD("convert_symbol",C),gn.DEFMETHOD("convert_symbol",C),$n.DEFMETHOD("convert_symbol",I),Rn.DEFMETHOD("convert_symbol",I),Qe.DEFMETHOD("mark_symbol",ke),gn.DEFMETHOD("mark_symbol",ke),$n.DEFMETHOD("mark_symbol",Ee),Rn.DEFMETHOD("mark_symbol",Ee),S.DEFMETHOD("match_symbol",(function(e){return e(this)})),Qe.DEFMETHOD("match_symbol",Je),gn.DEFMETHOD("match_symbol",Je);var Nn=_("Infinity NaN undefined");function Yn(e,n){if(e instanceof Un)return!0;if(e instanceof on){if("__proto__"===e.property)return!0;if((e=e.expression)instanceof Rn){if(e.is_immutable())return!1;e=e.fixed_value()}return!e||(!!e.tail_node().is_constant()||Yn(e,n))}if(e instanceof Rn){if(e.is_immutable())return!0;var t=e.definition();return n.exposed(t)&&Nn[t.name]}return!1}function Ln(e,n,t){return t||(t={}),n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function nt(e,n){return 1==n.length?n[0]:Ln(tn,e,{expressions:n.reduce(vt,[])})}function pt(e,n){switch(typeof e){case"string":return Ln(Kn,n,{value:e});case"number":return isNaN(e)?Ln(it,n):isFinite(e)?1/e<0?Ln(un,n,{operator:"-",expression:Ln(Qn,n,{value:-e})}):Ln(Qn,n,{value:e}):e<0?Ln(un,n,{operator:"-",expression:Ln(at,n)}):Ln(at,n);case"boolean":return Ln(e?ct:ft,n);case"undefined":return Ln(rt,n);default:if(null===e)return Ln(tt,n);if(e instanceof RegExp)return Ln(et,n,{value:e});throw new Error(v("Can't handle constant of type: {type}",{type:typeof e}))}}function dt(e,n){return n instanceof on||Et(n)&&"eval"==n.name}function ht(e,n,t,i){var r=!1;return"Call"==n.TYPE?r=n.expression===t&&dt(0,i):n instanceof Jn?r=n.tag===t&&dt(0,i):n instanceof un&&(r="delete"==n.operator||"typeof"==n.operator&&Et(i)),r?nt(t,[Ln(Qn,t,{value:0}),i]):i}function vt(e,n){return n instanceof tn?[].push.apply(e,n.expressions):e.push(n),e}function mt(e){return e instanceof Be||e instanceof be||e instanceof Le}function _t(e){if(e instanceof de){var n=e.name.definition(),t=e.name.scope;return n.scope===t||g(n.references,(function(e){var n=e.scope;do{if(n===t)return!0}while(n=n.parent_scope)}))}return!mt(e)}function gt(e){if(null===e)return[];if(e instanceof N)return g(e.body,_t)?e.body:[e];if(e instanceof $)return[];if(z(e))return[e];throw new Error("Can't convert thing to statement array")}function bt(e){return null===e||(e instanceof $||e instanceof N&&0==e.body.length)}function yt(e){return g(e.body,(function(e){return bt(e)||e instanceof me||e instanceof Ue&&Dt(e)}))}function wt(e){return e instanceof Y&&e.body instanceof N?e.body:e}function xt(e){if("Call"!=e.TYPE)return!1;do{e=e.expression}while(e instanceof on);return e instanceof te?!ie(e):xt(e)}function kt(e){var n=e.expression;if(n.name)return!1;if(!(e instanceof nn))return!0;var t=!1;return n.walk(new ut((function(e){return!!t||(e instanceof Gn?t=!0:e instanceof K&&e!==n||void 0)}))),!t}function Et(e){return e instanceof Rn&&e.definition().undeclared}var St,Tt=_("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Map Math Number parseFloat parseInt RangeError ReferenceError RegExp Object Set setInterval setTimeout String SyntaxError TypeError unescape URIError WeakMap WeakSet");function At(e){return e.static&&e.value&&(e instanceof xe||e instanceof Te)}function Dt(e){return g(e.definitions,(function(e){return!e.value}))}function Ot(e,n){return e instanceof be?n&&!e.extends&&g(e.properties,(function(e){return!(e.key instanceof S)&&!At(e)})):e instanceof Re?(n||e instanceof Ue)&&Dt(e):e instanceof We||e instanceof Ge?Ot(e.body,n):e instanceof de}function $t(e,n){var t=e.lastIndexOf(n);if(t<0)return!1;for(;++t<e.length;)if(!Ot(e[t],!0))return!1;return!0}function Mt(e,n){var t;if(e.init instanceof N&&(t=e.init,e.init=t.body.pop(),t.body.push(e)),e.init instanceof me?(t||(t=Ln(N,e,{body:[e]})),t.body.splice(-1,0,e.init),e.init=null):e.init instanceof M?e.init=e.init.body:bt(e.init)&&(e.init=null),t)return n?d.splice(t.body):t}function Ft(e,n){var r,o,f,u,l=_(n,(function(e){return e instanceof ee}));!function(){var e=n.self(),t=0;do{if(!r&&e.variables&&(r=e),e instanceof He)n.parent(t).bfinally&&(f||(f={}),f.bfinally=!0),t++;else if(e instanceof Ye)t++;else if(e instanceof Y)o=!0;else{if(e instanceof K){u=e;break}e instanceof Ie&&(f||(f={}),e.bcatch&&(f.bcatch=!0),e.bfinally&&(f.bfinally=!0))}}while(e=n.parent(t++))}();var p,h,v=10;do{if(h=p,p=0,w(e)&&(p=1),!p&&1==h)break;if(n.option("dead_code")&&(T(e,n)&&(p=2),!p&&2==h))break;if(n.option("if_return")&&(x(e,n)&&(p=3),!p&&3==h))break;if(n.option("awaits")&&n.option("side_effects")&&(A(e,n)&&(p=4),!p&&4==h))break;if(n.option("inline")>=4&&(q(e,n)&&(p=5),!p&&5==h))break;if(n.sequences_limit>0){if(C(e,n)&&(p=6),!p&&6==h)break;if(I(e,n)&&(p=7),!p&&7==h)break}if(n.option("join_vars")&&(ue(e)&&(p=8),!p&&8==h))break;n.option("collapse_vars")&&y(e,n)&&(p=9)}while(p&&v-- >0);return e;function _(e,n){var t=e.self(),i=0;do{t instanceof He?t=e.parent(i++):t instanceof H&&(t=t.body);for(var r=null;;){if(n(t))return!0;if(!((t=e.parent(i++))instanceof Me))break;r=t}}while(r&&(t instanceof N||t instanceof He||t instanceof K||t instanceof Ie)&&$t(t.body,r))}function y(e,n){if(!u.pinned()){for(var l,p,h=new b,v=[],m=!1,_=new b,y=e.length,w=new lt((function(e,t){if(Se)return e;if(!Ee)return e!==T[O]?e:++O<T.length?Be(e,w):(Ee=!0,(H=(I?An:Ze)(e,0))===e&&(Se=!0),e);var i,r,o=w.parent();if(!W&&We(e,o)&&(W=o),se&&Z&&qe&&!W&&e instanceof hn&&"="!=e.operator&&e.left.equivalent_to(G))return Ae++,m=!0,S.info("Cascading {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),qe=!1,ve=Gn(G),e.right.transform(w),Bn($),Se?i=$:(Se=!0,i=Ln(pn,$,{operator:se,left:G.fixed&&G.definition().fixed?G.fixed.to_binary():G,right:ye})),Ln(hn,e,{operator:"=",left:e.left,right:Ln(pn,e,{operator:e.operator.slice(0,-1),left:i,right:e.right})});if(function(e,t){if(e===ye)return!0;if(t instanceof U&&e!==t.init)return!0;if(e instanceof hn)return"="!=e.operator&&G.equivalent_to(e.left);if(e instanceof en)return G instanceof on&&(!!G.equivalent_to(e.expression)&&!(ye instanceof te&&!ye.contains_this()));return e instanceof ge?!n.has_directive("use strict"):e instanceof D||(e instanceof me?fe&&G.name===e.name.name:e instanceof wn?e.key instanceof S:e instanceof R||(e instanceof ze||(e instanceof Ie||e instanceof X)))}(e,o))return Se=!0,e;if(e.single_use&&o instanceof Ve&&o.value===e)return e;if(!(e instanceof $n)&&(Z&&G.equivalent_to(e)||ae&&(r=ae(e,this)))){if(!qe||W&&(r||!_e||!ke))return r||I||(Se=!0),e;if(Wt(e,o))return I&&!r&&(C=!0),e;if(!r&&P&&e.fixed!==G.fixed)return Se=!0,e;if(I)return W&&0==q&&(q=A-Ae),r||Ae++,e;if(Ae++,m=Se=!0,S.info("Collapsing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),"Binary"==$.TYPE)return Vn($,e),Ln(hn,$,{operator:"=",left:$.right.left,right:"&&"==$.operator?Ln(dn,$,{condition:$.left,consequent:$.right.right,alternative:e}):Ln(dn,$,{condition:$.left,consequent:e,alternative:$.right.right})});if($ instanceof ln)return Ln(un,$,{operator:$.operator,expression:G.fixed&&G.definition().fixed?G.fixed.to_prefix():G});if($ instanceof un)return Bn($),$;if(Vn(ye,e),$ instanceof Ve){var a=$.name.definition();return a.references.length-a.replaced!=1||n.exposed(a)?Ln(hn,$,{operator:"=",left:e,right:ye}):(a.replaced++,ht(0,o,e,ye))}Bn(ye);var f=$.clone();return f.right=ye,f}if(function(e,t){if(!(e instanceof Rn))return!1;if(e.is_declared(n)){if(e.fixed_value())return!1;if(k(e))return!(t instanceof on&&t.expression===e)&&s(e.definition())}else if(Ue(e,t))return!1;return!ke||(ae=!1,!1)}(e,o))return Se=!0,e;if((Ge(e,o)||ce(e))&&(H=e,e instanceof K&&(Se=!0)),e instanceof ne){var c=qe;return qe=!1,t(e,w),qe=c,Ye(e)}if(e instanceof gn){c=qe;return qe=!1,t(e,w),qe=c,Ye(e)}if(e instanceof Qe){e.name=e.name.transform(w);c=qe;return qe=!1,e.value=e.value.transform(w),qe=c,Ye(e)}if(e instanceof F&&!(e instanceof K)&&(!e.variables||!e.variables.all((function(e){return!de.has(e.name)&&!ve.has(e.name)})))){c=qe;return qe=!1,Be(e,w)||t(e,w),qe=c,Ye(e)}return Be(e,w)?Ye(e):void 0}),Ye),x=new lt((function(e){if(Se)return e;if(!Ee){if(e!==T[O])return e;switch(O++,T.length-O){case 0:if(Ee=!0,C)return e;if(e!==$)return e;if(e instanceof Ve)return e;He.replaced++;var n=x.parent();return n instanceof tn&&n.tail_node()!==e?(I.replaced++,ye===be?d.skip:nt(be,be.expressions.slice(0,-1))):ye;case 1:if(!C&&e.body===$)return Ee=!0,He.replaced++,I.replaced++,null;default:return Be(e,x)}}if(e instanceof Rn&&e.definition()===He){if(Wt(e,x.parent()))return e;--Ae||(Se=!0),S.info("Replacing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col});var t=ye.clone();return t.scope=e.scope,t.reference(),Ae==q?(Se=!0,Ln(hn,$,{operator:"=",left:e,right:t})):(He.replaced++,t)}return e instanceof je||e instanceof K?e:void 0}),(function(e){return Kn(e,x)}));--y>=0;){0==y&&n.option("unused")&&Xe();var T=[];for(Ke(e[y]);v.length>0;){T=v.pop();var A,O=0,$=T[T.length-1],q=-1,C=!1,P=!1,I=null,H=null,W=null,G=Cn($),J=G&&G.has_side_effects(n),Z=G&&(!J||G instanceof Rn)&&!Yn(G,n),ae=In($);if(Z||ae){var se=$ instanceof hn&&$.operator.slice(0,-1),fe=$.name instanceof Fn,ce=c;if($.may_throw(n)){if(fe&&re(u))continue;ce=f?function(e){return e.has_side_effects(n)}:at}var ue=!1,pe=!1,de=new b,he=!0,ve=Gn($),_e=Zn(G),be=jn($),ye=be;J||(!se&&ye instanceof tn&&(ye=ye.tail_node()),J=et());var we=f||!_e?function(e){return e instanceof gn}:c,ke=tt($),Ee=fe,Se=!1,Ae=0,qe=!l||!Ee;if(!qe){for(var Ce=$.arg_index+1;!Se&&Ce<l.length;Ce++)l[Ce]&&l[Ce].transform(w);qe=!0}for(var Pe=y;!Se&&Pe<e.length;Pe++)e[Pe].transform(w);if(I){if(!Ae||A>Ae+C){v.push(T),p=!0;continue}Ae==q&&(C=!0);var He=G.definition();Se=!1,O=0,Ee=fe;for(Pe=y;!Se&&Pe<e.length;Pe++)e[Pe].transform(x)||e.splice(Pe--,1);Ae=$ instanceof Ve&&$===T[T.length-1]&&He.references.length==He.replaced&&!n.exposed(He),I.last_ref=!1,I.single_use=!1,m=!0}Ae&&Xn($)}}}return m}function Ye(e){return Se||(H===e&&(Se=!0),W===e&&(W=null)),e}function Be(e,n){if(e instanceof F){if(e instanceof K)return e;if(e instanceof ge){e.name&&(e.name=e.name.transform(n)),!Se&&e.extends&&(e.extends=e.extends.transform(n));for(var t=[],i=[],r=0;!Se&&r<e.properties.length;r++){(o=e.properties[r]).key instanceof S&&(o.key=o.key.transform(n)),o.static&&(o instanceof xe?o.value&&t.push(o):o instanceof Te&&[].push.apply(i,o.value.body))}for(r=0;!Se&&r<i.length;r++)i[r].transform(n);for(r=0;!Se&&r<t.length;r++){var o;(o=t[r]).value=o.value.transform(n)}return e}if(e instanceof V)return e.object=e.object.transform(n),Se=!0,e;if(e instanceof Fe){e.expression=e.expression.transform(n);for(r=0;!Se&&r<e.body.length;r++){var a=e.body[r];if(a instanceof Ne){if(!Ee){if(a!==T[O])continue;O++}if(a.expression=a.expression.transform(n),!ke)break;ae=!1}}return Se=!0,e}}}function Ue(e,n){return n instanceof hn?"="==n.operator&&n.left===e:n instanceof Qe?n.name===e:n instanceof yn||(n instanceof wn?n.value===e:void 0)}function We(e,n){return n instanceof hn?n.left!==e&&Nt[n.operator.slice(0,-1)]:n instanceof pn?n.left!==e&&Nt[n.operator]:n instanceof en?n.optional&&n.expression!==e:n instanceof Ne?n.expression!==e:n instanceof dn||n instanceof Me?n.condition!==e:n instanceof sn?n.optional&&n.expression!==e:void 0}function Ge(e,t){if(e instanceof vn)return!0;if("Binary"==e.TYPE)return!Li(e.operator,e.right,n);if(e instanceof en){var i=e.expression;if(i instanceof Rn&&(v=i.definition(),i=i.fixed_value()),!(i instanceof ee))return!e.is_expr_pure(n);if(v&&Gi(n,v,i))return!0;if(i.collapse_scanning)return!1;i.collapse_scanning=!0;var r=qe;qe=!1;var o=H,c=W;if(g(i.argnames,(function(e){if(e instanceof Qe){if(e.value.transform(w),Se)return!1;e=e.name}return!(e instanceof gn)})))if(ie(i)&&i.value)i.value.transform(w);else for(var l=0;!Se&&l<i.body.length;l++){var p=i.body[l];if(p instanceof Oe){p.value&&p.value.transform(w);break}p.transform(w)}else Se=!0;return W=c,H=o,qe=r,i.collapse_scanning=!1,Se?(Se=!1,!0):!1}if(e instanceof ge){if(!f)return!1;var d=e.extends;return!!d&&(d instanceof Rn&&(d=d.fixed_value()),!a(d))}if(e instanceof De){if(f){if(f.bfinally)return!0;if(f.bcatch&&e instanceof $e)return!0}return J||G instanceof on||ot(G)}if(e instanceof le)return n.option("ie")&&e.name&&ve.has(e.name.name);if(e instanceof Un)return it(e,t);if(e instanceof on){if(J)return!0;var h=e.expression;if(h instanceof Rn&&s(h.definition()))return!0;if(n.option("unsafe")){if(Et(h)&&Tt[h.name])return!1;if(ii(h))return!1}return!he||!I&&(!(!f&&_e)&&(!e.optional&&h.may_throw_on_access(n)))}if(e instanceof fn)return!0;if(e instanceof Rn){if(it(e,t))return!Ue(e,t);if(J&&ot(e))return!0;var v=e.definition();return(f||v.scope.resolve()!==u)&&!k(e)}if(e instanceof Jn)return!e.is_expr_pure(n);if(e instanceof Ve)return!!we(e.name)||(e.value||t instanceof Le)&&e.name.match_symbol((function(e){return e instanceof $n&&(ve.has(e.name)||J&&ot(e))}),!0);if(e instanceof mn)return!0;var m=Wt(e.left,e);return!!m&&(m instanceof on||(!!we(m)||m.match_symbol((function(e){return e instanceof Rn&&(ve.has(e.name)||ue&&n.exposed(e.definition()))}),!0)))}function Je(e,t){if(!t)return!(e instanceof On);if(e instanceof Qe)return t.has_side_effects(n)||e.value.has_side_effects(n)||Je(e.name,jt(t)&&e.value);if(e instanceof gn){if(e.rest&&Je(e.rest))return!0;if(e instanceof yn)return!(t instanceof _n||t.is_string(n))||!g(e.elements,(function(e){return!Je(e)}));if(e instanceof xn)return!t.is_defined(n)||!g(e.properties,(function(e){return!(e instanceof S&&e.has_side_effects(n))&&!Je(e.value)}))}}function Xe(){var e,t=n.self();if(t instanceof te&&!oe(t)&&!t.uses_arguments&&!t.pinned()&&(e=n.parent())instanceof en&&e.expression===t&&kt(e)&&g(e.args,(function(e){return!(e instanceof fn)})))for(var i=t.in_strict_mode(n)&&!t.parent_scope.resolve(!0).in_strict_mode(n),r=re(t)?function(e){return e instanceof On&&"await"==e.name}:function(e){return e instanceof vn&&!a.find_parent(K)},o=null,a=new ut((function(e,n){if(!h)return!0;if(r(e)||e instanceof mn)return h=null,!0;if(e instanceof Un&&(i||!o))return h=null,!0;if(e instanceof Rn&&t.variables.has(e.name)){var a=e.definition().scope;if(a!==u)for(;a=a.parent_scope;)if(a===u)return!0;h=null}if(e instanceof K&&!ie(e)){var s=o;return o=e,n(),o=s,!0}})),s=(l=e.args.slice()).length,f=new b,c=t.argnames.length;--c>=0;){var p,d=t.argnames[c],h=l[c];if(d instanceof Qe&&(p=d.value,d=d.name,l[s+c]=p),d instanceof gn){if(!Je(d,h))continue;v.length=0;break}if(!f.has(d.name)&&(f.set(d.name,!0),p&&(h=jt(h)?p:null),h||p?h instanceof ee&&h.pinned()?h=null:h&&h.walk(a):h=Ln(rt,d).transform(n),h)){var m=Ln(Ve,d,{name:d,value:h});m.name_index=c,m.arg_index=p?s+c:c,v.unshift([m])}}}function Ke(e,n){if(T.push(e),e instanceof _n)e.elements.forEach((function(e){Ke(e,n)}));else if(e instanceof hn){var t=e.left;t instanceof gn||v.push(T.slice()),Ke(t),Ke(e.right),t instanceof Rn&&"="==e.operator&&h.set(t.name,(h.get(t.name)||0)+1)}else if(e instanceof vn)Ke(e.expression,n);else if(e instanceof pn){var i=Nt[e.operator];n&&i&&"??"!=e.operator&&e.right instanceof hn&&"="==e.right.operator&&!(e.right.left instanceof gn)&&v.push(T.slice()),Ke(e.left,!i&&n),Ke(e.right,n)}else if(e instanceof en)Ke(e.expression),e.args.forEach(Ke);else if(e instanceof Ne)Ke(e.expression);else if(e instanceof dn)Ke(e.condition),Ke(e.consequent,n),Ke(e.alternative,n);else if(e instanceof Re)e.definitions.forEach(Ke);else if(e instanceof an)Ke(e.expression);else if(e instanceof R)Ke(e.condition),e.body instanceof j||Ke(e.body);else if(e instanceof De)e.value&&Ke(e.value);else if(e instanceof U)e.init&&Ke(e.init,!0),e.condition&&Ke(e.condition),e.step&&Ke(e.step,!0),e.body instanceof j||Ke(e.body);else if(e instanceof V)Ke(e.object),e.body instanceof j||Ke(e.body);else if(e instanceof Me)Ke(e.condition),e.body instanceof j||Ke(e.body),!e.alternative||e.alternative instanceof j||Ke(e.alternative);else if(e instanceof kn)e.properties.forEach((function(e){T.push(e),e.key instanceof S&&Ke(e.key),e instanceof Sn&&Ke(e.value,n),T.pop()}));else if(e instanceof tn){var r=e.expressions.length-(n?0:1);e.expressions.forEach((function(e,n){Ke(e,n<r)}))}else if(e instanceof M)Ke(e.body,!0);else if(e instanceof fn)Ke(e.expression);else if(e instanceof sn)Ke(e.expression),Ke(e.property);else if(e instanceof Fe)Ke(e.expression),e.body.forEach(Ke);else if(e instanceof cn)It[e.operator]?v.push(T.slice()):Ke(e.expression);else if(e instanceof Ve){if(e.name instanceof Mn)if(e.value){var o=e.name.definition();o.references.length>o.replaced&&v.push(T.slice())}else _.set(e.name.name,(_.get(e.name.name)||0)+1);e.value&&Ke(e.value)}else e instanceof mn&&e.expression&&Ke(e.expression);T.pop()}function Ze(e,n){var t=w.parent(n);return t instanceof _n||t instanceof hn||t instanceof vn||t instanceof pn||t instanceof en||t instanceof Ne||t instanceof dn?e:t instanceof Re?Dn(t,n+1):t instanceof De||t instanceof Me||t instanceof Y||t instanceof En||t instanceof on?e:t instanceof tn?(t.tail_node()===e?Ze:Dn)(t,n+1):t instanceof M?Dn(t,n+1):t instanceof fn||t instanceof Fe||t instanceof cn||t instanceof Ve||t instanceof mn?e:null}function nn(e,n,t){var i;do{i=e,e=w.parent(++t)}while(e instanceof hn&&e.operator.slice(0,-1)==n||e instanceof pn&&e.operator==n);return i}function Tn(e,n,t,i,r){var o=qe;qe=!1;var a=H,s=W,f=w.stack;return w.stack=[i],e.transform(w),w.stack=f,W=s,H=a,qe=o,Se?(Se=!1,t):n(i,r+1)}function An(e,n){var t,i=w.parent(n);if(i instanceof _n)return An(i,n+1);if(i instanceof hn)return ce(i)||i.left.match_symbol((function(e){return e instanceof Rn&&(G.name==e.name||I.name==e.name)}))?e:i.left!==e&&Nt[t=i.operator.slice(0,-1)]?nn(i,t,n):An(i,n+1);if(i instanceof vn)return An(i,n+1);if(i instanceof pn)return i.left!==e&&Nt[t=i.operator]?nn(i,t,n):An(i,n+1);if(i instanceof en)return i;if(i instanceof Ne)return i.expression!==e?e:An(i,n+1);if(i instanceof dn)return i.condition!==e?e:An(i,n+1);if(i instanceof Re)return Dn(i,n+1);if(i instanceof B)return e;if(i instanceof De)return Dn(i,n+1);if(i instanceof U)return i.init!==e&&i.condition!==e?e:An(i,n+1);if(i instanceof V)return i.init!==e?e:An(i,n+1);if(i instanceof Me)return i.condition!==e?e:An(i,n+1);if(i instanceof En){var r=w.parent(n+1);return g(r.properties,(function(e){return e instanceof Sn}))?An(r,n+2):r}return i instanceof on?i.expression===e?An(i,n+1):e:i instanceof tn?(i.tail_node()===e?An:Dn)(i,n+1):i instanceof M?Dn(i,n+1):i instanceof fn?An(i,n+1):i instanceof Fe?i.expression!==e?e:An(i,n+1):i instanceof cn?"delete"==i.operator?e:An(i,n+1):i instanceof Ve?i.name.match_symbol((function(e){return e instanceof $n&&(G.name==e.name||I.name==e.name)}))?e:An(i,n+1):i instanceof L?i.condition!==e?e:An(i,n+1):i instanceof mn?An(i,n+1):null}function Dn(e,n){var t=w.parent(n);if(Ge(e,t))return e;if(We(e,t))return e;if(t instanceof _n)return Dn(t,n+1);if(t instanceof hn)return o(t.left);if(t instanceof vn)return e;if(t instanceof pn)return Dn(t,n+1);if(t instanceof en)return Dn(t,n+1);if(t instanceof Ne)return Dn(t,n+1);if(t instanceof dn)return Dn(t,n+1);if(t instanceof Re)return Dn(t,n+1);if(t instanceof De)return Dn(t,n+1);if(t instanceof Me)return Dn(t,n+1);if(t instanceof Y)return e;if(t instanceof En){var i=w.parent(n+1);return g(i.properties,(function(e){return e instanceof Sn}))?Dn(i,n+2):i}if(t instanceof on){var r=t.expression;return r===e?Dn(t,n+1):Tn(r,Dn,e,t,n)}return t instanceof tn||t instanceof M?Dn(t,n+1):t instanceof fn?e:t instanceof Fe||t instanceof cn?Dn(t,n+1):t instanceof Ve?o(t.name):t instanceof mn?e:null;function o(i){return ce(t)?e:i!==e&&i instanceof gn?Tn(i,Dn,e,t,n):Dn(t,n+1)}}function zn(e){if(p)p=!1;else if(!(A<1)){var t=(e=e.tail_node())instanceof hn&&"="==e.operator?e.left:e;if(t instanceof Rn){var i=t.definition();if(!i.undeclared&&!s(i)){if(t!==e){if(Yn(t,n))return;if(i.references.length-i.replaced<2)return;var r=$.clone();r[r instanceof hn?"right":"value"]=t,$.name_index>=0&&(r.name_index=$.name_index,r.arg_index=$.arg_index),$=r}return I=i}}}}function qn(e){return e.references.length-e.replaced-(h.get(e.name)||0)}function Cn(e){if(e instanceof hn){if(!((o=e.left)instanceof Rn))return o;var t=o.definition();if(u.uses_arguments&&Ut(t))return o;if(n.exposed(t))return o;if(A=qn(t),t.fixed&&o.fixed){var r=t.references.filter((function(e){return e.fixed===o.fixed})).length-1;r<A&&(A=r,q=0,P=!0)}return"="==e.operator&&zn(e.right),o}if(e instanceof pn)return e.right.left;if(e instanceof cn)return e.expression;if(e instanceof Ve){var o;if((t=(o=e.name).definition()).const_redefs)return;if(!i(o,t.orig))return;if(u.uses_arguments&&Ut(t))return;var a=t.orig.length-t.eliminated-(_.get(t.name)||0);return A=qn(t),t.fixed&&(A=Math.min(A,t.references.filter((function(n){if(!n.fixed)return!0;if(!n.fixed.assigns)return!0;var t=n.fixed.assigns[0];return t===o||jn(t)===e.value})).length)),a>1&&!(o instanceof Fn)?(zn(e.value),Ln(Rn,o,o)):zn(e.value)||1==A&&!n.exposed(t)?Ln(Rn,o,o):void 0}}function jn(e){if(e instanceof hn)return e.right;if(e instanceof pn){var n=e.clone();return n.right=e.right.right,n}return e instanceof Ve?e.value:void 0}function Nn(e){return!(e instanceof _n)&&(e instanceof pn&&Nt[e.operator]?Nn(e.left)&&Nn(e.right):!(e instanceof en)&&(e instanceof dn?Nn(e.consequent)&&Nn(e.alternative):!(e instanceof kn)&&!e.has_side_effects(n)))}function In(e){if(!(e instanceof hn&&e.right.single_use)){for(var t,i=Object.create(null),r=new ut((function(e){e instanceof Rn&&(i[e.definition().id]=!0)}));e instanceof hn&&"="==e.operator;)e.left.walk(r),e=e.right;if(e instanceof Un)return s;if(e instanceof Rn){var o=e.evaluate(n);return o===e?s:Hn(o,s)}if(e.is_truthy())return Hn(!0,c);if(e.is_constant()){var a=e.evaluate(n);if(!(a instanceof S))return Hn(a,s)}return G instanceof Rn&&(!!Nn(e)&&(e.walk(new ut((function(e){if(t)return!0;e instanceof Rn&&i[e.definition().id]&&(t=!0)}))),!t&&s))}function s(n){return e.equivalent_to(n)}}function Hn(e,t){return function(i,r){if(r.in_boolean_context()){if(e&&i.is_truthy()&&!i.has_side_effects(n))return!0;if(i.is_constant()){var o=i.evaluate(n);if(!(o instanceof S))return!o==!e}}return t(i)}}function Bn(e){for(;e.write_only&&(e.write_only=!1,e instanceof hn);)e=e.right}function Vn(e,n){var t=n.scope||bn(w)||r;e.walk(new ut((function(e){if(e instanceof F)return!0;e instanceof On&&(e.scope=t)})))}function Wn(e){return e instanceof Rn&&!(e=e.fixed_value())||(e instanceof hn?"="==e.operator&&Wn(e.right):e instanceof on||e instanceof Un)}function Gn(e){var i=new b;e instanceof Ve&&(e.name.definition().fixed||(he=!1),i.add(e.name.name,G));var r=u.uses_arguments&&!n.has_directive("use strict"),o=u instanceof Q,a=new ut((function(s){var f;if(s instanceof Rn){if(!(f=s.fixed_value())){f=s;var c=s.definition(),l=s.fixed&&s.fixed.escaped||c.escaped;c.undeclared||!c.assignments&&l&&!l.cross_scope||!E(c,s.scope,s,a.parent())&&Ji(c)||(he=!1)}}else s instanceof Un&&(f=s);if(f)i.add(s.name,t(n,a,s,f,0));else{if(s instanceof ee){for(var p,d=0,h=s;p=a.parent(d++);h=p){if(p instanceof hn){if(p.left===h)break;if("="==p.operator)continue;if(Nt[p.operator.slice(0,-1)])continue;break}if(p instanceof pn){if(Nt[p.operator])continue;break}if(p instanceof en)return;if(p instanceof K)return;if(p instanceof tn){if(p.tail_node()===h)continue;break}if(p instanceof Jn){if(p.tag)return;break}}return s.enclosed.forEach((function(e){e.scope!==s&&de.set(e.name,!0)})),!0}r&&s instanceof sn&&(u.each_argname((function(e){n.option("reduce_vars")&&!e.definition().assignments||(e.definition().fixed||(he=!1),i.add(e.name,!0))})),r=!1)}if(o)if("Call"==s.TYPE){if(pe)return;var v=s.expression;if(v instanceof on)return;if(v instanceof te&&!v.contains_this())return;pe=!0}else s instanceof on&&Wn(s.expression)&&(s!==G||e instanceof cn?ue=!0:pe=!0)}));return e.walk(a),i}function Xn(t){var i=ye===be?null:nt(be,be.expressions.slice(0,-1)),r=t.name_index;if(r>=0){var o,a=u.argnames[r];a instanceof Qe?(u.argnames[r]=a=a.clone(),a.value=i||Ln(Qn,a,{value:0})):(o=n.parent().args)[r]&&(u.argnames[r]=a.clone(),o[r]=i||Ln(Qn,o[r],{value:0}))}else{var s=T.length-1,f=T[s];(f instanceof Ve||T[s-1].body===f)&&s--;var c=new lt((function(e,n,t){if(Ee)return e;if(e!==T[O])return e;if(++O<=s)return Be(e,c);if(Ee=!0,e instanceof Re){_.set(f.name.name,(_.get(f.name.name)||0)+1),I&&I.replaced++;var r=e.definitions,o=r.indexOf(f),a=f.clone();if(a.value=null,!i)return e.definitions[o]=a,e;var u=[Ln(M,i,{body:i})];if(o>0){var l=e.clone();l.definitions=r.slice(0,o),u.unshift(l),(e=e.clone()).definitions=r.slice(o)}return u.push(e),e.definitions[0]=a,t?d.splice(u):Ln(N,e,{body:u})}return i?z(e)?Ln(M,i,{body:i}):i:t?d.skip:null}),(function(e,n){return e instanceof U?Mt(e,n):Kn(e,c)}));Se=!1,Ee=!1,O=0,(e[y]=e[y].transform(c))||e.splice(y,1)}}function Kn(e,n){if(e instanceof tn)switch(e.expressions.length){case 0:return null;case 1:return ht(0,n.parent(),e,e.expressions[0])}}function Zn(e){var n=rn(e);if(!(n instanceof Rn))return!1;if(n.definition().scope.resolve()!==u)return!1;if(!o)return!0;if(se)return!1;if($ instanceof cn)return!1;var t=ve.get(n.name);return!t||t[0]===e}function et(){return!($ instanceof cn)&&ye.has_side_effects(n)}function tt(e){if(e instanceof cn)return!1;if(J)return!1;if(I)return!0;if(!(G instanceof Rn))return!1;var n;if(e instanceof Ve)n=1;else{if("="!=e.operator)return!1;n=2}var t=G.definition();return t.references.length-t.replaced==n||!!t.fixed&&(!!G.fixed&&(t.references.filter((function(e){return e.fixed===G.fixed})).length==n&&(P=!0,!0)))}function it(e,n){var t=ve.get(e.name);if(t&&!g(t,(function(e){return!e})))return t[0]!==G||void(ae=!1)}function ot(e){var t=e.definition();return!(1==t.orig.length&&t.orig[0]instanceof Pn)&&(t.scope.resolve()!==u||(!(!pe||!n.exposed(t))||!g(t.references,(function(e){return e.scope.resolve(!0)===u}))))}function at(e,n){if(e instanceof hn)return at(e.left,!0);if(e instanceof cn)return at(e.expression,!0);if(e instanceof Ve)return e.value&&at(e.value);if(n){if(e instanceof an)return at(e.expression,!0);if(e instanceof sn)return at(e.expression,!0);if(e instanceof Rn)return e.definition().scope.resolve()!==u}return!1}}function w(e){for(var n=!1,t=[],r=0;r<e.length;){var o=e[r];if(o instanceof N&&g(o.body,_t))n=!0,w(o.body),[].splice.apply(e,[r,1].concat(o.body)),r+=o.body.length;else{if(o instanceof O){if(i(o.value,t)){n=!0,e.splice(r,1);continue}t.push(o.value)}o instanceof $?(n=!0,e.splice(r,1)):r++}}return n}function x(e,n){for(var t,i,r,o=!1,a=n.parent(),s=n.self(),f=l&&a&&"Call"==a.TYPE&&a.expression===s,c=l&&n.option("conditionals")&&n.option("sequences"),u=function(e){for(var n=0,t=e.length;--t>=0;){var i=e[t];if(i instanceof Me&&i.body instanceof Oe&&++n>1)return!0}return!1}(e),p=e.length;--p>=0;){var d=e[p],h=j(p),v=e[h];if(l&&!v&&d instanceof Oe){if(!d.value){o=!0,e.splice(p,1);continue}var y=d.value.tail_node();if(y instanceof un&&"void"==y.operator){var w;o=!0,y===d.value?w=y.expression:(w=d.value.clone()).expressions[w.length-1]=y.expression,e[p]=Ln(M,d,{body:w});continue}}if(d instanceof Me){var x=ai(d.body);if(C(x)){x.label&&m(x.label.thedef.references,x),o=!0,(d=d.clone()).body=Ln(N,d,{body:P(d.body,x)}),d.alternative=Ln(N,d,{body:gt(d.alternative).concat(F())}),e[p]=d,e[p]=d.transform(n);continue}if(x&&!d.alternative&&v instanceof Ae){var k=d.condition;if((k=Ht(k,k.negate(n),d.body instanceof N))!==d.condition){o=!0,(d=d.clone()).condition=k,e[h]=d.body,d.body=v,v===t&&(t=null),e[p]=d,e[p]=d.transform(n);continue}}var E=ai(d.alternative);if(C(E)){E.label&&m(E.label.thedef.references,E),o=!0,(d=d.clone()).body=Ln(N,d.body,{body:gt(d.body).concat(F())}),d.alternative=Ln(N,d.alternative,{body:P(d.alternative,E)}),e[p]=d,e[p]=d.transform(n);continue}if(n.option("typeofs")){if(x&&!E){var S=Ln(N,s,{body:e.slice(p+1)});ki(d.condition,null,S)}if(!x&&E){S=Ln(N,s,{body:e.slice(p+1)});ki(d.condition,S)}}}if(d instanceof Me&&d.body instanceof Oe){var T,A,D=d.body.value,O=d.body.in_bool||v instanceof Oe&&v.in_bool;if(!d.alternative&&v instanceof Oe){o=!0,(d=d.clone()).alternative=v,v===t&&(t=null),e.splice(p,1,d.transform(n)),e.splice(h,1);continue}if(!d.alternative&&!v&&l&&(O||D&&u)){o=!0,(d=d.clone()).alternative=Ln(Oe,d,{value:null}),e.splice(p,1,d.transform(n));continue}if(c&&!d.alternative&&(!(A=e[T=I(p)])&&f||A instanceof Me&&A.body instanceof Oe)&&j(h)==e.length&&v instanceof M){o=!0;var $=[],z=A?H(T,$):[p,1];d=d.clone(),$.push(d.condition),d.condition=nt(d,$),d.alternative=Ln(N,v,{body:[v,Ln(Oe,v,{value:null})]}),z.push(d.transform(n)),e.splice(h,1),[].splice.apply(e,z),p=T+1;continue}}d instanceof De&&(t=d,i=null)}return o;function q(e){return _(n,(function(n){return n===e}))}function C(o){if(r=!1,!function(e){if(e instanceof De){if(t&&t.equivalent_to(e)){i||(i=new b,t.walk(new ut((function(e){e instanceof Rn&&i.set(e.name,e.definition())}))));var o=!1;if(e.walk(new ut((function(e){return!!o||(e instanceof Rn&&i.get(e.name)!==e.definition()?o=!0:void 0)}))),!o)return r=!0}return l&&e instanceof Oe&&jt(e.value)}if(!(e instanceof ze))return!1;var a=n.loopcontrol_target(e);return e instanceof Ce?q(wt(a)):!(a instanceof Y)&&q(a)}(o))return!1;for(var a=e.length;--a>p;){var s=e[a];if(s instanceof be){if(s.name.definition().preinit)return!1}else if((s instanceof Be||s instanceof Le)&&!g(s.definitions,(function(e){return!e.name.match_symbol((function(e){return e instanceof $n&&e.definition().preinit}))})))return!1}return!0}function F(){var n,i=[],o=!1,a=p+1;r?(n=e.lastIndexOf(t))<0&&(n=e.length):(n=e.length,t=null);var s=e.splice(a,n-a).filter((function(e){return e instanceof de?(i.push(e),!1):(mt(e)&&(o=!0),!0)}));return[].push.apply(o?s:e,i),s}function P(e,n){for(var t,i=gt(e),o=i;(t=o[o.length-1])!==n;)o=t.body;return o.pop(),!r&&n.value&&o.push(Ln(M,n.value,{body:n.value})),i}function j(n){for(var t=n+1;t<e.length&&Ot(e[t]);t++);return t}function I(n){for(var t=n;--t>=0&&e[t]instanceof Ue;);return t}function H(t,i){for(var r=[t+1,p-t],o=[];++t<p;){var a=e[t];a.remove_initializers(n,o),a.definitions.forEach((function(e){e.value&&i.push(Ln(hn,e,{operator:"=",left:e.name.convert_symbol(Rn,G),right:e.value}))}))}return o.length>0&&r.push(Ln(Ue,a,{definitions:o})),r}}function T(e,n){var t,i=n.self();i instanceof He?i=n.parent():i instanceof H&&(i=i.body);for(var r=0,o=0,a=e.length;r<a;r++){var s=e[r];if(s instanceof ze){var f=n.loopcontrol_target(s);wt(f)!==i||s instanceof qe&&f instanceof Y?e[o++]=s:s.label&&m(s.label.thedef.references,s)}else e[o++]=s;if(ai(s)){t=e.slice(r+1);break}}return e.length=o,t&&t.forEach((function(t){Pt(n,t,e)})),e.length!=a}function A(e,n){if(!(!l||f&&f.bfinally)){for(var t=!1,i=e.length;--i>=0;){var r=e[i];if(!(r instanceof M))break;var o=r.body;if(!(o instanceof vn))break;var a=o.expression;if(!Ui(n,a))break;if(t=!0,a=a.drop_side_effect_free(n,!0)){r.body=a;break}}return e.length=i+1,t}}function q(e,n){var t=!1,i=e.length-1;l&&i>=0&&((s=e[i].try_inline(n,r))&&(e[i--]=s,t=!0));for(var a=o&&f&&f.bfinally?"try":o;i>=0;i--){var s;(s=e[i].try_inline(n,r,!0,a))&&(e[i]=s,t=!0)}return t}function C(e,n){if(!(e.length<2)){for(var t=[],i=0,r=0,o=e.length;r<o;r++){var a=e[r];a instanceof M?(t.length>=n.sequences_limit&&s(),vt(t,a.body)):(Ot(a)||s(),e[i++]=a)}return s(),e.length=i,i!=o}function s(){if(t.length){var n=nt(t[0],t);e[i++]=Ln(M,n,{body:n}),t=[]}}}function P(e,n){if(!(e instanceof N))return e;for(var t=null,i=0;i<e.body.length;i++){var r=e.body[i];if(r instanceof Ue&&Dt(r))n.push(r);else{if(t||mt(r))return!1;t=r}}return t}function I(e,n){for(var t,i=!1,r=0,o=0;o<e.length;o++){var a=e[o];if(t)if(a instanceof De)!a.value&&Ze(u)||(a.value=d(a.value||Ln(rt,a)).optimize(n));else if(a instanceof U){if(!(a.init instanceof Re)){var s=!1;t.body.walk(new ut((function(e){return!!(s||e instanceof K)||(e instanceof pn&&"in"==e.operator?(s=!0,!0):void 0)}))),s||(a.init?a.init=d(a.init):(a.init=t.body,r--,i=!0))}}else a instanceof W?mt(a.init)||(a.object=d(a.object)):a instanceof Me?a.condition=d(a.condition):(a instanceof Fe||a instanceof X)&&(a.expression=d(a.expression));if(n.option("conditionals")&&a instanceof Me){var f=[],c=P(a.body,f),l=P(a.alternative,f);if(!1!==c&&!1!==l&&f.length>0){var p=f.length;f.push(Ln(Me,a,{condition:a.condition,body:c||Ln($,a.body),alternative:l})),f.unshift(r,1),[].splice.apply(e,f),o+=p,r+=p+1,t=null,i=!0;continue}}e[r++]=a,t=a instanceof M?a:null}return e.length=r,i;function d(e){r--,i=!0;var n=t.body;return nt(n,[n,e])}}function J(e){return e instanceof hn?[e]:e instanceof tn?e.expressions.slice():void 0}function Z(e,n,t){var i=J(n);if(i){t=t||0;for(var r=!1,o=i.length-t;--o>=0;){var a=i[o];if(u(a)){var s;if(a.left instanceof Rn)s=i.slice(o+1);else{if(!(a.left instanceof on&&u(a.left.expression)))continue;s=i.slice(o+1);var f=a.clone();a=a.left.expression,f.left=f.left.clone(),f.left.expression=a.left.clone(),s.unshift(f)}0!=s.length&&ce(a.left,a.right,s)&&(r=!0,i=i.slice(0,o).concat(a,s))}}if(e instanceof Re){for(o=e.definitions.length;--o>=0;){var c=e.definitions[o];if(c.value){ce(c.name,c.value,i)&&(r=!0),se(c,i,t)&&(r=!0);break}}e instanceof Ue&&fe(e.definitions,i,t)&&(r=!0)}return r&&i}function u(e){return e instanceof hn&&"="==e.operator}}function ae(e,n){if(e instanceof M&&!Dt(n)){var t=J(e.body);if(t){var i=[];if(fe(i,t.reverse(),0))return n.definitions=i.reverse().concat(n.definitions),t.reverse()}}}function se(e,t,i){if(n.option("conditionals")&&!(e.name instanceof gn)){for(var r=!1,o=e.name.definition();t.length>i;){var a=Ni(n,o,e.value,t[0]);if(!a)break;e.value=a,t.shift(),r=!0}return r}}function fe(e,n,t){for(var i=!1;n.length>t;){var r=n[0];if(!(r instanceof hn))break;if("="!=r.operator)break;var o=r.left;if(!(o instanceof Rn))break;if(Et(o))break;if(o.scope.resolve()!==u)break;var a=o.definition();if(a.scope!==u)break;if(a.orig.length>a.eliminated+1)break;if("SymbolVar"!=a.orig[0].TYPE)break;var s=Ln(Mn,o,o);e.push(Ln(Ve,r,{name:s,value:r.right})),a.orig.push(s),a.replaced++,n.shift(),i=!0}return i}function ce(e,t,i){var r=new b;for(r.set(e.name,!0);t instanceof hn&&"="==t.operator;)t.left instanceof Rn&&r.set(t.left.name,!0),t=t.right;if(t instanceof kn){var o=!1;do{if(!a(i[0]))break;i.shift(),o=!0}while(i.length);return o}function a(e){if(e instanceof hn&&"="==e.operator&&e.left instanceof on){var i=e.left.expression;if(i instanceof Rn&&r.has(i.name)&&e.right.is_constant_expression(u)){var o=e.left.property;if(o instanceof S&&(a(o)&&(o=e.left.property=o.right.clone()),o=o.evaluate(n)),!(o instanceof S)){var s="__proto__"==(o=""+o)||n.has_directive("use strict")?function(e){var n=e.key;return"string"==typeof n&&n!=o&&"__proto__"!=n}:function(e){var n=e.key;return e instanceof Dn||e instanceof An?"string"==typeof n&&n!=o:"__proto__"!==n};if(g(t.properties,s))return t.properties.push(Ln(Sn,e,{key:o,value:e.right})),!0}}}}}function ue(e){for(var n,t=!1,i=0,r=-1;i<e.length;i++){var o=e[i],a=e[r];if(o instanceof Re)if(a&&a.TYPE==o.TYPE)a.definitions=a.definitions.concat(o.definitions),t=!0;else if(n&&n.TYPE==o.TYPE&&Dt(o))n.definitions=n.definitions.concat(o.definitions),t=!0;else if(o instanceof Ue){(f=ae(a,o))?(f.length&&(a.body=nt(a,f),r++),t=!0):r++,e[r]=n=o}else e[++r]=o;else{if(o instanceof De)o.value=u(o.value);else if(o instanceof U){if(f=Z(a,o.init))t=!0,o.init=f.length?nt(o.init,f):null;else{if(a instanceof Ue&&(!o.init||o.init.TYPE==a.TYPE)){o.init&&(a.definitions=a.definitions.concat(o.init.definitions)),o=o.clone(),n=o.init=a,e[r]=l(o),t=!0;continue}if(n&&o.init&&n.TYPE==o.init.TYPE&&Dt(o.init))n.definitions=n.definitions.concat(o.init.definitions),o.init=null,t=!0;else if(o.init instanceof Ue&&(n=o.init,f=ae(a,o.init))){if(t=!0,0==f.length){e[r]=l(o);continue}a.body=nt(a,f)}}}else if(o instanceof V){if(n&&n.TYPE==o.init.TYPE){var s=n.definitions.slice();o.init=o.init.definitions[0].name.convert_symbol(Rn,(function(e,n){s.push(Ln(Ve,n,{name:n,value:null})),n.definition().references.push(e)})),n.definitions=s,t=!0}o.object=u(o.object)}else if(o instanceof Me)o.condition=u(o.condition);else if(o instanceof M){var f,c;if(f=Z(a,o.body)){if(t=!0,!f.length)continue;o.body=nt(o.body,f)}else if(a instanceof Re&&(c=e[i+1])&&a.TYPE==c.TYPE&&(c=c.definitions[0]).value){t=!0,c.value=nt(o,[o.body,c.value]);continue}}else(o instanceof Fe||o instanceof X)&&(o.expression=u(o.expression));e[++r]=n?l(o):o}}return e.length=r+1,t;function u(e){var n=Z(a,e,1);if(!n)return e;t=!0;var i=e.tail_node();return n[n.length-1]!==i&&n.push(i.left),nt(e,n)}function l(e){return e.transform(new lt((function(e,i,r){if(e instanceof Re){if(n===e)return e;if(n.TYPE!=e.TYPE)return e;var o=this.parent();return o instanceof V&&o.init===e?e:Dt(e)?(n.definitions=n.definitions.concat(e.definitions),t=!0,o instanceof U&&o.init===e?null:r?d.skip:Ln($,e)):e}return e instanceof We||e instanceof K?e:z(e)?void 0:e})))}}}function Pt(e,n,t){var i,r=!1;function o(e){i?(i.push(e),_t(e)||(i.required=!0)):t.push(e)}n.walk(new ut((function(a,s){if(a instanceof be)return a.extends=null,a.properties=[],o(a),!0;if(a instanceof Re){var f=[];return a.remove_initializers(e,f)&&S.warn("Dropping initialization in unreachable code [{file}:{line},{col}]",a.start),f.length>0&&(a.definitions=f,o(a)),!0}if(a instanceof de)return o(a),!0;if(a instanceof K)return!0;if(a instanceof F){var c=i;return i=[],s(),i.required?t.push(Ln(N,n,{body:i})):i.length&&[].push.apply(t,i),i=c,!0}a instanceof ze||(r=!0)}))),r&&S.warn("Dropping unreachable code [{file}:{line},{col}]",n.start)}function jt(e,n){return null==e||e.is_undefined||e instanceof rt||e instanceof un&&"void"==e.operator&&!(n&&e.expression.has_side_effects(n))}Rn.DEFMETHOD("is_declared",(function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&Tt[this.name]})),(St=function(e,n){e.DEFMETHOD("in_strict_mode",n)})(ge,u),St(K,(function(e){for(var n=this.body,t=0;t<n.length;t++){var i=n[t];if(!(i instanceof O))break;if("use strict"==i.value)return!0}var r=this.parent_scope;return r?r.resolve(!0).in_strict_mode(e):e.option("module")})),function(e){e(S,c),e(_n,u),e(hn,(function(){return"="==this.operator&&this.right.is_truthy()})),e(ee,u),e(kn,u),e(et,u),e(tn,(function(){return this.tail_node().is_truthy()})),e(Rn,(function(){var e=this.fixed_value();if(!e)return!1;this.is_truthy=c;var n=e.is_truthy();return delete this.is_truthy,n}))}((function(e,n){e.DEFMETHOD("is_truthy",n)})),function(e){function n(e,n,t){switch(e){case"-":return n.is_negative_zero()&&(!(t instanceof Xn)||0==t.value);case"&&":case"||":return n.is_negative_zero()||t.is_negative_zero();case"*":case"/":case"%":case"**":return!0;default:return!1}}e(S,u),e(_n,c),e(hn,(function(){var e=this.operator;return"="==e?this.right.is_negative_zero():n(e.slice(0,-1),this.left,this.right)})),e(pn,(function(){return n(this.operator,this.left,this.right)})),e(Xn,(function(){return 0==this.value&&1/this.value<0})),e(ee,c),e(kn,c),e(et,c),e(tn,(function(){return this.tail_node().is_negative_zero()})),e(Rn,(function(){var e=this.fixed_value();if(!e)return!0;this.is_negative_zero=u;var n=e.is_negative_zero();return delete this.is_negative_zero,n})),e(un,(function(){return"+"==this.operator&&this.expression.is_negative_zero()||"-"==this.operator}))}((function(e,n){e.DEFMETHOD("is_negative_zero",n)})),function(e){function n(e,n){return n||/strict/.test(e.option("pure_getters"))}S.DEFMETHOD("may_throw_on_access",(function(e,n){return!e.option("pure_getters")||this._dot_throw(e,n)})),e(S,n),e(_n,c),e(hn,(function(e){var n=this.operator,t=this.left,i=this.right;return"="!=n?Nt[n.slice(0,-1)]&&(t._dot_throw(e)||i._dot_throw(e)):!!i._dot_throw(e)&&(!(t instanceof Rn)||(!(i instanceof pn&&"||"==i.operator&&t.name==i.left.name)||i.right._dot_throw(e)))})),e(pn,(function(e){return Nt[this.operator]&&(this.left._dot_throw(e)||this.right._dot_throw(e))})),e(ge,c),e(dn,(function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)})),e(Xn,c),e(an,(function(e,t){if(!n(e,t))return!1;var i=this.expression;return i instanceof Rn&&(i=i.fixed_value()),!("prototype"==this.property&&o(i))})),e(ee,c),e(tt,u),e(kn,(function(e,t){return n(e,t)&&!g(this.properties,(function(n){return n instanceof Sn&&!("__proto__"===n.key&&n.value._dot_throw(e,t))}))})),e(Un,(function(e,t){return n(e,t)&&!this.scope.resolve().new})),e(tn,(function(e){return this.tail_node()._dot_throw(e)})),e(Rn,(function(e,t){if(this.is_undefined)return!0;if(!n(e,t))return!1;if(Et(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;var i=this.definition();if(s(i)&&!i.scope.rest&&g(i.scope.argnames,(function(e){return e instanceof Fn})))return i.scope.uses_arguments>2;var r=this.fixed_value();return!r||(this._dot_throw=u,r._dot_throw(e)?(delete this._dot_throw,!0):(this._dot_throw=c,!1))})),e(un,(function(){return"void"==this.operator})),e(ln,c),e(rt,u)}((function(e,n){e.DEFMETHOD("_dot_throw",n)})),function(e){function n(e,n,t){switch(n){case"&&":return t.left.is_defined(e)&&t.right.is_defined(e);case"||":return t.left.is_truthy()||t.right.is_defined(e);case"??":return t.left.is_defined(e)||t.right.is_defined(e);default:return!0}}e(S,c),e(_n,u),e(hn,(function(e){var t=this.operator;return"="==t?this.right.is_defined(e):n(e,t.slice(0,-1),this)})),e(pn,(function(e){return n(e,this.operator,this)})),e(dn,(function(e){return this.consequent.is_defined(e)&&this.alternative.is_defined(e)})),e(Xn,u),e(ot,c),e(ee,u),e(kn,u),e(tn,(function(e){return this.tail_node().is_defined(e)})),e(Rn,(function(e){if(this.is_undefined)return!1;if(Et(this)&&this.is_declared(e))return!0;if(this.is_immutable())return!0;var n=this.fixed_value();if(!n)return!1;this.is_defined=c;var t=n.is_defined(e);return delete this.is_defined,t})),e(un,(function(){return"void"!=this.operator})),e(ln,u),e(rt,c)}((function(e,n){e.DEFMETHOD("is_defined",n)})),function(e){e(S,c),e(hn,(function(e){return"="==this.operator&&this.right.is_boolean(e)}));var n=_("in instanceof == != === !== < <= >= >");e(pn,(function(e){return n[this.operator]||Nt[this.operator]&&this.left.is_boolean(e)&&this.right.is_boolean(e)})),e(st,u);var t=_("every hasOwnProperty isPrototypeOf propertyIsEnumerable some");e(en,(function(e){if(!e.option("unsafe"))return!1;var n=this.expression;return n instanceof an&&(t[n.property]||"test"==n.property&&n.expression instanceof et)})),e(dn,(function(e){return this.consequent.is_boolean(e)&&this.alternative.is_boolean(e)})),e(nn,c),e(tn,(function(e){return this.tail_node().is_boolean(e)})),e(Rn,(function(e){var n=this.fixed_value();if(!n)return!1;this.is_boolean=c;var t=n.is_boolean(e);return delete this.is_boolean,t}));var i=_("! delete");e(un,(function(){return i[this.operator]}))}((function(e,n){e.DEFMETHOD("is_boolean",n)})),function(e){e(S,c);var n=_("- * / % ** & | ^ << >> >>>");e(hn,(function(e){return n[this.operator.slice(0,-1)]||"="==this.operator&&this.right.is_number(e)})),e(pn,(function(e){return!!n[this.operator]||"+"==this.operator&&((this.left.is_boolean(e)||this.left.is_number(e))&&(this.right.is_boolean(e)||this.right.is_number(e)))}));var t=_(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);e(en,(function(e){if(!e.option("unsafe"))return!1;var n=this.expression;return n instanceof an&&(t[n.property]||Et(n.expression)&&"Math"==n.expression.name)})),e(dn,(function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)})),e(nn,c),e(Qn,u),e(tn,(function(e){return this.tail_node().is_number(e)})),e(Rn,(function(e,n){var t=this.fixed_value();if(!t)return!1;if(n&&t instanceof un&&"+"==t.operator&&t.expression.equivalent_to(this))return!1;this.is_number=c;var i=t.is_number(e);return delete this.is_number,i}));var i=_("+ - ~ ++ --");e(cn,(function(){return i[this.operator]}))}((function(e,n){e.DEFMETHOD("is_number",n)})),function(e){e(S,c),e(hn,(function(e){switch(this.operator){case"+=":if(this.left.is_string(e))return!0;case"=":return this.right.is_string(e)}})),e(pn,(function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}));var n=_(["charAt","substr","substring","toExponential","toFixed","toLowerCase","toPrecision","toString","toUpperCase","trim"]);e(en,(function(e){if(!e.option("unsafe"))return!1;var t=this.expression;return t instanceof an&&n[t.property]})),e(dn,(function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)})),e(tn,(function(e){return this.tail_node().is_string(e)})),e(Kn,u),e(Rn,(function(e){var n=this.fixed_value();if(!n)return!1;this.is_string=c;var t=n.is_string(e);return delete this.is_string,t})),e(Jn,(function(e){return!this.tag||Xi(e,this.tag)})),e(un,(function(){return"typeof"==this.operator}))}((function(e,n){e.DEFMETHOD("is_string",n)}));var Nt=_("&& || ??");function Ht(e,n,t){return n.print_to_string().length-e.print_to_string().length<(t||0)?n:e}function Rt(e,n,t){return Ht(Ln(M,e,{body:e}),Ln(M,n,{body:n}),t).body}function Lt(e,n,t,i){return(w(e)?Rt:Ht)(n,t,i)}function Gt(e){var n=Object.create(null);return Object.keys(e).forEach((function(t){n[t]=_(e[t])})),n}function Jt(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof O))return t}}function Xt(){return this.value?Ln(Oe,this.value,{value:this.value}):Jt(this.body)}function Kt(e,n){var t=n.evaluate(e);return t===n?n:Lt(e,n,t=pt(t,n).optimize(e),e.eval_threshold)}!function(e){function n(e,t){if(e instanceof S)return e.clone(!0);if(Array.isArray(e))return Ln(_n,t,{elements:e.map((function(e){return n(e,t)}))});if(e&&"object"==typeof e){var i=[];for(var r in e)y(e,r)&&i.push(Ln(Sn,t,{key:r,value:n(e[r],t)}));return Ln(kn,t,{properties:i})}return pt(e,t)}function t(e){S.warn("global_defs {node} redefined [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col})}Q.DEFMETHOD("resolve_defines",(function(e){return e.option("global_defs")?(this.figure_out_scope({ie:e.option("ie")}),this.transform(new lt((function(n){var i=n._find_defs(e,"");if(i){for(var r,o=0,a=n;(r=this.parent(o++))&&r instanceof on&&r.expression===a;)a=r;if(!Wt(a,r))return i;t(n)}})))):this})),e(S,f),e(an,(function(e,n){return this.expression._find_defs(e,"."+this.property+n)})),e($n,(function(e){this.definition().global&&y(e.option("global_defs"),this.name)&&t(this)})),e(Rn,(function(e,t){if(this.definition().global){var i=e.option("global_defs"),r=this.name+t;return y(i,r)?n(i[r],this):void 0}}))}((function(e,n){e.DEFMETHOD("_find_defs",n)})),se.DEFMETHOD("first_statement",Xt),fe.DEFMETHOD("first_statement",Xt),ee.DEFMETHOD("first_statement",(function(){return Jt(this.body)})),ee.DEFMETHOD("length",(function(){for(var e=this.argnames,n=0;n<e.length&&!(e[n]instanceof Qe);n++);return n}));var Qt=["constructor","toString","valueOf"],ei=Gt({Array:["indexOf","join","lastIndexOf","slice"].concat(Qt),Boolean:Qt,Function:Qt,Number:["toExponential","toFixed","toPrecision"].concat(Qt),Object:Qt,RegExp:["exec","test"].concat(Qt),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(Qt)}),ti=Gt({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode","raw"]});function ii(e){if(!(e instanceof an))return!1;var n=e.expression;if(!Et(n))return!1;var t=ti[n.name];return t&&(t[e.property]||"Math"==n.name&&"random"==e.property)}!function(e){e(S,c),e(Xn,u),e(et,c);var n=_("! ~ - + void");e(un,(function(){return n[this.operator]&&this.expression instanceof Xn}))}((function(e,n){e.DEFMETHOD("is_constant",n)})),function(e){S.DEFMETHOD("evaluate",(function(e,n){if(!e.option("evaluate"))return this;var t=[],i=this._eval(e,n,t,1);return t.forEach((function(e){delete e._eval})),n||!i||i instanceof RegExp?i:"function"==typeof i||"object"==typeof i?this:i}));var n=new ut((function(e){e instanceof hn&&t(e.left),e instanceof V&&t(e.init),e instanceof cn&&It[e.operator]&&t(e.expression)}));function t(e){e instanceof yn?e.elements.forEach(t):e instanceof xn?e.properties.forEach((function(e){t(e.value)})):e instanceof on?t(e.expression):e instanceof Rn&&e.definition().references.forEach((function(e){delete e._eval}))}e(A,(function(){throw new Error(v("Cannot evaluate a statement [{file}:{line},{col}]",this.start))})),e(ne,l),e(Zn,l),e(ge,l),e(S,l),e(Xn,(function(){return this.value})),e(hn,(function(e,i,r,o){var a=this.left;if(!i){if(!(a instanceof Rn))return this;if(!y(a,"_eval")){if(!a.fixed)return this;var s=a.definition();if(!s.fixed)return this;if(s.undeclared)return this;if(s.last_ref!==a)return this;if("m"==s.single_use)return this}}var f,c=this.operator;f=!y(a,"_eval")&&a instanceof Rn&&a.fixed&&a.definition().fixed?a:"="==c?this.right:Ln(pn,this,{operator:c.slice(0,-1),left:a,right:this.right}),a.walk(n);var u=f._eval(e,i,r,o);return"object"==typeof u?this:(t(a),u)})),e(tn,(function(e,t,i,r){if(!t)return this;for(var o=this.expressions,a=0,s=o.length-1;a<s;a++)o[a].walk(n);var f=o[s],c=f._eval(e,t,i,r);return c===f?this:c})),e(ee,(function(e){if(e.option("unsafe")){var n=function(){};return n.node=this,n.toString=function(){return"function(){}"},n}return this})),e(_n,(function(e,n,t,i){if(e.option("unsafe")){for(var r=[],o=0;o<this.elements.length;o++){var a=this.elements[o];if(a instanceof ot)return this;var s=a._eval(e,n,t,i);if(a===s)return this;r.push(s)}return r}return this})),e(kn,(function(e,n,t,i){if(e.option("unsafe")){for(var r={},o=0;o<this.properties.length;o++){var a=this.properties[o];if(!(a instanceof Sn))return this;var s=a.key;if(s instanceof S&&(s=s._eval(e,n,t,i))===a.key)return this;switch(s){case"__proto__":case"toString":case"valueOf":return this}if(r[s]=a.value._eval(e,n,t,i),r[s]===a.value)return this}return r}return this}));var i=_("! typeof void");e(un,(function(e,r,o,a){var s=this.expression,f=this.operator;if(e.option("typeofs")&&"typeof"==f&&(s instanceof ee||s instanceof Rn&&s.fixed_value()instanceof ee))return"function";var c=s instanceof Rn&&s.definition();i[f]||c&&c.fixed||a++,s.walk(n);var u=s._eval(e,r,o,a);if(u===s){if(r&&"void"==f)return;return this}switch(f){case"!":return!u;case"typeof":return u instanceof RegExp?this:typeof u;case"void":return;case"~":return~u;case"-":return-u;case"+":return+u;case"++":case"--":if(!c)return this;if(!r){if(c.undeclared)return this;if(c.last_ref!==s)return this}return y(s,"_eval")&&(u=+(f[0]+1)+ +u),t(s),u}return this})),e(ln,(function(e,i,r,o){var a=this.expression;if(a instanceof Rn){if(!y(a,"_eval")){if(!a.fixed)return this;if(!i){var s=a.definition();if(!s.fixed)return this;if(s.undeclared)return this;if(s.last_ref!==a)return this}}}else if(!i)return this;a instanceof Rn&&a.definition().fixed||o++,a.walk(n);var f=a._eval(e,i,r,o);return f===a?this:(t(a),+f)}));var r=_("&& || === !==");e(pn,(function(e,n,t,i){r[this.operator]||i++;var o=this.left._eval(e,n,t,i);if(o===this.left)return this;if(this.operator==(o?"||":"&&"))return o;var a,s=n&&!(o&&"object"==typeof o),f=this.right._eval(e,s,t,i);if(f===this.right)return this;switch(this.operator){case"&&":a=o&&f;break;case"||":a=o||f;break;case"??":a=null==o?f:o;break;case"|":a=o|f;break;case"&":a=o&f;break;case"^":a=o^f;break;case"+":a=o+f;break;case"-":a=o-f;break;case"*":a=o*f;break;case"/":a=o/f;break;case"%":a=o%f;break;case"<<":a=o<<f;break;case">>":a=o>>f;break;case">>>":a=o>>>f;break;case"==":a=o==f;break;case"===":a=o===f;break;case"!=":a=o!=f;break;case"!==":a=o!==f;break;case"<":a=o<f;break;case"<=":a=o<=f;break;case">":a=o>f;break;case">=":a=o>=f;break;case"**":a=Math.pow(o,f);break;case"in":if(f&&"object"==typeof f&&y(f,o)){a=!0;break}default:return this}if(isNaN(a))return e.find_parent(X)?this:a;if(e.option("unsafe_math")&&!n&&a&&"number"==typeof a&&("+"==this.operator||"-"==this.operator)){var c=Math.max(0,u(o),u(f));if(c<16)return+a.toFixed(c)}return a;function u(e){var n=/(\.[0-9]*)?(e[^e]+)?$/.exec(+e);return(n[1]||".").length-1-(n[2]||"").slice(1)}})),e(dn,(function(e,n,t,i){var r=this.condition._eval(e,n,t,i);if(r===this.condition)return this;var o=r?this.consequent:this.alternative,a=o._eval(e,n,t,i);return a===o?this:a})),e(Rn,(function(e,n,t,i){var r,o=this.fixed_value();if(!o)return this;if(y(o,"_eval"))r=o._eval();else{if(this._eval=l,r=o._eval(e,n,t,i),delete this._eval,r===o)return this;o._eval=function(){return r},t.push(o)}return r&&"object"==typeof r&&!function(e,n){var t=e.definition().escaped;switch(t.length){case 0:return!0;case 1:var i=!1;return t[0].walk(new ut((function(n){return!!i||(n===e?i=!0:n instanceof K||void 0)}))),i;default:return n<=t.depth}}(this,i)?this:r}));var o={Array:Array,Math:Math,Number:Number,Object:Object,String:String},a=Gt({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),s=_("global ignoreCase multiline source");function f(e,n,t,i,r){for(var o=[],a=0;a<e.length;a++){var s=e[a],f=s._eval(n,t,i,r);if(s===f)return;o.push(f)}return o}e(on,(function(e,n,t,i){if(e.option("unsafe")){var r,f=this.expression;if(!Et(f)&&(null==(r=f._eval(e,n,t,i+1))||r===f))return this;var c=this.property;if(c instanceof S&&(c=c._eval(e,n,t,i))===this.property)return this;if(void 0===r){var u=a[f.name];if(!u||!u[c])return this;r=o[f.name]}else if(r instanceof RegExp){if(!s[c])return this}else if("object"==typeof r){if(!y(r,c))return this}else if("function"==typeof r)switch(c){case"name":return r.node.name?r.node.name.name:"";case"length":return r.node.length();default:return this}return r[c]}return this})),e(en,(function(e,t,i,r){var a=this.expression,s=a instanceof Rn?a.fixed_value():a;if(s instanceof se||s instanceof me||s instanceof le){if(s.evaluating)return this;if(s.name&&s.name.definition().recursive_refs>0)return this;if(this.is_expr_pure(e))return this;var c=f(this.args,e,t,i,r);if(!g(s.argnames,(function(n,o){if(n instanceof Qe){if(!c)return!1;if(void 0===c[o]){var a=n.value._eval(e,t,i,r);if(a===n.value)return!1;c[o]=a}n=n.name}return!(n instanceof gn)})))return this;if(s.rest instanceof gn)return this;if(!c&&!t)return this;var u=s.first_statement();if(!(u instanceof Oe)){if(t){s.walk(n);var l=!1;if(s.evaluating=!0,P(s,new ut((function(n){return!!l||(n instanceof Oe?(n.value&&void 0!==n.value._eval(e,!0,i,r)&&(l=!0),!0):n instanceof K&&n!==s||void 0)}))),s.evaluating=!1,!l)return}return this}if(!(d=u.value))return;var p=[];return(!c||g(s.argnames,(function(e,n){return b(e,c[n])}))&&(!s.rest||b(s.rest,c.slice(s.argnames.length)))||t)&&(t&&s.argnames.forEach((function(e){e instanceof Qe&&e.value.walk(n)})),s.evaluating=!0,d=d._eval(e,t,i,r),s.evaluating=!1),p.forEach((function(e){delete e._eval})),d===u.value?this:d}if(e.option("unsafe")&&a instanceof on){var d,h=a.property;if(h instanceof S&&(h=h._eval(e,t,i,r))===a.property)return this;var v=a.expression;if(Et(v)){var m=ti[v.name];if(!m||!m[h])return this;d=o[v.name]}else{if(null==(d=v._eval(e,t,i,r+1))||d===v)return this;var _=ei[d.constructor.name];if(!_||!_[h])return this;if(d instanceof RegExp&&d.global&&!(v instanceof et))return this}if(!(c=f(this.args,e,t,i,r)))return this;if("replace"==h&&"function"==typeof c[1])return this;try{return d[h].apply(d,c)}catch(y){S.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this,file:this.start.file,line:this.start.line,col:this.start.col})}finally{d instanceof RegExp&&(d.lastIndex=0)}}return this;function b(e,n){e instanceof Qe&&(e=e.name);var t=e.definition();if(t.orig[t.orig.length-1]!==e)return!1;var i=n;return t.references.forEach((function(e){e._eval=function(){return i},p.push(e)})),!0}})),e(nn,l),e(Jn,(function(e,n,t,i){if(!e.option("templates"))return this;if(this.tag){if(!Xi(e,this.tag))return this;c=function(e){return e}}var r=f(this.expressions,e,n,t,i);if(!r)return this;for(var o=!1,a=c(this.strings[0]),s=0;s<r.length;s++)a+=r[s]+c(this.strings[s+1]);return o?(this._eval=l,this):a;function c(e){return"string"!=typeof(e=Ki(e))&&(o=!0),e}}))}((function(e,n){e.DEFMETHOD("_eval",n)})),function(e){function n(e){return Ln(un,e,{operator:"!",expression:e})}function t(e,t,i){var r=n(e);if(i){var o=Ln(M,t,{body:t});return Ht(r,o)===o?t:r}return Ht(r,t)}e(S,(function(){return n(this)})),e(A,(function(){throw new Error("Cannot negate a statement")})),e(pn,(function(e,i){var r=this.clone(),o=this.operator;if(e.option("unsafe_comps"))switch(o){case"<=":return r.operator=">",r;case"<":return r.operator=">=",r;case">=":return r.operator="<",r;case">":return r.operator="<=",r}switch(o){case"==":return r.operator="!=",r;case"!=":return r.operator="==",r;case"===":return r.operator="!==",r;case"!==":return r.operator="===",r;case"&&":return r.operator="||",r.left=r.left.negate(e,i),r.right=r.right.negate(e),t(this,r,i);case"||":return r.operator="&&",r.left=r.left.negate(e,i),r.right=r.right.negate(e),t(this,r,i)}return n(this)})),e(ye,(function(){return n(this)})),e(dn,(function(e,n){var i=this.clone();return i.consequent=i.consequent.negate(e),i.alternative=i.alternative.negate(e),t(this,i,n)})),e(te,(function(){return n(this)})),e(tn,(function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),nt(this,n)})),e(un,(function(){return"!"==this.operator?this.expression:n(this)}))}((function(e,n){e.DEFMETHOD("negate",(function(e,t){return n.call(this,e,t)}))}));var ri=_("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError"),oi=_("Map Set WeakMap WeakSet");function ai(e){return e&&e.aborts()}en.DEFMETHOD("is_expr_pure",(function(e){if(e.option("unsafe")){var n=this.expression;if(Et(n)){if(ri[n.name])return!0;if(this instanceof nn&&oi[n.name])return!0}if(ii(n))return!0}return e.option("annotations")&&this.pure||!e.pure_funcs(this)})),Jn.DEFMETHOD("is_expr_pure",(function(e){var n=this.tag;if(!n)return!0;if(e.option("unsafe")){if(Et(n)&&ri[n.name])return!0;if(n instanceof an&&Et(n.expression)){var t=ti[n.expression.name];return t&&(t[n.property]||"Math"==n.expression.name&&"random"==n.property)}}return!e.pure_funcs(this)})),S.DEFMETHOD("is_call_pure",c),en.DEFMETHOD("is_call_pure",(function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof an))return!1;var t,i=n.expression,r=n.property;if(i instanceof _n)t=ei.Array;else if(i.is_boolean(e))t=ei.Boolean;else if(i.is_number(e))t=ei.Number;else if(i instanceof et)t=ei.RegExp;else if(i.is_string(e)){if(t=ei.String,"replace"==r){var o=this.args[1];if(o&&!o.is_string(e))return!1}}else n.may_throw_on_access(e)||(t=ei.Object);return t&&t[r]})),function(e){e(S,c),e(_n,u),e(hn,(function(){switch(this.operator){case"=":return this.right.safe_to_spread();case"&&=":case"||=":case"??=":return this.left.safe_to_spread()&&this.right.safe_to_spread()}return!0})),e(pn,(function(){return!Nt[this.operator]||this.left.safe_to_spread()&&this.right.safe_to_spread()})),e(Xn,u),e(ee,u),e(kn,(function(){return g(this.properties,(function(e){return!(e instanceof Dn||e instanceof fn)}))})),e(tn,(function(){return this.tail_node().safe_to_spread()})),e(Rn,(function(){var e=this.fixed_value();return e&&e.safe_to_spread()})),e(cn,u)}((function(e,n){e.DEFMETHOD("safe_to_spread",n)})),function(e){function n(e,n,t){return!g(e,t?function(e){return e instanceof fn?!t(e,n):!e.has_side_effects(n)}:function(e){return!e.has_side_effects(n)})}function t(e,n){var t=e.expression;return!t.is_string(n)||t.has_side_effects(n)}e(S,u),e(_n,(function(e){return n(this.elements,e,t)})),e(hn,(function(e){var n=this.left;if(!(n instanceof on))return!0;var t=n.expression;return!(t instanceof Un)||!t.scope.resolve().new||n instanceof sn&&n.property.has_side_effects(e)||this.right.has_side_effects(e)})),e(pn,(function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)||!Li(this.operator,this.right,e)})),e(j,(function(e){return n(this.body,e)})),e(en,(function(e){return!(this.is_expr_pure(e)||this.is_call_pure(e)&&!this.expression.has_side_effects(e))||n(this.args,e,t)})),e(Ne,(function(e){return this.expression.has_side_effects(e)||n(this.body,e)})),e(ge,(function(e){var t=this.extends;return!(!t||(t instanceof Rn&&(t=t.fixed_value()),a(t)))||n(this.properties,e)})),e(we,(function(e){return this.key instanceof S&&this.key.has_side_effects(e)||this.static&&this.value&&this.value.has_side_effects(e)})),e(dn,(function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)})),e(Xn,c),e(Re,(function(e){return n(this.definitions,e)})),e(yn,(function(e){return n(this.elements,e)})),e(wn,(function(e){return this.key instanceof S&&this.key.has_side_effects(e)||this.value.has_side_effects(e)})),e(xn,(function(e){return n(this.properties,e)})),e(an,(function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)})),e($,c),e(Me,(function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)})),e(H,(function(e){return this.body.has_side_effects(e)})),e(ee,c),e(kn,(function(e){return n(this.properties,e,(function(e,n){var t=e.expression;return!t.safe_to_spread()||t.has_side_effects(n)}))})),e(Un,c),e(En,(function(e){return this.key instanceof S&&this.key.has_side_effects(e)||this.value.has_side_effects(e)})),e(tn,(function(e){return n(this.expressions,e)})),e(M,(function(e){return this.body.has_side_effects(e)})),e(sn,(function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)})),e(Fe,(function(e){return this.expression.has_side_effects(e)||n(this.body,e)})),e($n,c),e(Rn,(function(e){return!this.is_declared(e)||!k(this,e)})),e(Jn,(function(e){return!this.is_expr_pure(e)||n(this.expressions,e)})),e(Ie,(function(e){return n(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)})),e(cn,(function(e){return Vt[this.operator]||this.expression.has_side_effects(e)})),e(Ve,(function(){return this.value}))}((function(e,n){e.DEFMETHOD("has_side_effects",n)})),function(e){function n(e,n){for(var t=e.length;--t>=0;)if(e[t].may_throw(n))return!0;return!1}function t(e,t){return!!e.may_throw(t)||(e instanceof Rn&&(e=e.fixed_value()),!(e instanceof ee)||(!!n(e.argnames,t)||(!!n(e.body,t)||ie(e)&&e.value&&e.value.may_throw(t))))}e(S,u),e(Xn,c),e($,c),e(ee,c),e(Un,c),e($n,c),e(_n,(function(e){return n(this.elements,e)})),e(hn,(function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Rn)&&this.left.may_throw(e)})),e(vn,(function(e){return this.expression.may_throw(e)})),e(pn,(function(e){return this.left.may_throw(e)||this.right.may_throw(e)||!Li(this.operator,this.right,e)})),e(j,(function(e){return n(this.body,e)})),e(en,(function(e){if(n(this.args,e))return!0;if(this.is_expr_pure(e))return!1;this.may_throw=u;var i=t(this.expression,e);return delete this.may_throw,i})),e(Ne,(function(e){return this.expression.may_throw(e)||n(this.body,e)})),e(dn,(function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)})),e(Qe,(function(e){return this.name.may_throw(e)||this.value&&this.value.may_throw(e)})),e(Re,(function(e){return n(this.definitions,e)})),e(an,(function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e)})),e(V,(function(e){if(this.init.may_throw(e))return!0;var n=this.object;return!!n.may_throw(e)||(!((n=n.tail_node())instanceof _n||n.is_string(e))||this.body.may_throw(e))})),e(Me,(function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)})),e(H,(function(e){return this.body.may_throw(e)})),e(kn,(function(e){return n(this.properties,e)})),e(En,(function(e){return this.value.may_throw(e)||this.key instanceof S&&this.key.may_throw(e)})),e(Oe,(function(e){return this.value&&this.value.may_throw(e)})),e(tn,(function(e){return n(this.expressions,e)})),e(M,(function(e){return this.body.may_throw(e)})),e(sn,(function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)})),e(Fe,(function(e){return this.expression.may_throw(e)||n(this.body,e)})),e(Rn,(function(e){return!this.is_declared(e)||!k(this,e)})),e(Jn,(function(e){if(n(this.expressions,e))return!0;if(this.is_expr_pure(e))return!1;if(!this.tag)return!1;this.may_throw=u;var i=t(this.tag,e);return delete this.may_throw,i})),e(Ie,(function(e){return(this.bcatch?this.bcatch.may_throw(e):n(this.body,e))||this.bfinally&&this.bfinally.may_throw(e)})),e(cn,(function(e){return this.expression.may_throw(e)&&!("typeof"==this.operator&&this.expression instanceof Rn)})),e(Ve,(function(e){return this.name.may_throw(e)||this.value&&this.value.may_throw(e)}))}((function(e,n){e.DEFMETHOD("may_throw",n)})),function(e){function n(e,n){for(var t=e.length;--t>=0;)if(!e[t].is_constant_expression(n))return!1;return!0}e(S,c),e(_n,(function(e){return n(this.elements,e)})),e(pn,(function(e){return this.left.is_constant_expression(e)&&this.right.is_constant_expression(e)&&Li(this.operator,this.right)})),e(ge,(function(e){var t=this.extends;return!(t&&!a(t))&&n(this.properties,e)})),e(we,(function(e){return"string"==typeof this.key&&(!this.value||this.value.is_constant_expression(e))})),e(Xn,u),e(ee,(function(e){var n=this,t=!0,r=[];return n.walk(new ut((function(o,a){if(!t)return!0;if(o instanceof F){if(o===n)return;return r.push(o),a(),r.pop(),!0}if(o instanceof Rn){if(n.inlined||o.redef)return t=!1,!0;if(n.variables.has(o.name))return!0;var s=o.definition();if(i(s.scope,r))return!0;if(e&&!s.redefined()){var f=e.find_variable(o.name);if(f?f===s:s.undeclared)return t="f",!0}return t=!1,!0}return o instanceof Un?(ie(n)&&g(r,(function(e){return!(e instanceof K)||ie(e)}))&&(t=!1),!0):void 0}))),t})),e(kn,(function(e){return n(this.properties,e)})),e(En,(function(e){return"string"==typeof this.key&&this.value.is_constant_expression(e)})),e(cn,(function(e){return this.expression.is_constant_expression(e)}))}((function(e,n){e.DEFMETHOD("is_constant_expression",n)})),function(e){function n(){var e=this.body.length;return e>0&&ai(this.body[e-1])}e(A,p),e(Ae,l),e(N,n),e(Pe,n),e(Me,(function(){return this.alternative&&ai(this.body)&&ai(this.alternative)&&this}))}((function(e,n){e.DEFMETHOD("aborts",n)}));var si=_(["use asm","use strict"]);function fi(e,n,t){switch(e.body.length){case 0:return t?d.skip:Ln($,e);case 1:var i=e.body[0];return _t(i)?n instanceof Y&&i instanceof de?e:i:e}return e}function ci(e,n){n.option("rests")&&(e.uses_arguments||e.rest instanceof yn&&n.drop_fargs(e,n.parent())&&(e.argnames=e.argnames.concat(e.rest.elements),e.rest=e.rest.rest))}function ui(e,n){if(!n.option("arrows"))return e;ci(e,n);var t=Ft(e.value?[e.first_statement()]:e.body,n);switch(t.length){case 1:var i=t[0];if(i instanceof Oe){e.body.length=0,e.value=i.value;break}default:e.body=t,e.value=null}return e}e(O,(function(e,n){return!n.option("directives")||si[e.value]&&n.has_directive(e.value)===e?e:Ln($,e)})),e(D,(function(e,n){return n.option("drop_debugger")?Ln($,e):e})),e(H,(function(e,n){if(e.body instanceof Me||e.body instanceof qe){var t=Ft([e.body],n);switch(t.length){case 0:e.body=Ln($,e);break;case 1:e.body=t[0];break;default:e.body=Ln(N,e,{body:t})}}return n.option("unused")&&0==e.label.references.length?e.body:e})),e(ze,(function(e,n){if(!n.option("dead_code"))return e;var t=e.label;if(t){var i=n.loopcontrol_target(e);e.label=null,n.loopcontrol_target(e)===i?m(t.thedef.references,e):e.label=t}return e})),e(j,(function(e,n){return e.body=Ft(e.body,n),e})),e(N,(function(e,n){return e.body=Ft(e.body,n),fi(e,n.parent())})),e(ee,(function(e,n){return ci(e,n),e.body=Ft(e.body,n),e})),e(se,ui),e(fe,ui),e(le,(function(e,n){ci(e,n),e.body=Ft(e.body,n);var t=n.parent();if(n.option("inline"))for(var i=0;i<e.body.length;i++){var r=e.body[i];if(!(r instanceof O)){if(r instanceof Oe){if(i!=e.body.length-1)break;var o=r.value;if(!o||"Call"!=o.TYPE)break;if(o.is_expr_pure(n))break;var a=o.expression;if(a instanceof Rn){if(e.name&&e.name.definition()===a.definition())break;a=a.fixed_value()}if(!(a instanceof me||a instanceof le))break;if(a.rest)break;if(a.uses_arguments)break;if(a===o.expression){if(a.parent_scope!==e)break;if(!g(a.enclosed,(function(n){return n.scope!==e})))break}if(a.name&&(t instanceof Se||t instanceof Tn)&&t.value===n.self())break;if(a.contains_this())break;var s=a.argnames.length;if(s>0&&n.option("inline")<2)break;if(s>e.argnames.length)break;if(!g(e.argnames,(function(e){return e instanceof Fn})))break;if(!g(o.args,(function(e){return!(e instanceof fn)})))break;for(var f=0;f<s;f++){var c=o.args[f];if(!(c instanceof Rn))break;if(c.definition()!==e.argnames[f].definition())break}if(f<s)break;for(;f<o.args.length&&!o.args[f].has_side_effects(n);f++);if(f<o.args.length)break;if(s<e.argnames.length&&!n.drop_fargs(e,t)){if(!n.drop_fargs(a,o))break;do{a.argnames.push(a.make_var(Fn,a,"argument_"+s))}while(++s<e.argnames.length)}return o.expression}break}}return e}));var li=_("arguments await yield");function pi(e,n){for(var t=n.length;--t>=0;)n[t]||(n[t]=Ln(ot,e))}function di(e,n){var t=Ln(ye,e,e);return t.name&&(t.name=n?null:Ln(In,t.name,t.name)),t}function hi(e,n){var t;switch(e.CTOR){case he:t=ce;break;case ve:t=ue;break;case me:t=le;break;case _e:t=pe}var i=Ln(t,e,e);return i.name=n?null:Ln(jn,e.name,e.name),i}function vi(e,n){e.walk(new ut((function(t){return t instanceof Oe?(n(t),!0):t instanceof K&&t!==e||void 0})))}function mi(e){var n=Object.create(null);return vi(e,(function(e){var t=e.value;if(t&&(t=t.tail_node()),t instanceof Rn){var i=t.definition().id;n[i]=(n[i]||0)+1}})),n}function _i(e,n,t){if(t.exposed(e))return!1;switch(e.references.length-e.replaced-(n[e.id]||0)){case e.drop_return:return"d";case e.bool_return:return!0}}function gi(e,n){vi(e,(function(e){e.in_bool=!0;var t=e.value;if(t){var i=Ei(n,t);i?i instanceof S||(t=t.drop_side_effect_free(n),e.value=t?nt(e.value,[t,Ln(Qn,e.value,{value:1})]):Ln(Qn,e.value,{value:1})):(t=t.drop_side_effect_free(n),e.value=t?nt(e.value,[t,Ln(Qn,e.value,{value:0})]):null)}}))}function bi(e,n){if(!e.name||!n.option("ie"))return!0;var t=e.name.definition();return!n.exposed(t)&&g(t.references,(function(e){return!(e instanceof Rn)}))}function yi(e,n,t){if(n instanceof ee){var i=ie(n),r=re(n),o=!1,a=!1;if(i&&e.option("arrows"))if(n.value){if(!r||Ui(e,n.value)){var s=n.value.drop_side_effect_free(e);s!==n.value&&(o=!0,n.value=s)}}else a=!0;else if(!oe(n))if(!t&&n.name){var f=n.name.definition();a=f.references.length==f.replaced}else a=!0;if(a&&(n.process_expression(!1,(function(n){var t=n.value;if(t){if(r&&!Ui(e,t))return n;t=t.drop_side_effect_free(e,!0)}return o=!0,t?Ln(M,n,{body:t}):Ln($,n)})),vi(n,(function(n){var t=n.value;if(t){if(r&&!Ui(e,t))return;var i=t.drop_side_effect_free(e);i!==t&&(o=!0,i&&r&&!Ui(e,i)&&(i=i.negate(e)),n.value=i)}}))),r&&e.option("awaits")){a&&n.process_expression("awaits",(function(n){var t=n.body;if(t instanceof vn){if(Ui(e,t.expression)){if(o=!0,!(t=t.expression.drop_side_effect_free(e,!0)))return Ln($,n);n.body=t}}else if(t instanceof tn){for(var i=t.expressions,r=i.length;--r>=0;){var a=i[r];if(!(a instanceof vn))break;var s=a.expression;if(!Ui(e,s))break;if(o=!0,i[r]=s.drop_side_effect_free(e))break}switch(r){case-1:return Ln($,n);case 0:n.body=i[0];break;default:i.length=r+1}}return n}));var c=!a&&n.name||i&&n.value&&!Ui(e,n.value),u=new ut((function(t){return!!c||(u.parent()===n&&t.may_throw(e)||t instanceof vn||t instanceof J?c=!0:t instanceof Oe?t.value&&!Ui(e,t.value)?c=!0:void 0:t instanceof K&&t!==n||void 0)}));if(n.walk(u),!c){var l;switch(n.CTOR){case fe:l=se;break;case ce:l=le;break;case ue:l=pe}return Ln(l,n,n)}}return o&&n.clone()}}function wi(e,n,t){t||(t=ze);var i=!1,r=new ut((function(n){return!!(i||n instanceof K)||(n instanceof t&&r.loopcontrol_target(n)===e?i=!0:void 0)}));return n instanceof H&&r.push(n),r.push(e),e.body.walk(r),i}function xi(e,n){var t=a(e.body);if(n.option("dead_code")&&(t instanceof qe||t instanceof Ce&&s(t)||t instanceof De)){var i=[];z(e.init)?i.push(e.init):e.init&&i.push(Ln(M,e.init,{body:e.init}));var r=s(t)||t instanceof De;return e.condition&&r?i.push(Ln(Me,e,{condition:e.condition,body:t,alternative:null})):e.condition?i.push(Ln(M,e.condition,{body:e.condition})):r&&i.push(t),Pt(n,e.body,i),Ln(N,e,{body:i})}if(t instanceof Me){var o=a(t.body);if(o instanceof qe&&!s(o)){e.condition?e.condition=Ln(pn,e.condition,{left:e.condition,operator:"&&",right:t.condition.negate(n)}):e.condition=t.condition.negate(n);i=gt(t.alternative);return Pt(n,t.body,i),f(i)}if((o=a(t.alternative))instanceof qe&&!s(o)){e.condition?e.condition=Ln(pn,e.condition,{left:e.condition,operator:"&&",right:t.condition}):e.condition=t.condition;i=gt(t.body);return Pt(n,t.alternative,i),f(i)}}return e;function a(e){return e instanceof N?e.body[0]:e}function s(e){return n.loopcontrol_target(e)!==n.self()}function f(t){return e.body instanceof N?(e.body=e.body.clone(),e.body.body=t.concat(e.body.body.slice(1)),e.body=e.body.transform(n)):e.body=Ln(N,e.body,{body:t}).transform(n),xi(e,n)}}function ki(e,n,t){if(e instanceof tn&&(e=e.tail_node()),e instanceof pn)if(e.left instanceof Kn){if(e.right instanceof un&&"typeof"==e.right.operator){var i=e.right.expression;if(Et(i)){var r,o="undefined"==e.left.value;switch(e.operator){case"==":r=o?t:n;break;case"!=":r=o?n:t;break;default:return}if(r){var a,s=!1,f=i.definition(),c=[],u=[],l=new ut((function(e,n){if(s)return!0;if(e instanceof hn){var t=e.left;if(!(t instanceof Rn&&t.definition()===f))return;switch(e.right.walk(l),e.operator){case"=":case"&&=":s=!0}return!0}if(e instanceof en)return n(),(a=e.expression.tail_node())instanceof Rn&&(a=a.fixed_value(),i=c.length),a instanceof ee?h(u,a)&&a.walk(l):s=!0,i>=0&&(c.length=i),!0;if(e instanceof R){var i=c.length;return n(),s&&(c.length=i),!0}if(e instanceof U){e.init&&e.init.walk(l);i=c.length;return e.condition&&e.condition.walk(l),e.body.walk(l),e.step&&e.step.walk(l),s&&(c.length=i),!0}if(e instanceof V){e.object.walk(l);i=c.length;return e.init.walk(l),e.body.walk(l),s&&(c.length=i),!0}if(e instanceof K){if(e===a)return;return!0}return e instanceof Rn?(e.definition()===f&&c.push(e),!0):void 0}));r.walk(l),c.forEach((function(e){e.defined=!0}))}}}}else switch(e.operator){case"&&":ki(e.left,n),ki(e.right,n);break;case"||":ki(p(e.left),t),ki(p(e.right),t)}function p(e){if(e instanceof pn)switch(e.operator){case"==":return(e=e.clone()).operator="!=",e;case"!=":return(e=e.clone()).operator="==",e}}}function Ei(e,n,t){return!!n.truthy||(jt(n)?void 0:!(n.falsy&&!t)&&(!!n.is_truthy()||n.evaluate(e,!0)))}function Si(e,n){var t,i=0,r=!1,o=e.self();if(!z(o))for(;;){if(t=o,(o=e.parent(i++))instanceof pn)switch(t){case o.left:if(Nt[o.operator])continue;break;case o.right:if(s(o.left))switch(o.operator){case"&&":n[r?"falsy":"truthy"]=!0;break;case"||":case"??":n[r?"truthy":"falsy"]=!0}}else if(o instanceof dn){var a=o.condition;if(a===t)continue;if(s(a))switch(t){case o.consequent:n[r?"falsy":"truthy"]=!0;break;case o.alternative:n[r?"truthy":"falsy"]=!0}}else{if(o instanceof De)break;if(o instanceof Me)break;if(o instanceof tn){if(o.expressions[0]===t)continue}else if(o instanceof M)break}return}for(;;){if(t=o,(o=e.parent(i++))instanceof N){if(o.body[0]===t)continue}else if(o instanceof Me&&s(o.condition))switch(t){case o.body:n[r?"falsy":"truthy"]=!0;break;case o.alternative:n[r?"truthy":"falsy"]=!0}return}function s(e){return!!n.equivalent_to(e)||e instanceof un&&("!"==e.operator&&(!!n.equivalent_to(e.expression)&&(r=!0,!0)))}}function Ti(e){return function(n,t){var i=!1;return this.definitions.forEach((function(r){r.value&&(i=!0),r.name.match_symbol((function(i){i instanceof $n&&t.push(Ln(Ve,i,{name:i,value:e(n,i)}))}),!0)})),i}}function Ai(e){return"arguments"!=e.name&&e.orig.length<(e.orig[0]instanceof jn?3:2)}function Di(e,n){if(e.exposed(n))return!0;for(var t=n.scope.resolve(),i=n.scope;i!==t;)if((i=i.parent_scope).var_names().has(n.name))return!0}function Oi(e){return Ln(Ue,e,{definitions:e.definitions.map((function(e){return Ln(Ve,e,{name:e.name.convert_symbol(Mn,(function(e,n){var t=e.definition();t.orig[t.orig.indexOf(n)]=e;var i=t.scope.resolve();t.scope!==i&&(t.scope=i,i.variables.set(t.name,t),i.enclosed.push(t),i.var_names().set(t.name,!0))})),value:e.value})}))})}function $i(e,n){if(!n.fixed_value())return!1;var t=n.definition();return Ai(t)&&Ji(t)&&!Di(e,t)}function zi(e,n){return n.option("varify")&&g(e.definitions,(function(e){return!e.name.match_symbol((function(e){if(e instanceof $n)return!$i(n,e)}),!0)}))?Oi(e):e}function qi(e,n){if(n.option("optional_chains")&&e.terminal)do{var t=e.expression;if(e.optional){var i=Ei(n,t,!0);if(null==i)return Ln(un,e,{operator:"void",expression:t}).optimize(n);i instanceof S||(e.optional=!1)}e=t}while(("Call"==e.TYPE||e instanceof on)&&!e.terminal)}function Ci(e,n){var t=e.expression;if(!(t instanceof tn))return e;var i=t.expressions.slice(),r=e.clone();return r.expression=i.pop(),i.push(r),nt(e,i)}function Mi(e,n,t){var i=e.expression,r=i instanceof Rn?i.fixed_value():i;if(r instanceof ee&&!r.uses_arguments&&!r.pinned()&&!(t&&t.indexOf(r)<0)){var o=e.args;if(g(o,(function(e){return!(e instanceof fn)}))){var a=r.argnames,s=r===i&&!r.name;if(r.rest){if(!s||!n.option("rests"))return;var f=a.length;for(o=o.slice(0,f);o.length<f;)o.push(Ln(rt,e).optimize(n));o.push(Ln(_n,e,{elements:e.args.slice(f)})),a=a.concat(r.rest),r.rest=null}else o=o.slice(),a=a.slice();for(var u=0,l=0,p=s&&n.option("default_values"),d=s&&n.drop_fargs(r,e)?function(e,t){return!e||(e instanceof yn?0==e.elements.length&&!e.rest&&t instanceof _n:e instanceof xn?0==e.properties.length&&!e.rest&&t&&!t.may_throw_on_access(n):e.unused)}:c,h=[],v=0;v<o.length;v++){var m=a[v];if(p&&m instanceof Qe&&o[v].is_defined(n)&&(a[v]=m=m.name),m&&void 0===m.unused){if(d(m,o[v])){_=o[v].drop_side_effect_free(n);a.splice(v,1),o.splice(v,1),_&&h.push(_),v--;continue}h.push(o[v]),o[u++]=nt(e,h),h=[]}else{var _=o[v].drop_side_effect_free(n);if(d(m)){m&&a.splice(v,1),o.splice(v,1),_&&h.push(_),v--;continue}if(_)h.push(_),o[u++]=nt(e,h),h=[];else if(m){if(!h.length){o[u++]=Ln(Qn,o[v],{value:0});continue}o[u++]=nt(e,h),h=[]}}l=u}for(;v<a.length;v++)d(a[v])&&a.splice(v--,1);if(r.argnames=a,o.length=l,e.args=o,h.length){var b=nt(e,h);o.push(o.length<a.length?Ln(un,e,{operator:"void",expression:b}):b)}}}}function Fi(e,n){n||(n=e.find_parent(K));var t=[];return(re(n)||n instanceof Q&&e.option("module"))&&t.push("await"),oe(n)&&t.push("yield"),t.length&&_(t)}function Pi(e,n){if(!n)return!0;var t=!0,i=new ut((function(r){if(!t)return!0;if(r instanceof K){if(r===e)return;if(ie(r))for(var o=0;t&&o<r.argnames.length;o++)r.argnames[o].walk(i);else r instanceof de&&n[r.name.name]&&(t=!1);return!0}r instanceof On&&n[r.name]&&r!==e.name&&(t=!1)}));return e.walk(i),t}function ji(e,n){return e.in_strict_mode(n)||!n.has_directive("use strict")}function Ni(e,n,t,i){if(i instanceof pn&&("&&"==i.operator||"||"==i.operator)&&i.right instanceof hn&&"="==i.right.operator&&i.right.left instanceof Rn&&i.right.left.definition()===n&&!t.has_side_effects(e)&&r(i.left)&&r(i.right.right))return n.replaced++,"&&"==i.operator?Ln(dn,i,{condition:i.left,consequent:i.right.right,alternative:t}):Ln(dn,i,{condition:i.left,consequent:t,alternative:i.right.right});function r(t){if(!t.has_side_effects(e)){var i=!1;return t.walk(new ut((function(e){return!!i||(e instanceof Rn&&e.definition()===n?i=!0:void 0)}))),!i}}}K.DEFMETHOD("merge_variables",(function(e){if(e.option("merge_vars")){var n,t,i=[],r={},o=this,a=[],s=[],f=0,c=new b,u=Object.create(null),l=Object.create(null),p=new ut((function(a,s){if(a instanceof hn){var f=a.left,l=a.right;return f instanceof gn?(l.walk(p),D(Rn,O,f),!0):Nt[a.operator.slice(0,-1)]?(f.walk(p),T(),l.walk(p),f instanceof Rn&&O(f),A(),!0):f instanceof Rn?("="!=a.operator&&O(f,!0),l.walk(p),O(f),!0):void 0}if(a instanceof pn){if(!Nt[a.operator])return;return w(a),!0}var d;if(a instanceof qe)return(d=p.loopcontrol_target(a))instanceof Y||$(d),!0;if(a instanceof en)return(m=a.expression)instanceof te?(a.args.forEach((function(e){e.walk(p)})),m.walk(p)):(s(),y(m)),!0;if(a instanceof ge)return a.name&&a.name.walk(p),a.extends&&a.extends.walk(p),a.properties.filter((function(e){return e.key instanceof S&&e.key.walk(p),e.value})).forEach((function(e){e.static?e.value.walk(p):(T(),r.block=a,e.value.walk(p),A())})),!0;if(a instanceof dn)return w(a.condition,a.consequent,a.alternative),!0;if(a instanceof Ce)return(d=p.loopcontrol_target(a))instanceof B&&$(d),!0;if(a instanceof B){T(),r.block=a,r.loop=!0;var h=r;return a.body.walk(p),r.inserted===a&&(r=h),a.condition.walk(p),A(),!0}if(a instanceof U)return a.init&&a.init.walk(p),T(),r.block=a,r.loop=!0,a.condition&&a.condition.walk(p),a.body.walk(p),a.step&&a.step.walk(p),A(),!0;if(a instanceof V)return a.object.walk(p),T(),r.block=a,r.loop=!0,a.init.walk(p),a.body.walk(p),A(),!0;if(a instanceof Me)return w(a.condition,a.body,a.alternative),!0;if(a instanceof H){T(),r.block=a;h=r;return a.body.walk(p),r.inserted===a&&(r=h),A(),!0}if(a instanceof K){if(T(),r.block=a,a===o&&(t=r),a instanceof ee){a.name&&(u[a.name.definition().id]=!1);var v=a.uses_arguments&&!p.has_directive("use strict")?function(e){u[e.definition().id]=!1}:function(e){O(e)};i.push(a),a.argnames.forEach((function(e){D(Fn,v,e)})),a.rest&&D(Fn,v,a.rest),i.pop()}return ae(a,p),A(),!0}if(a instanceof sn){var m=a.expression;return a.optional?(m.walk(p),T(),a.property.walk(p),A()):s(),y(m),!0}if(a instanceof Fe){a.expression.walk(p);h=r;return a.body.forEach((function(e){e instanceof je||(e.expression.walk(p),h===r&&T())})),r=h,a.body.forEach((function(e){T(),r.block=a;var n=r;P(e,p),r.inserted===a&&(r=n),A()})),!0}if(a instanceof zn||a instanceof Cn)return u[a.definition().id]=!1,!0;if(a instanceof Rn)return O(a,!0),!0;if(a instanceof Ie){var _=n;return n=a,P(a,p),a.bcatch&&(a.bcatch.argname&&a.bcatch.argname.mark_symbol((function(e){if(e instanceof Hn){var n=e.definition();u[n.id]=!1,(n=n.redefined())&&(u[n.id]=!1)}}),p),a.bfinally||(n=_)?P(a.bcatch,p):(T(),P(a.bcatch,p),A())),n=_,a.bfinally&&a.bfinally.walk(p),!0}if(a instanceof cn){if(!It[a.operator])return;var g=a.expression;if(!(g instanceof Rn))return;return O(g,!0),!0}if(a instanceof Ve){var b=a.value;return b?b.walk(p):b=r.block instanceof V&&r.block.init===p.parent(),a.name.mark_symbol(b?function(e){if(e instanceof $n)return e instanceof Mn?O(e):u[e.definition().id]=!1,!0}:function(e){if(e instanceof $n){var n=e.definition().id;return e instanceof Mn?n in u?u[n]&&u[n].push(e):c.add(n,e):u[n]=!1,!0}},p),!0}if(a instanceof L)return T(),r.block=a,r.loop=!0,s(),A(),!0;function y(n){if(e.option("ie")){var t=rn(n);t instanceof Rn&&t.walk(p)}}function w(e,n,t){var i=r,o=[i,i];if(e instanceof pn)switch(e.operator){case"&&":o[0]=w(e.left,e.right)[0];break;case"||":case"??":o[1]=w(e.left,null,e.right)[1];break;default:e.walk(p)}else e instanceof dn?w(e.condition,e.consequent,e.alternative):e.walk(p);return r=o[0],n&&(T(),n.walk(p)),o[0]=r,r=o[1],t&&(T(),t.walk(p)),o[1]=r,r=i,o}}));p.directives=Object.create(e.directives),o.walk(p);for(var d=!1,h=Object.create(null);a.length&&s.length;){var v=s.shift();if(v){var m=v.definition,_=u[m.id];if(_){for(_={end:_.end};m.id in h;)m=h[m.id];_.start=u[m.id].start;var w=[];do{var x=a.shift();if(!(v.index>x.index)){var k=x.definition.id;if(k in l){var E=u[k];if(E){if(E.start.block===_.start.block&&q(E,_)&&(!E.start.loop&&Ji(m)||q(_,E))&&(!e.option("webkit")||Ut(m)===Ut(x.definition))&&!x.definition.const_redefs&&g(E,(function(e){return e.scope.find_variable(m.name)===m}))){E.forEach((function(e){e.thedef=m,e.name=m.name,e instanceof Rn?m.references.push(e):m.orig.push(e)})),x.definition.fixed||(m.fixed=!1),h[k]=m,d=!0;break}w.push(x)}}}}while(a.length);w.length&&(a=w.concat(a))}}}return d}function T(){r=Object.create(r)}function A(){r=Object.getPrototypeOf(r)}function D(e,n,t){var i=new ut((function(t){if(!(t instanceof gn))return t instanceof Qe?(T(),t.value.walk(p),A(),t.name.walk(i)):t instanceof wn?t.key instanceof S?(T(),r.block=t,t.key.walk(p),t.value.walk(i),A()):t.value.walk(i):t instanceof e?n(t):t.walk(p),!0}));t.walk(i)}function O(p,d){var h,v=p.definition();if(d&&!g(i,(function(e){return!(h=e.variables.get(p.name))||(!Ut(h)||h!==v&&!v.undeclared&&e.parent_scope.find_variable(p.name)!==v)})))return u[v.id]=u[h.id]=!1;var m=r;if(n&&(T(),m=r,A()),v.id in u){if(!(_=u[v.id]))return;if(_.start.block!==m.block)return u[v.id]=!1;if(_.push(p),_.end=m,v.id in l)s[l[v.id]]=null;else if(!d)return}else{if((h=o.variables.get(v.name))!==v)return h&&t===m&&(u[h.id]=!1),u[v.id]=!1;if(e.exposed(v)||li[p.name])return u[v.id]=!1;var _;if((_=c.get(v.id)||[]).push(p),u[v.id]=_,!d)return _.start=m,a.push({index:f++,definition:v});if(m.block!==o)return u[v.id]=!1;_.start=t}l[v.id]=s.length,s.push({index:f++,definition:v})}function $(e){for(var n=[];;){if(y(r,"block")){var t=r.block;if(t instanceof H&&(t=t.body),t===e)break}n.push(r),A()}for(r.inserted=r.block,T();n.length;){var i=n.pop();T(),y(i,"block")&&(r.block=i.block),y(i,"loop")&&(r.loop=i.loop)}}function z(e,n){return e===n||e.isPrototypeOf(n)}function q(e,n){return z(e.start,e.end)||z(e.start,n.start)}})),K.DEFMETHOD("drop_unused",(function(e){if(e.option("unused")){var n=this,t=!(n instanceof Q)||e.toplevel.funcs,o=!(n instanceof Q)||e.toplevel.vars,a=/keep_assign/.test(e.option("unused"))?c:function(n,t){var i,r=!1;if(n instanceof hn?(n.write_only||"="==n.operator)&&(i=a(n.left,t)):n instanceof cn&&n.write_only&&(i=a(n.expression,t)),i instanceof Rn){var o=i.definition();if(!l[o.id]&&!e.exposed(o)&&k(i,e,r))return i}function a(n,t){if(n instanceof on){var i=n.expression;if(!i.may_throw_on_access(e,!0))return r=!0,t&&n instanceof sn&&t.unshift(n.property),a(i,t)}else if(n instanceof hn&&"="==n.operator){n.write_only="p";var o=a(n.right);return t?(t.assign=n,o instanceof Rn?o:n.left):o}return n}},u=Object.create(null),l=Object.create(null),p=function(t){return p=function n(t,r,o){var a=e.parent(r);if(!a)return o;var s=a instanceof ee&&i(t,a.argnames);return n(a,r+1,s?function(e){var n=o(e);if(n)return n;if(n=a.variables.get(e)){var t=n.orig[0];if(t instanceof Fn||t instanceof jn)return n}}:a.variables?function(e){return o(e)||a.variables.get(e)}:o)}(n,0,f),p(t)},v=Object.create(null),m=[],_=Object.create(null),y=Object.create(null),w=Object.create(null),E=Object.create(null),T=Object.create(null);n instanceof Q&&e.top_retain&&n.variables.each((function(n){e.top_retain(n)&&!(n.id in _)&&(_[n.id]=!0,m.push(n))}));var A=new b,D=new b,z=this,q=new ut((function(i,r){if(i instanceof ee&&i.uses_arguments&&!q.has_directive("use strict")&&i.each_argname((function(e){var n=e.definition();n.id in _||(_[n.id]=!0,m.push(n))})),i!==n){if(z===n){if(i instanceof be){var a=i.name.definition();(c=t&&!a.exported)||a.id in _||(_[a.id]=!0,m.push(a));var s=q.parent()instanceof Ge;s?l[a.id]=!0:c&&!(a.id in y)&&(y[a.id]=1),i.extends&&i.extends.walk(q);var f=[];return i.properties.forEach((function(e){e.key instanceof S&&e.key.walk(q);var n=e.value;n&&(At(e)?(!s&&n.contains_this()&&(s=!0),u(n)):f.push(n))})),f.forEach(c&&s?u:function(e){D.add(a.id,e)}),!0}if(i instanceof de){var c;a=i.name.definition();return(c=t&&!a.exported)||a.id in _||(_[a.id]=!0,m.push(a)),D.add(a.id,i),q.parent()instanceof Ge?void(l[a.id]=!0):(c&&!(a.id in y)&&(y[a.id]=1),!0)}if(i instanceof Re)return i.definitions.forEach((function(n){var t=n.value,r=t&&(n.name instanceof gn||t.has_side_effects(e)),a=r&&"="==t.tail_node().operator;n.name.mark_symbol((function(e){if(e instanceof $n){var s=e.definition();if(T[s.id]=(T[s.id]||0)+1,i instanceof Ue&&s.orig[0]instanceof Hn){var f=s.redefined();f&&(T[f.id]=(T[f.id]||0)+1)}return s.id in _||o&&!s.exported&&!(i instanceof Be?s.redefined():s.const_redefs)&&(i instanceof Ue||Ai(s))||(_[s.id]=!0,m.push(s)),t&&(r?a&&we(s,e,E[s.id]):D.add(s.id,t),A.add(s.id,n)),ge(s),!0}}),q),r&&t.walk(q)})),!0;if(i instanceof Fn){a=i.definition();return T[a.id]=(T[a.id]||0)+1,A.add(a.id,i),!0}if(i instanceof qn)return(a=i.definition()).id in _||o&&Ai(a)||(_[a.id]=!0,m.push(a)),!0}return Ee(i,r,!0)}function u(e){var n=z;z=i,e.walk(q),z=n}}));q.directives=Object.create(e.directives),n.walk(q);var C=e.option("keep_fnames")?c:e.option("ie")?function(n){return!e.exposed(n)&&n.references.length==n.replaced}:function(e){return!(e.id in _)||!(e.orig.length-e.eliminated<2)&&(e.orig[1]instanceof Fn||g(e.references,(function(e){return!e.in_arg})))};e.option("ie")&&D.each((function(e,n){n in _||e.forEach((function(e){e.walk(new ut((function(e){return e instanceof le&&e.name&&!C(e.name.definition())?(e.walk(q),!0):e instanceof K||void 0})))}))})),q=new ut(Ee);for(var F=0;F<m.length;F++){var P=D.get(m[F].id);P&&P.forEach((function(e){e.walk(q)}))}Object.keys(u).forEach((function(e){var n=u[e];if(n){n=n.reduce((function(e,n){return n.forEach((function(n){h(e,n)})),e}),[]);var t=(A.get(e)||[]).filter((function(e){return r(e instanceof cn?function(n){return n===e}:function(n){return n===e||!(n instanceof cn)&&X(n)===X(e)},n)}));n.length==t.length?u[e]=t:delete u[e]}else delete u[e]}));var I=[],Y=[],R=new lt((function(n){if(n instanceof Qe)return Te(R,n);if(n instanceof gn&&n.rest&&(n.rest=n.rest.transform(R)),n instanceof yn){for(var t=!n.rest,i=n.elements.length;--i>=0;){var r=n.elements[i].transform(R);r?(n.elements[i]=r,t=!1):t?n.elements.pop():n.elements[i]=Ln(ot,n.elements[i])}return n}if(n instanceof xn){var o=[];return n.properties.forEach((function(t){var i=!1;if(t.key instanceof S&&(t.key=t.key.transform(B),i=t.key.has_side_effects(e)),(i||n.rest)&&function(e){return(e instanceof Qe?e.name:e)instanceof $n}(t.value))t.value=t.value.transform(B),o.push(t);else{var r=t.value.transform(R);!r&&n.rest&&(r=t.value instanceof yn?Ln(yn,t.value,{elements:[]}):Ln(xn,t.value,{properties:[]})),r&&(t.value=r,o.push(t))}})),n.properties=o,n}return n instanceof $n?Se(n):void 0})),B=new lt((function(i,r,f){var c=B.parent();if(o){var l=[];if(W=a(i,l)){if(function(e,n){var t=e.definition(),i=_[t.id];return!i||n[n instanceof hn?"left":"expression"]===e&&(i===e&&t.references.length-t.replaced==1||fe(t,n)<0)}(W,i)&&(i instanceof hn&&(m=xe(i),!0===i.write_only&&(m=m.drop_side_effect_free(e))),m||(m=Ln(Qn,i,{value:0}))),m){if(l.assign){var p=l.assign.drop_side_effect_free(e);p&&(p.write_only=!0,l.unshift(p))}switch(c instanceof tn&&c.tail_node()!==i&&!m.has_side_effects(e)||l.push(m),l.length){case 0:return d.skip;case 1:return ht(0,c,i,l[0].transform(B));default:return nt(i,l.map((function(e){return e.transform(B)})))}}}else if(i instanceof ln&&i.expression instanceof Rn&&fe(i.expression.definition(),i)<0)return Ln(un,i,{operator:"+",expression:i.expression})}if(i instanceof pn&&"instanceof"==i.operator){if(!((W=i.right)instanceof Rn))return;if(W.definition().id in _)return;var h=i.left.drop_side_effect_free(e),m=Ln(ft,i).optimize(e);return h?nt(i,[h,m]):m}if(i instanceof en)return I.push(i),i.args=i.args.map((function(e){return e.transform(B)})),i.expression=i.expression.transform(B),i;if(z===n){if(t&&i!==n&&i instanceof be)if(!((X=i.name.definition()).id in _)){L(i.name,"Dropping unused class {name}"),X.eliminated++,r(i,B);var b=di(i,!0);return c instanceof Ge?b:(b=b.drop_side_effect_free(e,!0))?Ln(M,i,{body:b}):f?d.skip:Ln($,i)}if(i instanceof ye&&i.name&&C(i.name.definition())&&(i.name=null),i instanceof ee){if(t&&i!==n&&i instanceof de)if(!((X=i.name.definition()).id in _))return L(i.name,"Dropping unused function {name}"),X.eliminated++,c instanceof Ge?($e(),hi(i,!0)):f?d.skip:Ln($,i);if(i instanceof te&&i.name&&C(i.name.definition())&&(i.name=null),!(i instanceof ne)){var y,w,x=e.drop_fargs(i,c);if(x&&c instanceof en&&c.expression===i)for(y=c.args,w=0;w<y.length&&!(y[w]instanceof fn);w++);var E=i.argnames,A=i.rest,D=!1,O=!1;if(A){if(O=!0,!y||w<E.length||A instanceof Fn)A=A.transform(R);else A=(b=Ae(A,Ln(_n,c,{elements:y.slice(E.length)}),Se,!i.uses_arguments,A)).name,y.length=E.length,b.value.elements.length&&[].push.apply(y,b.value.elements);A instanceof gn&&!A.rest&&(A instanceof yn?0==A.elements.length&&(A=null):0==A.properties.length&&(A=null)),i.rest=A,A&&(x=!1,D=!0)}for(var q=x?-1:i.length(),F=y&&!i.uses_arguments&&c!==e.parent(),P=E.length;--P>=0;){var W;if((W=E[P])instanceof Fn){var X;(X=W.definition()).id in _?(x=!1,fe(X,W)<0&&(W.unused=null)):x?(L(W,"Dropping unused function argument {name}"),E.pop(),X.eliminated++,W.unused=!0):W.unused=!0}else{var Q;if(O=!0,!y||w<P)Q=W.transform(R);else Q=(b=Ae(W,y[P],Se,F,W)).name,b.value&&(y[P]=b.value);Q?(x=!1,E[P]=Q,D||(D=!(Q instanceof Fn))):x?(G(W,"Dropping unused default argument {name}"),E.pop()):P>q?(G(W,"Dropping unused default argument assignment {name}"),W.name instanceof Fn?W.name.unused=!0:D=!0,E[P]=W.name):(G(W,"Dropping unused default argument value {name}"),E[P]=W=W.clone(),W.value=Ln(Qn,W,{value:0}),D=!0)}}O&&!D&&i.uses_arguments&&!B.has_directive("use strict")&&(i.rest=Ln(yn,i,{elements:[]})),Y.push(i)}}if(i instanceof He&&i.argname instanceof gn&&i.argname.transform(R),i instanceof Re&&!(c instanceof V&&c.init===i)){var ae=[],se=[],ge=[],we=[],ke=0,Ee=i instanceof Ue;switch(i.definitions.forEach((function(n){n.value&&(n.value=n.value.transform(B));var t=n.value;if(n.name instanceof gn){var r=Ae(n.name,t,(function(e){return o?e.definition().id in _||y(e)||Ee&&!k(e)?e:null:e}),!0);r.name?(n=Ln(Ve,n,{name:r.name,value:t=r.value}),w()):r.value&&we.push(r.value)}else{var a,f,l,p,d=n.name.definition(),h=Ee?k(n.name):Ai(d);if(h&&o&&!(d.id in _))y(n.name)?((t=t&&t.drop_side_effect_free(e))&&we.push(t),T[d.id]>1?(S.warn("Dropping duplicated declaration of variable {name} [{file}:{line},{col}]",J(n.name)),T[d.id]--,d.eliminated++):(n.value=null,se.push(n))):((t=t&&t.drop_side_effect_free(e))?(S.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",J(n.name)),we.push(t)):L(n.name,"Dropping unused variable {name}"),d.eliminated++);else if(t&&((a=fe(d,n))<0||(p=t.tail_node())instanceof Rn&&p.definition()===d)&&(n=n.clone(),(t=t.drop_side_effect_free(e))&&S.warn("Side effects in definition of variable {name} [{file}:{line},{col}]",J(n.name)),i instanceof Be?n.value=t||Ln(Qn,n,{value:0}):(n.value=null,t&&we.push(t)),t=null,a>=0&&(u[d.id][a]=n)),t||i instanceof Le)if(e.option("functions")&&!e.option("ie")&&h&&t&&1==T[d.id]&&0==d.assignments&&(l=t.tail_node())instanceof te&&!s(d)&&!ie(l)&&function(e,t){return 0==t.length?e===n.name.fixed_value():g(t,(function(n){return e===n.fixed_value()}))}(l,d.references)&&function(n){if(!Ee||e.has_directive("use strict")||!(n instanceof le))return c instanceof K;return c instanceof j||c instanceof U&&c.init===i||c instanceof Me}(l)&&!1!==(f=function(n,t){if(!n.name)return null;var i,r=n.name.definition();if(r.orig.length>1)return null;if(r.assignments>0)return!1;if(r.name==t)return r;if(e.option("keep_fnames"))return!1;switch(t){case"await":i=re;break;case"yield":i=oe}return g(r.references,(function(e){var r=e.scope;if(r.find_variable(t)!==d)return!1;if(i)do{if(r=r.resolve(),i(r))return!1}while(r!==n&&(r=r.parent_scope));return!0}))&&r}(l,n.name.name))){var v;switch(S.warn("Declaring {name} as function [{file}:{line},{col}]",J(n.name)),l.CTOR){case ce:v=he;break;case ue:v=ve;break;case le:v=me;break;case pe:v=_e}var m=Ln(v,n,l);m.name=Ln(Pn,n.name,n.name);var b=n.name.scope.resolve().def_function(m.name);f&&f.forEach((function(e){e.name=b.name,e.thedef=b,e.reference()})),ae.push(m),t!==l&&[].push.apply(we,t.expressions.slice(0,-1))}else h&&T[d.id]>1&&!(c instanceof We)&&d.orig.indexOf(n.name)>d.eliminated&&(T[d.id]--,ke++),w();else c instanceof We?w():h&&T[d.id]>1?(S.info("Dropping declaration of variable {name} [{file}:{line},{col}]",J(n.name)),T[d.id]--,d.eliminated++):se.push(n)}function y(e){var n=e.definition();return n.orig[0]instanceof Hn&&n.scope.resolve()===e.scope.resolve()}function w(){we.length>0&&(0==ge.length?ae.push(Ln(M,i,{body:nt(i,we)})):t?(we.push(t),n.value=nt(t,we)):n.value=Ln(un,n,{operator:"void",expression:nt(n,we)}),we=[]),ge.push(n)}})),se.length){case 0:if(0==ge.length)break;if(ge.length==ke){[].unshift.apply(we,ge.map((function(e){S.info("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",J(e.name));var n=e.name.definition(),t=Ln(Rn,e.name,e.name);n.references.push(t);var i=Ln(hn,e,{operator:"=",left:t,right:e.value}),r=fe(n,e);return r>=0&&(u[n.id][r]=i),n.assignments++,n.eliminated++,i})));break}case 1:if(0==ge.length){var Te=se[0].name.definition().id;if(Te in v){i.definitions=se,v[Te].init=i;break}}default:var De;ge.length>0&&(De=ge[0].value)instanceof tn&&(ge[0].value=De.tail_node(),ae.push(Ln(M,i,{body:nt(De,De.expressions.slice(0,-1))}))),i.definitions=se.concat(ge),ae.push(i)}return we.length>0&&ae.push(Ln(M,i,{body:nt(i,we)})),Z(ae,i,f)}if(i instanceof hn)return r(i,B),i.left instanceof gn?(b=Ae(i.left,i.right,(function(e){return e}),!0===i.write_only)).name?Ln(hn,i,{operator:i.operator,left:b.name,right:b.value}):b.value?b.value:c instanceof tn&&c.tail_node()!==i?d.skip:Ln(Qn,i,{value:0}):i;if(i instanceof H&&i.body instanceof U){if(r(i,B),i.body instanceof N){var Oe=i.body;return i.body=Oe.body.pop(),Oe.body.push(i),f?d.splice(Oe.body):Oe}return i}if(i instanceof K)return $e(),i;if(i instanceof qn)return!e.option("imports")||i.definition().id in _?i:f?d.skip:null}function $e(){var e=z;z=i,r(i,B),z=e}}),(function(n,t){if(n instanceof N)return fi(n,B.parent(),t);if(n instanceof We){var i=n.body;if(!(i instanceof N))return;return n.body=i.body.pop(),i.body.push(n),t?d.splice(i.body):i}if(n instanceof U)return Mt(n,t);if(n instanceof W){if(!o||!e.option("loops"))return;if(!bt(n.body))return;var r=ke(n);if(!r)return;var a=r.definition();if(a.id in _)return;L(r,"Dropping unused loop variable {name}"),v[a.id]===n&&delete v[a.id];var s=[],f=n.object.drop_side_effect_free(e);return f&&(S.warn("Side effects in object of for-in loop [{file}:{line},{col}]",f.start),s.push(Ln(M,n,{body:f}))),n.init instanceof Re&&a.orig[0]instanceof Hn&&s.push(n.init),Z(s,n,t)}if(n instanceof Ke)return n.properties&&0==n.properties.length&&(n.properties=null),n;if(n instanceof tn){if(n.expressions.length>1)return;return ht(0,B.parent(),n,n.expressions[0])}}));B.push(e.parent()),B.directives=Object.create(e.directives),n.transform(B),n instanceof ee&&1==n.body.length&&n.body[0]instanceof O&&"use strict"==n.body[0].value&&(n.body.length=0),I.forEach((function(n){Mi(n,e,Y)}))}function L(e,n){S[e.definition().references.length>0?"info":"warn"](n+" [{file}:{line},{col}]",J(e))}function G(e,n){e.name instanceof Fn?L(e.name,n):S.info(n+" [{file}:{line},{col}]",{name:e,file:e.start.file,line:e.start.line,col:e.start.col})}function J(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}function X(e){return e[e instanceof hn?"right":"value"]}function Z(e,n,t){switch(e.length){case 0:return t?d.skip:Ln($,n);case 1:return e[0];default:return t?d.splice(e):Ln(N,n,{body:e})}}function ae(e,t){return e.scope.resolve()===n&&(e.fixed&&t.fixed||(u[e.id]=!1),!1!==u[e.id])}function se(e,n){u[e.id]||(u[e.id]=[]),n.fixed.assigns&&h(u[e.id],n.fixed.assigns)}function fe(e,n){var t=u[e.id];return t&&t.indexOf(n)}function ge(e){y[e.id]>1&&!(e.id in _)&&(_[e.id]=!0,m.push(e)),y[e.id]=0}function we(e,n,t){e.id in _||(n&&t?(_[e.id]=n,m.push(e)):(w[e.id]=n,E[e.id]=t))}function xe(n){var t=n.right;if(!n.write_only)return t;if(!(t instanceof pn&&Nt[t.operator]))return t;if(!(t.left instanceof Rn))return t;if(!(n.left instanceof Rn))return t;var i=n.left.definition();return t.left.definition()!==i||t.right.has_side_effects(e)?t:(ae(i,t.left)&&se(i,t.left),t.right)}function ke(e){var n=e.init;if(n instanceof Re)return(n=n.definitions[0].name)instanceof $n&&n;for(;n instanceof on;)n=n.expression.tail_node();return n instanceof Rn?n:void 0}function Ee(t,i,r){t instanceof hn&&t.left instanceof Rn&&((k=t.left.definition()).scope.resolve()===n&&A.add(k.id,t));t instanceof cn&&t.expression instanceof Rn&&((k=t.expression.definition()).scope.resolve()===n&&A.add(k.id,t));var f=[];if(b=a(t,f)){if((T=b.definition()).scope.resolve()!==n&&n.variables.get(b.name)!==T)return;if(s(T)&&!g(n.argnames,(function(e){return!e.match_symbol((function(e){if(e instanceof Fn){var n=e.definition();return n.references.length>n.replaced}}),!0)})))return;if("p"===t.write_only&&t.right.may_throw_on_access(e,!0))return;var c=f.assign;if(c&&(c.write_only=!0,c.walk(q)),f.forEach((function(e){e.walk(q)})),t instanceof hn){var u=xe(t),l=!1;if(r&&!0===t.write_only&&!u.has_side_effects(e)?D.add(T.id,u):(u.walk(q),l="="==u.tail_node().operator),t.left===b)t.write_only&&!l||we(T,b,E[T.id]);else{var d=b.fixed_value();d&&d.is_constant()||we(T,w[T.id],!0)}}return ae(T,b)&&Wt(b,t)!==b&&se(T,b),ge(T),!0}if(t instanceof pn){if("instanceof"!=t.operator)return;if(!((b=t.right)instanceof Rn))return;var h=b.definition().id;if(!y[h])return;return t.left.walk(q),y[h]++,!0}if(t instanceof W){var b,k;if(t.init instanceof Rn&&z===n)(h=t.init.definition().id)in v||(v[h]=t);if(!o||!e.option("loops"))return;if(!bt(t.body))return;if(t.init.has_side_effects(e))return;if(!(b=ke(t)))return;if((k=b.definition()).scope.resolve()!==n){var S=p(b.name);if(S===k||S&&S.redefined()===k)return}return t.object.walk(q),!0}if(t instanceof Rn){var T;if((T=t.definition()).id in _||(_[T.id]=!0,m.push(T)),x(T.scope,t.scope)){var O=T.redefined();O&&!(O.id in _)&&(_[O.id]=!0,m.push(O))}return ae(T,t)&&se(T,t),!0}if(t instanceof K){var $=z;return z=t,i(),z=$,!0}}function Se(e){return e.definition().id in _?e:(e instanceof Fn&&(e.unused=!0),null)}function Te(n,t){if(t.value=t.value.transform(B),!t.name.transform(n)){if(t.name instanceof gn)return null;var i=t.value.drop_side_effect_free(e);if(!i)return null;L(t.name,"Side effects in default value of unused variable {name}"),(t=t.clone()).name.unused=null,t.value=i}return t}function Ae(n,t,i,r,o){var a=new lt((function(n){if(n instanceof Qe){if(!(e.option("default_values")&&t&&t.is_defined(e))){var f=r;r=!1;var u=Te(a,n);return r=f,!u&&r&&t&&(t=t.drop_side_effect_free(e)),u}n===o?o=n=n.name:n=n.name}if(n instanceof yn){f=r;var l=t;t instanceof Rn&&(r=!1,t=t.fixed_value());var p=t instanceof _n&&t.elements,h=[],v=r&&[],m=0;if(n.elements.forEach((function(e,n){(t=p&&p[n])instanceof ot?t=null:t instanceof fn&&(r&&(v.length=m,pi(l,v),[].push.apply(v,p.slice(n)),l.elements=v),t=p=!1),(e=e.transform(a))&&(h[m]=e),r&&t&&(v[m]=t),!e&&!t&&r&&p||m++})),t=p&&Ln(_n,l,{elements:p.slice(n.elements.length)}),n.rest){var _=r;r=!1,n.rest=n.rest.transform(e.option("rests")?a:B),r=_,n.rest&&(h.length=m)}if(r&&(t&&!n.rest&&(t=t.drop_side_effect_free(e)),t instanceof _n?t=t.elements:t instanceof tn?t=t.expressions:t&&(t=[t]),t&&t.length&&(v.length=m,[].push.apply(v,t))),t=l,r=f,p&&v&&(pi(t,v),(t=t.clone()).elements=v),!n.rest&&(t instanceof _n||t&&t.is_string(e)))switch(h.length){case 0:if(n===o)break;return r&&(t=t.drop_side_effect_free(e)),null;case 1:if(!r)break;if(n===o)break;var g=h[0];if(g.has_side_effects(e))break;if(t.has_side_effects(e)&&g.match_symbol((function(e){return e instanceof on})))break;return t=Ln(sn,n,{expression:t,property:Ln(Qn,n,{value:0})}),g}return pi(n,h),n.elements=h,n}if(n instanceof xn){var y,w;f=r,l=t;t instanceof Rn&&(r=!1,t=t.fixed_value()),t instanceof kn&&(y=[],w=new b,p=t.properties.map((function(n,t){if((n=n.clone())instanceof fn)w=!1;else{var i=n.key;i instanceof S&&(i=i.evaluate(e,!0)),i instanceof S?w=!1:!w||n instanceof An||w.set(i,n),y[t]=i}return n}))),n.rest&&(t=!1,n.rest=n.rest.transform(e.option("rests")?a:B));var x=new b,k=r&&new b,E=[];if(n.properties.map((function(n){var t=n.key;return t instanceof S&&(n.key=t=t.transform(B),t=t.evaluate(e,!0)),t instanceof S?k=!1:x.set(t,!x.has(t)),t})).forEach((function(e,i){var o,f=n.properties[i];if(e instanceof S)r=!1,t=!1,o=f.value.transform(a)||c(f.value);else{r=k&&x.get(e);var u=w&&w.get(e);u?(t=u.value)instanceof ne&&(t=!1):t=!1,(o=f.value.transform(a))?k&&k.set(e,!1):((n.rest||s(f))&&(o=c(f.value)),k&&!k.has(e)&&(u?(k.set(e,u),null===t&&w.set(e,s(u)&&Ln(Sn,u,{key:u.key,value:Ln(Qn,u,{value:0})}))):k.set(e,!0))),t&&(u.value=t)}o&&(f.value=o,E.push(f))})),t=l,r=f,k&&y&&((t=t.clone()).properties=d(p,(function(t,i){if(t instanceof fn)return t;var r=y[i];if(r instanceof S)return t;if(k.has(r)){var o=k.get(r);if(!o)return t;if(o===t)return w.get(r)||d.skip}else if(n.rest)return t;var a=t.value.drop_side_effect_free(e);return a?(t.value=a,t):s(t)?Ln(Sn,t,{key:t.key,value:Ln(Qn,t,{value:0})}):d.skip}))),t&&!n.rest)switch(E.length){case 0:if(n===o)break;if(t.may_throw_on_access(e,!0))break;return r&&(t=t.drop_side_effect_free(e)),null;case 1:if(!r)break;if(n===o)break;var T=E[0];if(T.key instanceof S)break;if(T.value.has_side_effects(e))break;if(t.has_side_effects(e)&&T.value.match_symbol((function(e){return e instanceof on})))break;return t=Ln(sn,n,{expression:t,property:pt(T.key,T)}),T.value}return n.properties=E,n}return!(n=n instanceof ot?null:i(n))&&r&&t&&(t=t.drop_side_effect_free(e)),n}));return{name:n.transform(a),value:t};function s(n){return n.key instanceof S&&n.key.has_side_effects(e)}function f(e){if(e instanceof hn)e.write_only=!1,f(e.right);else if(e instanceof pn){if(!Nt[e.operator])return;f(e.left),f(e.right)}else e instanceof dn?(f(e.consequent),f(e.alternative)):e instanceof tn?f(e.tail_node()):e instanceof cn&&(e.write_only=!1)}function c(n){return n instanceof Qe?c(n.name):n instanceof gn?(null===t?t=Ln(Qn,n,{value:0}):t&&(t.may_throw_on_access(e,!0)?t=Ln(_n,n,{elements:t instanceof tn?t.expressions:[t]}):f(t)),Ln(xn,n,{properties:[]})):(n.unused=null,n)}}})),K.DEFMETHOD("hoist_declarations",(function(e){if(!e.has_directive("use asm")){var n=e.option("hoist_funs"),t=e.option("hoist_vars"),i=this;if(t){var r=0;i.walk(new ut((function(e){return r>1||(e instanceof We||(e instanceof K&&e!==i||(e instanceof Ue?(r++,!0):void 0)))}))),r<=1&&(t=!1)}if(n||t){var o=new b,a=[],s=[],f=new b,c=new lt((function(r,u,l){if(r!==i){if(r instanceof O)return a.push(r),l?d.skip:Ln($,r);if(r instanceof de)return n?(p=c.parent())instanceof We||p instanceof Ge||p!==i&&e.has_directive("use strict")?r:(s.push(r),l?d.skip:Ln($,r)):r;if(r instanceof Ue){if(!t)return r;var p;if((p=c.parent())instanceof We)return r;if(!g(r.definitions,(function(e){var n=e.name;return n instanceof Mn&&!o.has(n.name)&&i.find_variable(n.name)===n.definition()})))return r;r.definitions.forEach((function(e){f.set(e.name.name,e)}));var h=r.to_assignments();if(p instanceof V&&p.init===r){if(h)return h;var v=r.definitions[0].name;return Ln(Rn,v,v)}return p instanceof U&&p.init===r?h:h?Ln(M,r,{body:h}):l?d.skip:Ln($,r)}return r instanceof K?r:r instanceof zn?(o.set(r.name,!0),r):void 0}}));if(i.transform(c),f.size()>0){var u=[];i instanceof ee&&i.each_argname((function(e){f.del(e.name)})),f.each((function(e,n){(e=e.clone()).name=e.name.clone(),e.value=null,u.push(e),f.set(n,e),e.name.definition().orig.unshift(e.name)})),u.length>0&&(!function e(n){for(;n.length;){var t=n[0];if(t instanceof M){var i,r,o=t.body;if(o instanceof hn&&"="==o.operator&&(i=o.left)instanceof On&&f.has(i.name)){if((s=f.get(i.name)).value)break;var a=o.right;a instanceof tn&&(a=a.clone()),s.value=a,m(u,s),u.push(s),n.shift();continue}if(o instanceof tn&&(r=o.expressions[0])instanceof hn&&"="==r.operator&&(i=r.left)instanceof On&&f.has(i.name)){var s;if((s=f.get(i.name)).value)break;s.value=r.right,m(u,s),u.push(s),t.body=nt(o,o.expressions.slice(1));continue}}if(t instanceof $)n.shift();else{if(!(t instanceof N)||e(t.body))break;n.shift()}}return n.length}(i.body),s.push(Ln(Ue,i,{definitions:u})))}i.body=a.concat(s,i.body)}}})),K.DEFMETHOD("process_returns",f),me.DEFMETHOD("process_returns",(function(e){if(e.option("booleans")&&!(e.parent()instanceof Ge))switch(_i(this.name.definition(),mi(this),e)){case"d":yi(e,this,!0);break;case!0:gi(this,e)}})),le.DEFMETHOD("process_returns",(function(e){if(e.option("booleans")){var n=!0,t=mi(this);if(!this.name||u(this.name.definition())){var i=e.parent();if(i instanceof hn){if("="!=i.operator)return;if(!((o=i.left)instanceof Rn))return;if(!u(o.definition()))return}else if(i instanceof en&&i.expression!==this){var r=i.expression;if(r instanceof Rn&&(r=r.fixed_value()),!(r instanceof ee))return;if(r.uses_arguments||r.pinned())return;for(var o,a=i.args,s=0;s<a.length;s++){var f=a[s];if(f===this){if(!(o=r.argnames[s])&&r.rest)return;break}if(f instanceof fn)return}if(o instanceof Qe&&(o=o.name),o instanceof Fn&&!u(o.definition()))return}else{if("Call"!=i.TYPE)return;e.pop();var c=e.in_boolean_context();switch(e.push(this),c){case!0:n=!1;case"d":break;default:return}}n?yi(e,this,!0):gi(this,e)}}function u(i){switch(_i(i,t,e)){case!0:n=!1;case"d":return!0}}})),F.DEFMETHOD("var_names",(function(){var e=this._var_names;return e||(this._var_names=e=new b,this.enclosed.forEach((function(n){e.set(n.name,!0)})),this.variables.each((function(n,t){e.set(t,!0)}))),e})),K.DEFMETHOD("make_var",(function(e,n,t){var r=[this];n instanceof $n&&n.definition().references.forEach((function(e){var n=e.scope;if(!i(n,r))do{h(r,n),n=n.parent_scope}while(n&&n!==this)}));for(var o=t=t.replace(/^[^a-z_$]|[^a-z0-9_$]/gi,"_"),a=0;!g(r,(function(e){return!e.var_names().has(o)}));a++)o=t+"$"+a;var s=Ln(e,n,{name:o,scope:this}),f=this.def_variable(s);return r.forEach((function(e){e.enclosed.push(f),e.var_names().set(o,!0)})),s})),K.DEFMETHOD("hoist_properties",(function(e){if(e.option("hoist_props")&&!e.has_directive("use asm")){var n=this,t=n instanceof Q&&e.top_retain||c,i=Object.create(null),r=new lt((function(e,t){if(e instanceof hn){if("="!=e.operator)return;if(!e.write_only)return;if(!o(e.left,e.right,1))return;t(e,r);var a=new b,s=[],f=[];return e.right.properties.forEach((function(t){var i=p(Mn,e.left,t.key);f.push(Ln(Ve,e,{name:i,value:null}));var r=Ln(Rn,e,{name:i.name,scope:n,thedef:i.definition()});r.reference(),s.push(Ln(hn,e,{operator:"=",left:r,right:t.value}))})),a.value=e.right,i[e.left.definition().id]=a,n.body.splice(n.body.indexOf(r.stack[1])+1,0,Ln(Ue,e,{definitions:f})),nt(e,s)}if(e instanceof K){if(e===n)return;var c=r.parent();if("Call"==c.TYPE&&c.expression===e)return;return e}if(e instanceof Ve){if(!o(e.name,e.value,0))return;t(e,r);a=new b;var u=[],l=e.clone();return l.value=e.name instanceof zn?Ln(Qn,e,{value:0}):null,u.push(l),e.value.properties.forEach((function(n){u.push(Ln(Ve,e,{name:p(e.name.CTOR,e.name,n.key),value:n.value}))})),a.value=e.value,i[e.name.definition().id]=a,d.splice(u)}function p(e,t,i){var r=n.make_var(e,t,t.name+"_"+i);return a.set(i,r.definition()),r}}));n.transform(r),n.transform(new lt((function(e,n){if(e instanceof on){if(!(e.expression instanceof Rn))return;if(!(o=i[e.expression.definition().id]))return;if(e.expression.fixed_value()!==o.value)return;var t=o.get(e.get_property()),r=Ln(Rn,e,{name:t.name,scope:e.expression.scope,thedef:t});return r.reference(),r}if(e instanceof Rn){var o;if(!(o=i[e.definition().id]))return;if(e.fixed_value()!==o.value)return;return Ln(kn,e,{properties:[]})}})))}function o(i,r,o){if(i instanceof On){var a=i.definition();if(a.assignments==o&&a.references.length-a.replaced!=o&&!a.single_use&&n.find_variable(i.name)===a&&!t(a)&&i.fixed_value()===r){var s=i.fixed||a.fixed;if(!s.direct_access&&(!s.escaped||1!=s.escaped.depth))return r instanceof kn&&r.properties.length>0&&k(i,e)&&g(r.properties,(function(e){return ir(e)&&"__proto__"!==e.key}))}}}})),function(e){function n(e,n,t,i){for(var r=e.length,o=[],a=!1,s=0;s<r;s++){var f,c=e[s];(f=i&&c instanceof fn?i(c,n,t):c.drop_side_effect_free(n,t))!==c&&(a=!0),f&&(o.push(f),t=!1)}return o.length?a?o:e:null}function t(e,n,t){var i=e.expression;return i.is_string(n)?i.drop_side_effect_free(n,t):e}function i(e){return e instanceof fn?Ln(_n,e,{elements:[e]}):e}e(S,l),e(ne,p),e(_n,(function(e,r){var o=n(this.elements,e,r,t);return o?o===this.elements&&g(o,(function(e){return e instanceof fn}))?this:nt(this,o.map(i)):null})),e(hn,(function(e){var n=this.left;if(n instanceof on){var t=n.expression;if(t.may_throw_on_access(e,!0))return this;if(e.has_directive("use strict")&&t.is_constant())return this}return n.has_side_effects(e)||Nt[this.operator.slice(0,-1)]?this:(this.write_only=!0,rn(n).is_constant_expression(e.find_parent(K))?this.right.drop_side_effect_free(e):this)})),e(vn,(function(e){if(!e.option("awaits"))return this;var n=this.expression;if(!Ui(e,n))return this;n instanceof un&&"!"==n.operator&&(n=n.expression);var t=n.drop_side_effect_free(e);if(t===n)return this;t?Ui(e,t)||(t=t.negate(e)):t=Ln(Qn,n,{value:0});var i=this.clone();return i.expression=t,i})),e(pn,(function(e,n){var t=this.left,i=this.right,r=this.operator;if(!Li(r,i,e))return(o=t.drop_side_effect_free(e,n))===t?this:((s=this.clone()).left=o||Ln(Qn,t,{value:0}),s);var o,a=i.drop_side_effect_free(e,n);if(!a)return t.drop_side_effect_free(e,n);if(Nt[r]&&a.has_side_effects(e)){var s=this;if(a!==i&&((s=s.clone()).right=a.drop_side_effect_free(e)),"??"==r)return s;var f=s.clone();f.operator="&&"==r?"||":"&&",f.left=t.negate(e,n),f.operator==f.right.operator&&Wi(f);var c=n?Rt:Ht;return"&&"==r?c(s,f):c(f,s)}return(o=t.drop_side_effect_free(e,n))?(a=a.drop_side_effect_free(e))?nt(this,[o,a]):o:a})),e(en,(function(e,r){var o=this;if(o.is_expr_pure(e)){o.pure&&S.warn("Dropping __PURE__ call [{file}:{line},{col}]",o.start);var a=n(o.args,e,r,t);return a&&nt(o,a.map(i))}var s=o.expression;if(o.is_call_pure(e))return(d=o.args.slice()).unshift(s.expression),(d=n(d,e,r,t))&&nt(o,d.map(i));if(e.option("yields")&&oe(s)){var f=o.clone();f.expression=Ln(le,s,s),f.expression.body=[];var u=f.transform(e);if(u!==f)return u.drop_side_effect_free(e,r)}var l=yi(e,s);if(l&&((o=o.clone()).expression=l,s._squeezed&&(o.expression._squeezed=!0)),o instanceof nn){var p=s;if(p instanceof Rn&&(p=p.fixed_value()),p instanceof ee){var d;if(function(e,n){e.new=!0;var t=g(e.body,(function(e){return!e.has_side_effects(n)}))&&g(e.argnames,(function(e){return!e.match_symbol(c)}))&&!(e.rest&&e.rest.match_symbol(c));return e.new=!1,t}(p,e))return(d=o.args.slice()).unshift(s),(d=n(d,e,r,t))&&nt(o,d.map(i));p.contains_this()||((o=Ln(en,o,o)).expression=o.expression.clone(),o.args=o.args.slice())}}return o.call_only=!0,o})),e(ye,(function(e,t){for(var i=this,r=[],o=[],s=0,f=i.properties,c=0;c<f.length;c++){var u=f[c];if(u.key instanceof S&&r.push(u.key),At(u)){var l=u.value;if(l.has_side_effects(e)){if(l.contains_this())return i;u instanceof Te?(s++,o.push(u)):o.push(l)}}}var p=i.extends;if(p&&(p instanceof Rn&&(p=p.fixed_value()),(p=!a(p))||r.unshift(i.extends)),(r=n(r,e,t))&&(t=!1),o=n(o,e,t),!r){if(!p&&!o&&!i.name)return null;r=[]}if(p||i.name||!e.has_directive("use strict")){var d=di(i);return p||(d.extends=null),d.properties=[],o?o.length==s?(r.length&&o.unshift(Ln(xe,i,{key:nt(i,r),value:null})),d.properties=o):d.properties.push(Ln(xe,i,{static:!0,key:r.length?nt(i,r):"c",value:h()})):r.length&&d.properties.push(Ln(Se,i,{key:nt(i,r),value:Ln(le,i,{argnames:[],body:[]}).init_vars(d)})),d}return o&&r.push(Ln(en,i,{expression:Ln(se,i,{argnames:[],body:[],value:h()}).init_vars(i.parent_scope),args:[]})),nt(i,r);function h(){return nt(i,o.map((function(e){if(!(e instanceof Te))return e;var n=Ln(se,e,e.value);return n.argnames=[],Ln(en,e,{expression:n,args:[]})})))}})),e(dn,(function(e){var n,t,i=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);return i===this.consequent&&r===this.alternative?this:(e.option("ie")&&(n=[],i instanceof le&&(n.push(i),i=null),r instanceof le&&(n.push(r),r=null)),i?r?((t=this.clone()).consequent=i,t.alternative=r):t=Ln(pn,this,{operator:"&&",left:this.condition,right:i}):t=r?Ln(pn,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e),n?(t&&n.push(t),0==n.length?null:nt(this,n)):t)})),e(Xn,p),e(an,(function(e,n){var t=this.expression;return t.may_throw_on_access(e)?this:t.drop_side_effect_free(e,n)})),e(le,(function(e){return bi(this,e)?null:this})),e(te,p),e(kn,(function(e,t){var i=[];this.properties.forEach((function(e){e instanceof fn?i.push(e):(e.key instanceof S&&i.push(e.key),i.push(e.value))}));var r=n(i,e,t,(function(e,n,t){var i=e.expression;return i.safe_to_spread()?i.drop_side_effect_free(n,t):e}));return r?r!==i||g(r,(function(e){return!(e instanceof fn)}))?nt(this,r.map((function(e){return e instanceof fn?Ln(kn,e,{properties:[e]}):e}))):this:null})),e(Un,p),e(tn,(function(e,t){var i=n(this.expressions,e,t);if(!i)return null;var r,o,a,s=i.length-1,f=i[s];if(e.option("awaits")&&s>0&&f instanceof vn&&f.expression.is_constant()){var c=(i=i.slice(0,-1))[--s];f.expression=Ui(e,c)?c:c.negate(e),i[s]=f}return e.option("conditionals")&&s>0&&(r=i[s-1])instanceof hn&&"="==r.operator&&(a=r.left)instanceof Rn&&(o=Ni(e,a.definition(),r.right,f))&&((r=r.clone()).right=o,(i=i.slice(0,-2)).push(r.drop_side_effect_free(e,t))),i===this.expressions?this:nt(this,i)})),e(sn,(function(e,n){var t=this.expression;if(t.may_throw_on_access(e))return this;var i=this.property;return(t=t.drop_side_effect_free(e,n))?(i=i.drop_side_effect_free(e))?nt(this,[t,i]):t:i.drop_side_effect_free(e,n)})),e(Rn,(function(e){return this.is_declared(e)&&k(this,e)?null:this})),e(Jn,(function(e,n){var t=this;if(t.is_expr_pure(e)){var i=t.expressions;return 0==i.length?null:nt(t,i).drop_side_effect_free(e,n)}var r=t.tag,o=yi(e,r);return o&&((t=t.clone()).tag=o,r._squeezed&&(t.tag._squeezed=!0)),t})),e(cn,(function(e,n){var t=this.expression;if(Vt[this.operator])return this.write_only=!t.has_side_effects(e),this;if("typeof"==this.operator&&t instanceof Rn&&k(t,e))return null;var i=t.drop_side_effect_free(e,n);return n&&i&&xt(i)?i===t&&"!"==this.operator?this:i.negate(e,n):i}))}((function(e,n){e.DEFMETHOD("drop_side_effect_free",n)})),e(M,(function(e,n){if(n.option("side_effects")){var t=e.body,i=t.drop_side_effect_free(n,!0);if(!i)return S.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),Ln($,e);if(i!==t)return Ln(M,e,{body:i})}return e})),e(L,(function(e,n){return n.option("loops")?Ln(U,e,e).optimize(n):e})),e(B,(function(e,n){if(!n.option("loops"))return e;var t=Ei(n,e.condition);if(!(t instanceof S)){if(t&&!wi(e,n.parent(),Ce))return Ln(U,e,{body:Ln(N,e.body,{body:[e.body,Ln(M,e.condition,{body:e.condition})]})}).optimize(n);if(!wi(e,n.parent()))return Ln(N,e.body,{body:[e.body,Ln(M,e.condition,{body:e.condition})]}).optimize(n)}if(e.body instanceof N&&!wi(e,n.parent(),Ce)){for(var r=e.body.body,o=r.length;--o>=0;){var a=r[o];if(a instanceof Me&&!a.alternative&&a.body instanceof qe&&n.loopcontrol_target(a.body)===e){if(s(a.condition))break;e.condition=Ln(pn,e,{operator:"&&",left:a.condition.negate(n),right:e.condition}),r.splice(o,1)}else if(a instanceof M){if(s(a.body))break;e.condition=nt(e,[a.body,e.condition]),r.splice(o,1)}else if(!Ot(a,!0))break}e.body=fi(e.body,n.parent())}return e.body instanceof $?Ln(U,e,e).optimize(n):e.body instanceof M?Ln(U,e,{condition:nt(e.condition,[e.body.body,e.condition]),body:Ln($,e)}).optimize(n):e;function s(n){var t=!1;return n.walk(new ut((function(n){return!!t||(n instanceof Rn?(i(n.definition(),e.enclosed)||(t=!0),!0):void 0)}))),t}})),e(U,(function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step&&(e.step=e.step.drop_side_effect_free(n))),e.condition){var t=Ei(n,e.condition);if(t)t instanceof S||(e.body=Ln(N,e.body,{body:[Ln(M,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code")){var i=[];return z(e.init)?i.push(e.init):e.init&&i.push(Ln(M,e.init,{body:e.init})),i.push(Ln(M,e.condition,{body:e.condition})),Pt(n,e.body,i),Ln(N,e,{body:i}).optimize(n)}}return xi(e,n)})),e(V,(function(e,n){if(n.option("varify")&&mt(e.init)){var t=e.init.definitions[0].name;(t instanceof gn||t instanceof Cn)&&!t.match_symbol((function(e){if(e instanceof $n){var t=e.definition();return!Ji(t)||Di(n,t)}}),!0)&&(e.init=Oi(e.init))}return e})),e(Me,(function(e,n){if(bt(e.alternative)&&(e.alternative=null),!n.option("conditionals"))return e;if(n.option("booleans")&&!e.condition.has_side_effects(n)&&Si(n,e.condition),n.option("dead_code")){var t=Ei(n,e.condition);if(!t){S.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var i=[Ln(M,e.condition,{body:e.condition}).transform(n)];return Pt(n,e.body,i),e.alternative&&i.push(e.alternative),Ln(N,e,{body:i}).optimize(n)}if(!(t instanceof S)){S.warn("Condition always true [{file}:{line},{col}]",e.condition.start);i=[Ln(M,e.condition,{body:e.condition}).transform(n),e.body];return e.alternative&&Pt(n,e.alternative,i),Ln(N,e,{body:i}).optimize(n)}}var r=e.condition.negate(n),o=e.condition.print_to_string().length,a=r.print_to_string().length,s=a<o;if(e.alternative&&s){s=!1,e.condition=r;var f=e.body;e.body=e.alternative,e.alternative=bt(f)?null:f}var c=[],u=[],l=[],p=y(e.body,c,u,l),d=[],h=[],v=[],m=y(e.alternative,d,h,v);if(p instanceof N||m instanceof N){i=[];var _=[];if(p&&([].push.apply(i,c),[].push.apply(_,u),p instanceof N?e.body=p:0==p.length?e.body=Ln($,e.body):e.body=Ln(M,e.body,{body:nt(e.body,p)}),l.forEach(G)),m&&([].push.apply(i,d),[].push.apply(_,h),m instanceof N?e.alternative=m:0==m.length?e.alternative=null:e.alternative=Ln(M,e.alternative,{body:nt(e.alternative,m)}),v.forEach(G)),_.length>0&&i.push(Ln(Ue,e,{definitions:_})),i.length>0)return i.push(e),Ln(N,e,{body:i}).optimize(n)}else if(p&&m){i=c.concat(d);return(u.length>0||h.length>0)&&i.push(Ln(Ue,e,{definitions:u.concat(h)})),0==p.length?i.push(Ln(M,e.condition,{body:m.length>0?Ln(pn,e,{operator:"||",left:e.condition,right:nt(e.alternative,m)}).transform(n):e.condition.clone()}).optimize(n)):0==m.length?(o===a&&!s&&e.condition instanceof pn&&"||"==e.condition.operator&&(s=!0),i.push(Ln(M,e,{body:Ln(pn,e,{operator:s?"||":"&&",left:s?r:e.condition,right:nt(e.body,p)}).transform(n)}).optimize(n))):i.push(Ln(M,e,{body:Ln(dn,e,{condition:e.condition,consequent:nt(e.body,p),alternative:nt(e.alternative,m)})}).optimize(n)),l.forEach(G),v.forEach(G),Ln(N,e,{body:i}).optimize(n)}if(bt(e.body)&&(e=Ln(Me,e,{condition:r,body:e.alternative,alternative:null})),e.alternative instanceof De&&e.body.TYPE==e.alternative.TYPE){var g=Ln(e.body.CTOR,e,{value:Ln(dn,e,{condition:e.condition,consequent:e.body.value||Ln(rt,e.body).transform(n),alternative:e.alternative.value||Ln(rt,e.alternative).transform(n)})});return g instanceof Oe&&(g.in_bool=e.body.in_bool||e.alternative.in_bool),g}if(e.body instanceof Me&&!e.body.alternative&&!e.alternative&&(e=Ln(Me,e,{condition:Ln(pn,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),ai(e.body)&&e.alternative){var b=e.alternative;return e.alternative=null,Ln(N,e,{body:[e,b]}).optimize(n)}if(ai(e.alternative)){i=e.body;return e.body=e.alternative,e.condition=s?r:e.condition.negate(n),e.alternative=null,Ln(N,e,{body:[e,i]}).optimize(n)}return n.option("typeofs")&&ki(e.condition,e.body,e.alternative),e;function y(e,t,i,r){if(null==e)return[];if(e instanceof N){for(var o=[],a=0;a<e.body.length;a++){var s=e.body[a];if(!(s instanceof $)){if(s instanceof De){if(0==a)return;o.length>0&&(s=s.clone(),o.push(s.value||Ln(rt,s).transform(n)),s.value=nt(e,o));var f=e.clone();return f.body=f.body.slice(a+1),f.body.unshift(s),f}if(s instanceof de)t.push(s);else if(s instanceof M){if(!n.option("sequences")&&o.length>0)return;o.push(s.body)}else{if(!(s instanceof Ue))return;if(!n.option("sequences")&&o.length>0)return;s.remove_initializers(n,i),s.definitions.forEach(c)}}}return o}if(e instanceof de)return t.push(e),[];if(e instanceof $)return[];if(e instanceof M)return[e.body];if(e instanceof Ue){o=[];return e.remove_initializers(n,i),e.definitions.forEach(c),o}function c(e){e.value&&o.push(Ln(hn,e,{operator:"=",left:e.name.convert_symbol(Rn,(function(e){r.push(e)})),right:e.value}))}}})),e(Fe,(function(e,n){if(!n.option("switches"))return e;if(!n.option("dead_code"))return e;for(var t,r,o,a=[],s=[],f=[],c=0,u=e.body.length;c<u;c++){if((t=e.body[c])instanceof je){var l=a[a.length-1];if(r||k(t.body[0],n)&&(!l||ai(l))){T(t,l);continue}r=t}else{var p=t.expression,d=Ln(pn,e,{operator:"===",left:e.expression,right:p}).evaluate(n,!0);if(!d){p.has_side_effects(n)&&f.push(p),T(t,a[a.length-1]);continue}if(!(d instanceof S)){if(r){var h=a.indexOf(r);a.splice(h,1),T(r,a[h-1]),r=null}for(p.has_side_effects(n)?o=t:r=t=Ln(je,t,t);++c<u;)T(e.body[c],t)}}if(c+1>=u||ai(t)){l=a[a.length-1];var v=t.body;if(ai(l))switch(l.body.length-v.length){case 1:if(!k(b=l.body[l.body.length-1],n))break;v=v.concat(b);case 0:var m=Ln(N,l,l),_=Ln(N,t,{body:v});m.equivalent_to(_)&&(l.body=[])}}f.length&&(t instanceof je?a.push(Ln(Ne,e,{expression:nt(e,f),body:[]})):(f.push(t.expression),t.expression=nt(e,f)),f=[]),a.push(t)}for(f.length&&!o&&a.push(Ln(Ne,e,{expression:nt(e,f),body:[]}));t=a[a.length-1];){var b;if(k(b=t.body[t.body.length-1],n)&&t.body.pop(),t===r){if(!yt(t))break}else{if(t.expression.has_side_effects(n))break;if(r){if(!yt(r))break;if(a[a.length-2]!==r)break;r.body=r.body.concat(t.body),t.body=[]}else if(!yt(t))break}T(t),a.pop()===r&&(r=null)}if(!t)return s.push(Ln(M,e.expression,{body:e.expression})),f.length&&s.push(Ln(M,e,{body:nt(e,f)})),Ln(N,e,{body:s}).optimize(n);if(t===r)for(;(t=a[a.length-2])&&!(t instanceof je)&&yt(t);){if((p=t.expression).has_side_effects(n)){if((l=a[a.length-3])&&!ai(l))break;r.body.unshift(Ln(M,e,{body:p}))}T(t),a.splice(-2,1)}if(a[0].body=s.concat(a[0].body),e.body=a,n.option("conditionals"))switch(a.length){case 1:if(!E(a[0]))break;p=a[0].expression,v=a[0].body.slice();return a[0]!==r&&a[0]!==o?Ln(Me,e,{condition:Ln(pn,e,{operator:"===",left:e.expression,right:p}),body:Ln(N,e,{body:v}),alternative:null}).optimize(n):(p&&v.unshift(Ln(M,p,{body:p})),v.unshift(Ln(M,e.expression,{body:e.expression})),Ln(N,e,{body:v}).optimize(n));case 2:if(!i(r,a)||!E(a[1]))break;var y=(v=a[0].body.slice()).length&&k(v[v.length-1],n);if(y&&v.pop(),!g(v,E))break;var w=a[1].body.length&&Ln(N,a[1],a[1]),x=Ln(Me,e,{condition:Ln(pn,e,a[0]===r?{operator:"!==",left:e.expression,right:a[1].expression}:{operator:"===",left:e.expression,right:a[0].expression}),body:Ln(N,a[0],{body:v}),alternative:y&&w||null});return!y&&w&&(x=Ln(N,e,{body:[x,w]})),x.optimize(n)}return e;function k(n,t){return n instanceof qe&&t.loopcontrol_target(n)===e}function E(n){var t=!1,i=new ut((function(e){if(t||e instanceof ee||e instanceof M)return!0;k(e,i)&&(t=!0)}));return i.push(e),n.walk(i),!t}function T(e,t){t&&!ai(t)?t.body=t.body.concat(e.body):Pt(n,e,s)}})),e(Ie,(function(e,n){if(e.body=Ft(e.body,n),n.option("dead_code")){if(yt(e)&&!(e.bcatch&&e.bcatch.argname&&e.bcatch.argname.match_symbol((function(e){return e instanceof Hn&&!k(e)}),!0))){var t=[];return e.bcatch&&(Pt(n,e.bcatch,t),t.forEach((function(e){e instanceof Ue&&e.definitions.forEach((function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)}))}))),t.unshift(Ln(N,e,e).optimize(n)),e.bfinally&&t.push(Ln(N,e.bfinally,e.bfinally).optimize(n)),Ln(N,e,{body:t}).optimize(n)}if(e.bfinally&&yt(e.bfinally)){t=Ln(N,e.bfinally,e.bfinally).optimize(n);if(t=e.body.concat(t),!e.bcatch)return Ln(N,e,{body:t}).optimize(n);e.body=t,e.bfinally=null}}return e})),Be.DEFMETHOD("remove_initializers",Ti((function(e,n){return Ln(rt,n).optimize(e)}))),Le.DEFMETHOD("remove_initializers",Ti(p)),Ue.DEFMETHOD("remove_initializers",Ti(p)),Re.DEFMETHOD("to_assignments",(function(){var e=this.definitions.reduce((function(e,n){var t=n.name.definition(),i=n.value;if(i){i instanceof tn&&(i=i.clone());var r=Ln(Rn,n.name,n.name),o=Ln(hn,n,{operator:"=",left:r,right:i});e.push(o);var a=function(){return o.right};a.assigns=[o],a.direct_access=t.direct_access,a.escaped=t.escaped,r.fixed=a,t.references.forEach((function(e){if(e.fixed){var i=e.fixed.assigns;i&&i[0]===n&&(i.length>1||e.fixed.to_binary||e.fixed.to_prefix?i[0]=o:(e.fixed=a,t.fixed===e.fixed&&(t.fixed=a)))}})),t.references.push(r)}return t.assignments++,t.eliminated++,t.single_use=!1,e}),[]);return 0==e.length?null:nt(this,e)})),e(Be,zi),e(Le,zi),e(en,(function(e,n){var t=e.expression,i=qi(e,n);if(i)return i;if(n.option("sequences"))if(t instanceof on){if((o=Ci(t))!==t){var r=e.clone();return r.expression=o.expressions.pop(),o.expressions.push(r),o.optimize(n)}}else if(!dt(0,t.tail_node())){var o;if((o=Ci(e))!==e)return o.optimize(n)}if(n.option("unused")&&Mi(e,n),n.option("unsafe"))if(Et(t))switch(t.name){case"Array":if(1==e.args.length){if((d=e.args[0])instanceof Qn)try{var a=d.value;if(a>6)break;for(var s=Array(a),f=0;f<a;f++)s[f]=Ln(ot,e);return Ln(_n,e,{elements:s})}catch(ye){S.warn("Invalid array length: {length} [{file}:{line},{col}]",{length:a,file:e.start.file,line:e.start.line,col:e.start.col});break}if(!d.is_boolean(n)&&!d.is_string(n))break}return Ln(_n,e,{elements:e.args});case"Object":if(0==e.args.length)return Ln(kn,e,{properties:[]});break;case"String":if(0==e.args.length)return Ln(Kn,e,{value:""});if(1==e.args.length)return Ln(pn,e,{operator:"+",left:Ln(Kn,e,{value:""}),right:e.args[0]}).optimize(n);break;case"Number":if(0==e.args.length)return Ln(Qn,e,{value:0});if(1==e.args.length)return Ln(un,e,{operator:"+",expression:Ln(pn,e,{operator:"+",left:Ln(Kn,e,{value:""}),right:e.args[0]})}).optimize(n);break;case"Boolean":if(0==e.args.length)return Ln(ft,e).optimize(n);if(1==e.args.length)return Ln(un,e,{operator:"!",expression:Ln(un,e,{operator:"!",expression:e.args[0]})}).optimize(n);break;case"RegExp":var c=[];if(g(e.args,(function(e){var t=e.evaluate(n);return c.unshift(t),e!==t})))try{return Lt(n,e,Ln(et,e,{value:RegExp.apply(RegExp,c)}))}catch(ye){S.warn("Error converting {expr} [{file}:{line},{col}]",{expr:e,file:e.start.file,line:e.start.line,col:e.start.col})}}else if(t instanceof an)switch(t.property){case"toString":var l=t.expression;if(0==e.args.length&&!(l.may_throw_on_access(n)||l instanceof Vn))return Ln(pn,e,{operator:"+",left:Ln(Kn,e,{value:""}),right:l}).optimize(n);break;case"join":if(t.expression instanceof _n&&e.args.length<2)e:{var p=e.args[0];if(0==t.expression.elements.length&&!(p instanceof fn))return p?nt(e,[p,Ln(Kn,e,{value:""})]).optimize(n):Ln(Kn,e,{value:""});if(!(p&&(p=p.evaluate(n))instanceof S)){s=[];var d,h=[];for(f=0;f<t.expression.elements.length;f++){var v=t.expression.elements[f];if((j=v.evaluate(n))!==v)h.push(j);else{if(v instanceof fn)break e;h.length>0&&(s.push(Ln(Kn,e,{value:h.join(p)})),h.length=0),s.push(v)}}return h.length>0&&s.push(Ln(Kn,e,{value:h.join(p)})),1==s.length?s[0].is_string(n)?s[0]:Ln(pn,s[0],{operator:"+",left:Ln(Kn,e,{value:""}),right:s[0]}):""==p?(d=s[0].is_string(n)||s[1].is_string(n)?s.shift():Ln(Kn,e,{value:""}),s.reduce((function(e,n){return Ln(pn,n,{operator:"+",left:e,right:n})}),d).optimize(n)):((se=e.clone()).expression=se.expression.clone(),se.expression.expression=se.expression.expression.clone(),se.expression.expression.elements=s,Lt(n,e,se))}}break;case"charAt":if(e.args.length<2)return(se=Ln(pn,e,{operator:"||",left:Ln(sn,e,{expression:t.expression,property:e.args.length?Ln(pn,e.args[0],{operator:"|",left:Ln(Qn,e,{value:0}),right:e.args[0]}):Ln(Qn,e,{value:0})}).optimize(n),right:Ln(Kn,e,{value:""})})).is_string=u,se.optimize(n);break;case"apply":if(2==e.args.length&&e.args[1]instanceof _n)return(J=e.args[1].elements.slice()).unshift(e.args[0]),Ln(en,e,{expression:Ln(an,t,{expression:t.expression,property:"call"}),args:J}).optimize(n);break;case"call":var m=t.expression;if(m instanceof Rn&&(m=m.fixed_value()),m instanceof ee&&!m.contains_this())return(e.args.length?nt(this,[e.args[0],Ln(en,e,{expression:t.expression,args:e.args.slice(1)})]):Ln(en,e,{expression:t.expression,args:[]})).optimize(n)}if(n.option("unsafe_Function")&&Et(t)&&"Function"==t.name){if(0==e.args.length)return Ln(le,e,{argnames:[],body:[]}).init_vars(t.scope);if(g(e.args,(function(e){return e instanceof Kn})))try{var _=Bt(k="n(function("+e.args.slice(0,-1).map((function(e){return e.value})).join()+"){"+e.args[e.args.length-1].value+"})"),y={ie:n.option("ie")};_.figure_out_scope(y);var w,x=new Zt(n.options);(_=_.transform(x)).figure_out_scope(y),_.compute_char_frequency(y),_.mangle_names(y),_.walk(new ut((function(e){return!!w||(e instanceof ee?(w=e,!0):void 0)})));var k=ni();return N.prototype._codegen.call(w,k),e.args=[Ln(Kn,e,{value:w.argnames.map((function(e){return e.print_to_string()})).join()}),Ln(Kn,e.args[e.args.length-1],{value:k.get().replace(/^\{|\}$/g,"")})],e}catch(ye){if(!(ye instanceof Ct))throw ye;S.warn("Error parsing code passed to new Function [{file}:{line},{col}]",e.args[e.args.length-1].start),S.warn(ye.toString())}}var E=t instanceof Rn?t.fixed_value():t,T=n.parent(),A=n.self(),D=E instanceof ee&&(!re(E)||n.option("awaits")&&T instanceof vn)&&(!oe(E)||n.option("yields")&&A instanceof mn&&A.nested),O=D&&E.first_statement(),z=0,q=!1,C=!g(e.args,(function(e){return!(e instanceof fn)})),F=D&&g(E.argnames,(function(n,t){if(1==z&&e.args[t]instanceof fn&&(z=2),n instanceof Qe){if(z||(z=1),jt(1==z&&e.args[t])||(z=2),or(E,n.value))return!1;n=n.name}return!(n instanceof gn&&(q=!0,or(E,n)))}))&&!(E.rest instanceof gn&&or(E,E.rest)),P=F&&n.option("inline")&&!e.is_expr_pure(n)&&(t===E||ji(E,n));if(P&&O instanceof Oe){var j=O.value;if(t===E&&!E.name&&(!j||j.is_constant_expression())&&Pi(E,Fi(n)))return nt(e,ue(j)).optimize(n)}if(D&&!E.contains_this()){var I,H=!1;if(P&&!E.uses_arguments&&!E.pinned()&&!(E.name&&E instanceof te)&&(t===E||!Gi(n,I=t.definition(),E)&&E.is_constant_expression(bn(n)))&&(j=function(e){var t=E.body.length;if(t<2&&(e=ve(e)))return e;if(n.option("inline")<3)return!1;e=null;for(var i=0;i<t;i++){var r=E.body[i];if(r instanceof Ue){if(H){if(!e)continue;if(!(e instanceof M))return!1;Dt(r)||(e=null)}else if(!Dt(r)){if(e&&!(e instanceof M))return!1;e=null,H=!0}}else{if(r instanceof he||r instanceof me||r instanceof $)continue;if(e)return!1;e=r}}return ve(e)}(O))){var Y,B,L,W,G=t===E||I.single_use&&I.references.length-I.replaced==1;if(function(){if(z||q||C||H||E.rest)return;if(n.option("inline")<2&&E.argnames.length)return;if(!E.variables.all((function(e){return e.references.length-e.replaced<2&&e.orig[0]instanceof Fn})))return;var t,i=n.find_parent(K),r=!1,o=Fi(n,i),a=[],s=!1;if(j.walk(new ut((function(e,i){if(r)return!0;if(e instanceof pn&&Nt[e.operator]||e instanceof dn)a=null;else{if(e instanceof K)return r=!0;if(o&&e instanceof On&&o[e.name])return r=!0;if(!(e instanceof Rn))return e.has_side_effects(n)?(i(),s=!0,!0):void 0;var f=e.definition();if(E.variables.get(e.name)!==f)return void(a=null);if(f.init instanceof de)return r=!0;if(Wt(e,this.parent()))return r=!0;var c=_e(f);if(t<c||(t=c),!a)return;s?a=null:a.push(E.argnames[c])}}))),r)return;var f=e.args.length;if(a&&E.argnames.length>=f){for(f=E.argnames.length;f-- >t&&E.argnames[f]===a.pop(););f++}return f<=t||g(e.args.slice(t,f),s&&!a?function(e){return e.is_constant_expression(i)}:function(e){return!e.has_side_effects(n)})}()){var J=e.args.slice(),X=[],Z=j.clone(!0).transform(new lt((function(n){if(n instanceof Rn){var t=n.definition();if(E.variables.get(n.name)!==t)return X.push(n),n;var i=_e(t),r=J[i];if(!r)return Ln(rt,e);J[i]=null;var o=this.parent();return o?ht(0,o,n,r):r}}))),ne=E.inlined;t!==E&&(E.inlined=!0);var ae=[];J.forEach((function(e){e&&((e=e.clone(!0)).walk(new ut((function(e){e instanceof Rn&&X.push(e)}))),ae.push(e))}),[]),ae.push(Z);var se=nt(e,ae).optimize(n);if(E.inlined=ne,se=ht(0,T,A,se),G||Ht(se,e)===se)return X.forEach((function(e){e.scope=t===E?E.parent_scope:t.scope,e.reference();var n=e.definition();G&&n.replaced++,n.single_use=!1})),se;se.has_side_effects(n)||(e.drop_side_effect_free=function(e,n){var t=this,i=t.args.slice();return i.unshift(t.expression),nt(t,i).drop_side_effect_free(e,n)})}if(G&&function(){var e,i=new b,r=0;W=A;do{if(W.variables&&W.variables.each((function(e){i.set(e.name,!0)})),e=W,(W=n.parent(r++))instanceof xe){if(!W.static)return!1}else if(W instanceof R)L=[];else if(W instanceof U){if(W.init===e)continue;L=[]}else if(W instanceof V){if(W.init===e)continue;if(W.object===e)continue;L=[]}}while(!(W instanceof K));if(!(B=W.body.indexOf(e)+1))return!1;if(!Pi(E,Fi(n,W)))return!1;var o=(t!==E||E.parent_scope.resolve()===W)&&!W.pinned();W instanceof Q&&(n.toplevel.vars?i.set("arguments",!0):o=!1);Y=new b;var a=n.option("inline");return!!function(e,n){var t=!1;return E.each_argname((function(i){if(!t&&!i.unused){if(!n||ge(e,i.name))return t=!0;Y.set(i.name,!0),L&&L.push(i.definition())}})),!t}(i,a>=2&&o)&&(!!function(e,n){for(var t=0;t<E.body.length;t++){var i=E.body[t];if(i instanceof de){var r=i.name;if(!n)return!1;if(Y.has(r.name))return!1;if(ge(e,r.name))return!1;if(!g(i.enclosed,(function(n){return n.scope===W||n.scope===i||!e.has(n.name)})))return!1;L&&L.push(r.definition())}else if(i instanceof Ue){if(!n)return!1;for(var o=i.definitions.length;--o>=0;){r=i.definitions[o].name;if(ge(e,r.name))return!1;L&&L.push(r.definition())}}}return!0}(i,a>=3&&o)&&(!L||0==L.length||!Zi(E,L)))}()){E._squeezed=!0,t!==E&&(E.parent_scope=t.scope);se=nt(e,function(){var t=[],i=[];z>1||q||C||E.rest?function(n,t){function i(e,i){if(i.unused)return ce(i);var r=i.definition();r.assignments++,r.references.push(e);var o=Ln(Mn,i,i);r.orig.push(o),r.eliminated++,be(n,t,o)}t.push(Ln(hn,e,{operator:"=",left:Ln(yn,e,{elements:E.argnames.map((function(e){return e.unused?Ln(ot,e):e.convert_symbol(Rn,i)})),rest:E.rest&&E.rest.convert_symbol(Rn,i)}),right:Ln(_n,e,{elements:e.args.slice()})}))}(t,i):function(n,t){for(var i=E.argnames.length,r=e.args.length;--r>=i;)t.push(e.args[r]);var o=[];for(r=i;--r>=0;){var a,s=E.argnames[r];s instanceof Qe?(o.push(s),a=s.name):a=s;var f=e.args[r];if(a.unused||W.var_names().has(a.name))f&&t.push(f);else{var c=Ln(Mn,a,a),u=a.definition();u.orig.push(c),u.eliminated++,void 0!==a.unused?(be(n,t,c),f&&t.push(f)):(!f&&L&&s===a&&(f=Ln(rt,e)),be(n,t,c,f))}}for(n.reverse(),t.reverse(),r=o.length;--r>=0;){var l=o[r];if(void 0!==l.name.unused)t.push(l.value);else{var p=Ln(Rn,l.name,l.name);l.name.definition().references.push(p),t.push(Ln(hn,l,{operator:"=",left:p,right:l.value}))}}}(t,i);var r=function(e,t){var i=[B,0],r=[],o=[],a=[],s=[],f=[];return E.body.filter(L?function(n){if(!(n instanceof de))return!0;var t=Ln(Mn,n.name,rr(n.name)),i=t.definition();return i.fixed=!1,i.orig.push(t),i.eliminated++,be(e,o,t,hi(n,!0)),!1}:function(e){if(!(e instanceof de))return!0;var n=e.name.definition();return W.functions.set(n.name,n),W.variables.set(n.name,n),W.enclosed.push(n),W.var_names().set(n.name,!0),i.push(e),!1}).forEach((function(e){if(e instanceof Ue)for(var t=0;t<e.definitions.length;t++){var i=e.definitions[t],o=rr(i.name),c=i.value;c&&f.length>0&&(f.push(c),c=nt(i,f),f=[]),be(r,a,o,c),L&&(Y.has(o.name)||1==o.definition().orig.length&&E.functions.has(o.name)||s.push(sr(n,o)))}else e instanceof M&&f.push(e.body)})),[].push.apply(e,r),[].push.apply(t,s),[].push.apply(t,o),[].push.apply(t,a),i}(t,i);i.push(j),t.length&&r.push(Ln(Ue,E,{definitions:t}));return[].splice.apply(W.body,r),E.enclosed.forEach((function(e){W.var_names().has(e.name)||(W.enclosed.push(e),W.var_names().set(e.name,!0))})),i}()).optimize(n);return ht(0,T,A,se)}}if(n.option("side_effects")&&F&&g(E.body,bt)&&(E===t?bi(E,n):!z&&!q&&!E.rest)&&(!ie(E)||!E.value)&&Pi(E,Fi(n)))return nt(e,ue()).optimize(n)}if(n.option("drop_console")&&t instanceof on){for(var fe=t.expression;fe.expression;)fe=fe.expression;if(Et(fe)&&"console"==fe.name)return Ln(rt,e).optimize(n)}return n.option("negate_iife")&&T instanceof M&&xt(A)?e.negate(n,!0):Kt(n,e);function ce(e){return Ln(sn,e,{expression:Ln(_n,e,{elements:[]}),property:Ln(Qn,e,{value:0})})}function ue(n){var t=e.args.slice(),i=z>1||q||E.rest;if((i||C)&&(t=[Ln(_n,e,{elements:t})]),i){var r=new lt((function(e,n){if(e instanceof Qe)return Ln(Qe,e,{name:e.name.transform(r)||ce(e),value:e.value});if(e instanceof yn){var t=[];return e.elements.forEach((function(e,n){(e=e.transform(r))&&(t[n]=e)})),pi(e,t),Ln(yn,e,{elements:t})}if(e instanceof xn){var i=[],o=[];return e.properties.forEach((function(n){var t=n.key,a=n.value.transform(r);a?(o.length&&(t instanceof S||(t=pt(t,n)),o.push(t),t=nt(e,o),o=[]),i.push(Ln(wn,n,{key:t,value:a}))):t instanceof S&&o.push(t)})),o.length&&i.push(Ln(wn,e,{key:nt(e,o),value:ce(e)})),Ln(xn,e,{properties:i})}return e instanceof Fn?null:void 0})),o=[];E.argnames.forEach((function(e,n){(e=e.transform(r))&&(o[n]=e)}));var a=E.rest&&E.rest.transform(r);a&&(o.length=E.argnames.length),pi(E,o),t[0]=Ln(hn,e,{operator:"=",left:Ln(yn,E,{elements:o,rest:a}),right:t[0]})}else E.argnames.forEach((function(e){e instanceof Qe&&t.push(e.value)}));return t.push(n||Ln(rt,e)),t}function pe(){return e.call_only?Ln(Qn,e,{value:0}):Ln(rt,e)}function ve(n){return n?n instanceof Oe?n.value||pe():n instanceof M?e.call_only?n.body:Ln(un,n,{operator:"void",expression:n.body}):void 0:pe()}function _e(e){for(var n=E.argnames.length;--n>=0;)if(E.argnames[n].definition()===e)return n}function ge(e,n){return e.has(n)||Nn[n]||W.var_names().has(n)}function be(n,t,i,r){var o=i.definition();if(W.var_names().has(i.name)||(W.var_names().set(i.name,!0),n.push(Ln(Ve,i,{name:i,value:null}))),W.variables.set(i.name,o),W.enclosed.push(o),r){var a=Ln(Rn,i,i);o.assignments++,o.references.push(a),t.push(Ln(hn,e,{operator:"=",left:a,right:r}))}}})),e(nn,(function(e,n){if(n.option("sequences")){var t=Ci(e);if(t!==e)return t.optimize(n)}if(n.option("unused")&&Mi(e,n),n.option("unsafe")){var i=e.expression;if(Et(i))switch(i.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return Ln(en,e,e).transform(n)}}return e})),e(tn,(function(e,n){var t=function(){if(!n.option("side_effects"))return e.expressions;var t=[],i=w(n),r=e.expressions.length-1;return e.expressions.forEach((function(e,o){o<r&&(e=e.drop_side_effect_free(n,i)),e&&(vt(t,e),i=!1)})),t}(),i=t.length-1;return function(){for(var e=1;e<i;e++){var o=t[e-1],a=r(o);if(a){var s=t[e];if(n.option("conditionals")){var f=Ni(n,a,o.right,s);if(f){o.right=f,t.splice(e--,1),i--;continue}}n.option("dead_code")&&r(s)===a&&s.right.is_constant_expression(a.scope.resolve())&&(t[--e]=o.right)}}}(),function(){if(!n.option("side_effects"))return;for(;i>0&&jt(t[i],n);)i--;i<t.length-1&&(t[i]=Ln(un,e,{operator:"void",expression:t[i]}),t.length=i+1)}(),0==i?((e=ht(0,n.parent(),n.self(),t[0]))instanceof tn||(e=e.optimize(n)),e):(e.expressions=t,e);function r(e){return e instanceof hn&&"="==e.operator&&e.left instanceof Rn&&e.left.definition()}})),e(ln,(function(e,n){if(n.option("sequences")){var t=Ci(e);if(t!==e)return t.optimize(n)}return Kt(n,e)}));var Ii=_("+ -"),Hi=_("* / %");e(un,(function(e,n){var t=e.operator,i=e.expression;if(n.option("sequences")&&function(){switch(t){case"delete":return!s(i.tail_node());case"typeof":return!Et(i.tail_node());default:return!0}}()){var r=Ci(e);if(r!==e)return r.optimize(n)}switch(t){case"+":if(!n.option("evaluate"))break;if(!i.is_number(n,!0))break;var o=n.parent();if(o instanceof un&&"delete"==o.operator)break;return i;case"-":if(i instanceof at&&(i=i.transform(n)),i instanceof Qn||i instanceof at)return e;break;case"!":if(!n.option("booleans"))break;if(i.is_truthy())return nt(e,[i,Ln(ft,e)]).optimize(n);if(n.in_boolean_context()){if(i instanceof un&&"!"==i.operator)return i.expression;i instanceof pn&&(e=Lt(n,e,i.negate(n,w(n))))}break;case"delete":if(!n.option("evaluate"))break;if(s(i))break;return nt(e,[i,Ln(ct,e)]).optimize(n);case"typeof":if(!n.option("booleans"))break;if(!n.in_boolean_context())break;S.warn("Boolean expression always true [{file}:{line},{col}]",e.start);var a=[Ln(ct,e)];return i instanceof Rn&&k(i,n)||a.unshift(i),nt(e,a).optimize(n);case"void":if(!n.option("side_effects"))break;return(i=i.drop_side_effect_free(n))?(e.expression=i,e):Ln(rt,e).optimize(n)}return n.option("evaluate")&&i instanceof pn&&Ii[t]&&Hi[i.operator]&&(i.left.is_constant()||!i.right.has_side_effects(n))?Ln(pn,e,{operator:i.operator,left:Ln(un,i.left,{operator:t,expression:i.left}),right:i.right}):Kt(n,e);function s(e){return e instanceof at||e instanceof it||e instanceof Gn||e instanceof on||e instanceof Rn||e instanceof rt}})),e(vn,(function(e,n){if(!n.option("awaits"))return e;if(n.option("sequences")){var t=Ci(e);if(t!==e)return t.optimize(n)}if(n.option("side_effects")){var i=e.expression;if(i instanceof vn)return i.optimize(n);if(i instanceof un&&i.expression instanceof vn)return i.optimize(n);for(var r,o=0,a=e;r=n.parent(o++);a=r){if(ie(r)){if(r.value===a)return i.optimize(n)}else if(r instanceof Oe){var s=!0;do{if(a=r,(r=n.parent(o++))instanceof Ie&&(r.bfinally||r.bcatch)!==a){s=!1;break}}while(r&&!(r instanceof K));if(s)return i.optimize(n)}else if(r instanceof tn&&r.tail_node()===a)continue;break}}return e})),e(mn,(function(e,n){if(!n.option("yields"))return e;if(n.option("sequences")){var t=Ci(e);if(t!==e)return t.optimize(n)}var i=e.expression;if(e.nested&&"Call"==i.TYPE){var r=i.clone().optimize(n);if("Call"!=r.TYPE)return r}return e})),pn.DEFMETHOD("lift_sequences",(function(e){if(this.left instanceof on){if(!(this.left.expression instanceof tn))return this;var n=this.left.expression.expressions.slice();return(t=this.clone()).left=t.left.clone(),t.left.expression=n.pop(),n.push(t),nt(this,n)}if(this.left instanceof tn){n=this.left.expressions.slice();return(t=this.clone()).left=n.pop(),n.push(t),nt(this,n)}if(this.right instanceof tn){if(this.left.has_side_effects(e))return this;for(var t,i="="==this.operator&&this.left instanceof Rn,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),nt(this,n);if(o>0)return(t=this.clone()).right=nt(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),nt(this,n)}return this}));var Yi=_("indexOf lastIndexOf"),Ri=_("== === != !== * & | ^");function Bi(e){return e instanceof hn?"="==e.operator&&Bi(e.right):e instanceof tn?Bi(e.tail_node()):e instanceof Rn?Bi(e.fixed_value()):e instanceof _n||e instanceof ge||e instanceof ee||e instanceof nn||e instanceof kn}function Li(e,n,t){switch(e){case"in":return Bi(n)||t&&t.option("unsafe_comps");case"instanceof":return n instanceof Rn&&(n=n.fixed_value()),o(n)||t&&t.option("unsafe_comps");default:return!0}}function Ui(e,n){if(n.is_constant())return!0;if(n instanceof hn)return"="!=n.operator||Ui(e,n.right);if(n instanceof pn)return!Nt[n.operator]||Ui(e,n.left)&&Ui(e,n.right);if(n instanceof dn)return Ui(e,n.consequent)&&Ui(e,n.alternative);if(n instanceof tn)return Ui(e,n.tail_node());if(n instanceof Rn){var t=n.fixed_value();return t&&Ui(e,t)}return n instanceof Jn?!n.tag||Xi(e,n.tag):n instanceof cn||void 0}function Vi(e,n){return n instanceof an?Vi(e,n.expression):n instanceof sn?Vi(e,n.expression)&&Vi(e,n.property):n instanceof On||!n.has_side_effects(e)}function Wi(e,n){var t=e.right;e.left=Ln(pn,e,{operator:e.operator,left:e.left,right:t.left,start:e.left.start,end:t.left.end}),e.right=t.right,n?e.left=e.left.transform(n):e.operator==t.left.operator&&Wi(e.left)}function Gi(e,n,t){var i=0,r=e.self();do{if(r===t)return r;if(o(r)&&r.name&&r.name.definition()===n)return r}while(r=e.parent(i++))}function Ji(e){var n=e.scope.resolve();return g(e.references,(function(e){return n===e.scope.resolve()}))}function Xi(e,n){return e.option("unsafe")&&n instanceof an&&"raw"==n.property&&Et(n.expression)&&"String"==n.expression.name}function Ki(e){var n=!1;if(e=e.replace(/\\(u\{[^{}]*\}?|u[\s\S]{0,4}|x[\s\S]{0,2}|[0-9]+|[\s\S])/g,(function(e,t){var i=qt(t);if("string"==typeof i)return i;n=!0})),!n)return e}function Qi(e,n){return e instanceof Rn||e.TYPE===n.TYPE}function Zi(e,n){var t=!1,r=new ut((function(e){return!!t||(e instanceof Rn&&i(e.definition(),n)?t=!0:void 0)})),o=new ut((function(n){if(t)return!0;if(n instanceof ee&&n!==e){if(!(n.name||re(n)||oe(n))){var i=o.parent();if(i instanceof en&&i.expression===n)return}return n.walk(r),!0}}));return e.walk(o),t}e(pn,(function(e,n){if(!Ri[e.operator]||!e.right.is_constant()||e.left.is_constant()||e.left instanceof pn&&Yt[e.left.operator]>=Yt[e.operator]||$(),n.option("sequences")){var t=e.lift_sequences(n);if(t!==e)return t.optimize(n)}if(n.option("assignments")&&Nt[e.operator]){var i=e.right;if(e.left instanceof Rn&&i instanceof hn&&"="==i.operator&&e.left.equivalent_to(i.left))return Ln(hn,e,{operator:"=",left:i.left,right:Ln(pn,e,{operator:e.operator,left:e.left,right:i.right})}).optimize(n)}if(n.option("comparisons"))switch(e.operator){case"===":case"!==":if(jt(e.left,n)&&e.right.is_defined(n))return S.warn("Expression always defined [{file}:{line},{col}]",e.start),nt(e,[e.right,Ln("==="==e.operator?ft:ct,e)]).optimize(n);var r=!0;(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_number(n)&&e.right.is_number(n)||e.left.is_boolean(n)&&e.right.is_boolean(n)||Vi(n,e.left)&&e.left.equivalent_to(e.right))&&(e.operator=e.operator.slice(0,2));case"==":case"!=":if(!r&&jt(e.left,n))e.left=Ln(tt,e.left);else if(n.option("typeofs")&&e.left instanceof Kn&&"undefined"==e.left.value&&e.right instanceof un&&"typeof"==e.right.operator){((a=e.right.expression)instanceof Rn?!a.is_declared(n):a instanceof on&&n.option("ie"))||(e.right=a,e.left=Ln(rt,e.left).optimize(n),2==e.operator.length&&(e.operator+="="))}else if(e.left instanceof Rn&&e.right instanceof Rn&&e.left.definition()===e.right.definition()&&Bi(e.left))return Ln("="==e.operator[0]?ct:ft,e).optimize(n);break;case"&&":case"||":var a;if((c=e.left).operator==e.operator&&(c=c.right),(a=c.right)instanceof hn&&"="==a.operator&&(a=a.left),c instanceof pn&&c.operator==("&&"==e.operator?"!==":"===")&&e.right instanceof pn&&c.operator==e.right.operator&&(jt(c.left,n)&&e.right.left instanceof tt||c.left instanceof tt&&jt(e.right.left,n))&&!a.has_side_effects(n)&&a.equivalent_to(e.right.right))return c.operator=c.operator.slice(0,-1),c.left=Ln(tt,e),e.left}var s=!1,f=n.parent();if(n.option("booleans")){var c=e.left;if(Nt[e.operator]&&!c.has_side_effects(n)){if(c.equivalent_to(e.right))return ht(0,f,n.self(),c).optimize(n);Si(n,c)}s=n.in_boolean_context()}if(s)switch(e.operator){case"+":var u=e.left.evaluate(n,!0);if(u&&"string"==typeof u||(u=e.right.evaluate(n,!0))&&"string"==typeof u){S.warn("+ in boolean context always true [{file}:{line},{col}]",e.start);var l=[];if(e.left.evaluate(n)instanceof S&&l.push(e.left),e.right.evaluate(n)instanceof S&&l.push(e.right),l.length<2)return l.push(Ln(ct,e)),nt(e,l).optimize(n);e.truthy=!0}break;case"==":if(e.left instanceof Kn&&""==e.left.value&&e.right.is_string(n))return Ln(un,e,{operator:"!",expression:e.right}).optimize(n);break;case"!=":if(e.left instanceof Kn&&""==e.left.value&&e.right.is_string(n))return e.right.optimize(n)}if(n.option("comparisons")&&e.is_boolean(n)){if(!(f instanceof pn)||f instanceof hn){var p=Lt(n,e,Ln(un,e,{operator:"!",expression:e.negate(n,w(n))}));if(p!==e)return p}switch(e.operator){case">":$("<");break;case">=":$("<=")}}if(n.option("conditionals")&&Nt[e.operator]&&e.right instanceof pn&&e.operator==e.right.operator&&Wi(e,n),n.option("strings")&&"+"==e.operator){if(e.right instanceof Kn&&""==e.right.value&&e.left.is_string(n))return e.left.optimize(n);if(e.left instanceof Kn&&""==e.left.value&&e.right.is_string(n))return e.right.optimize(n);if(e.left instanceof pn&&"+"==e.left.operator&&e.left.left instanceof Kn&&""==e.left.left.value&&e.right.is_string(n)&&(e.left.right.is_constant()||!e.right.has_side_effects(n)))return e.left=e.left.right,e.optimize(n);e.right instanceof pn&&e.operator==e.right.operator&&(e.left.is_string(n)&&e.right.is_string(n)||e.right.left.is_string(n)&&(e.left.is_constant()||!e.right.right.has_side_effects(n)))&&Wi(e,n)}if(n.option("evaluate")){var d=!0;switch(e.operator){case"&&":if(!(_=Ei(n,e.left)))return S.warn("Condition left of && always false [{file}:{line},{col}]",e.start),ht(0,f,n.self(),e.left).optimize(n);if(!(_ instanceof S))return S.warn("Condition left of && always true [{file}:{line},{col}]",e.start),nt(e,[e.left,e.right]).optimize(n);if(e.right.evaluate(n,!0)){if((s||"&&"==f.operator&&f.left===n.self())&&!(e.right.evaluate(n)instanceof S))return S.warn("Dropping side-effect-free && [{file}:{line},{col}]",e.start),e.left.optimize(n)}else{if(s&&!(e.right.evaluate(n)instanceof S))return S.warn("Boolean && always false [{file}:{line},{col}]",e.start),nt(e,[e.left,Ln(ft,e)]).optimize(n);e.falsy=!0}if("||"==e.left.operator)if(!(m=Ei(n,e.left.right)))return Ln(dn,e,{condition:e.left.left,consequent:e.right,alternative:e.left.right}).optimize(n);break;case"??":var h=!0;case"||":var v,m,_=Ei(n,e.left,h);if(!(h?null!=_:_))return S.warn("Condition left of {operator} always {value} [{file}:{line},{col}]",{operator:e.operator,value:h?"nulish":"false",file:e.start.file,line:e.start.line,col:e.start.col}),nt(e,[e.left,e.right]).optimize(n);if(!(_ instanceof S))return S.warn("Condition left of {operator} always {value} [{file}:{line},{col}]",{operator:e.operator,value:h?"defined":"true",file:e.start.file,line:e.start.line,col:e.start.col}),ht(0,f,n.self(),e.left).optimize(n);if(h||!(v=e.right.evaluate(n,!0))||v instanceof S){if((s||"||"==f.operator&&f.left===n.self())&&!e.right.evaluate(n))return S.warn("Dropping side-effect-free {operator} [{file}:{line},{col}]",{operator:e.operator,file:e.start.file,line:e.start.line,col:e.start.col}),e.left.optimize(n)}else{if(s&&!(e.right.evaluate(n)instanceof S))return S.warn("Boolean || always true [{file}:{line},{col}]",e.start),nt(e,[e.left,Ln(ct,e)]).optimize(n);e.truthy=!0}if(!h&&"&&"==e.left.operator)if((m=Ei(n,e.left.right))&&!(m instanceof S))return Ln(dn,e,{condition:e.left.left,consequent:e.left.right,alternative:e.right}).optimize(n);break;case"+":if(e.left instanceof Xn&&e.right instanceof pn&&"+"==e.right.operator&&e.right.left instanceof Xn&&e.right.is_string(n)&&(e=Ln(pn,e,{operator:"+",left:Ln(Kn,e.left,{value:""+e.left.value+e.right.left.value,start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof Xn&&e.left instanceof pn&&"+"==e.left.operator&&e.left.right instanceof Xn&&e.left.is_string(n)&&(e=Ln(pn,e,{operator:"+",left:e.left.left,right:Ln(Kn,e.right,{value:""+e.left.right.value+e.right.value,start:e.left.right.start,end:e.right.end})})),e.right instanceof un&&"-"==e.right.operator&&e.left.is_number(n)){e=Ln(pn,e,{operator:"-",left:e.left,right:e.right.expression});break}if(e.left instanceof un&&"-"==e.left.operator&&O()&&e.right.is_number(n)){e=Ln(pn,e,{operator:"-",left:e.right,right:e.left.expression});break}if(n.option("unsafe_math")&&e.left instanceof pn&&Yt[e.left.operator]==Yt[e.operator]&&e.right.is_constant()&&(e.right.is_boolean(n)||e.right.is_number(n))&&e.left.is_number(n)&&!e.left.right.is_constant()&&(e.left.left.is_boolean(n)||e.left.left.is_number(n))){e=Ln(pn,e,{operator:e.left.operator,left:Ln(pn,e,{operator:e.operator,left:e.right,right:e.left.left}),right:e.left.right});break}case"-":if(e.right instanceof un&&"-"==e.right.operator&&e.left.is_number(n)&&e.right.expression.is_number(n)){e=Ln(pn,e,{operator:"+",left:e.left,right:e.right.expression});break}case"*":case"/":d=n.option("unsafe_math"),"+"!=e.operator&&["left","right"].forEach((function(t){var i=e[t];if(i instanceof un&&"+"==i.operator){var r=i.expression;(r.is_boolean(n)||r.is_number(n)||r.is_string(n))&&(e[t]=r)}}));case"&":case"|":case"^":if("-"!=e.operator&&"/"!=e.operator&&(e.left.is_boolean(n)||e.left.is_number(n))&&(e.right.is_boolean(n)||e.right.is_number(n))&&O()&&!(e.left instanceof pn&&e.left.operator!=e.operator&&Yt[e.left.operator]>=Yt[e.operator])){var g=Ln(pn,e,{operator:e.operator,left:e.right,right:e.left});e=e.right instanceof Xn&&!(e.left instanceof Xn)?Lt(n,g,e):Lt(n,e,g)}if(!d||!e.is_number(n))break;if(!(e.right instanceof pn&&"%"!=e.right.operator&&Yt[e.right.operator]==Yt[e.operator]&&e.right.is_number(n)&&("+"!=e.operator||e.right.left.is_boolean(n)||e.right.left.is_number(n)))||"-"==e.operator&&e.left.is_negative_zero()||!e.right.left.is_constant_expression()&&e.right.right.has_side_effects(n)||function(e){var n=!1;return e.walk(new ut((function(e){if(n)return!0;if(e instanceof hn){if(e.left instanceof on)return n=!0}else if(e instanceof cn&&Vt[e.operator]&&e.expression instanceof on)return n=!0}))),n}(e.right.right)||"+"!=(e=Ln(pn,e,{operator:T(e.operator,e.right.operator),left:Ln(pn,e.left,{operator:e.operator,left:e.left,right:e.right.left,start:e.left.start,end:e.right.left.end}),right:e.right.right})).operator||e.right.is_boolean(n)||e.right.is_number(n)||(e.right=Ln(un,e.right,{operator:"+",expression:e.right})),e.right instanceof Xn&&e.left instanceof pn&&"%"!=e.left.operator&&Yt[e.left.operator]==Yt[e.operator]&&e.left.is_number(n))if(e.left.left instanceof Xn){c=A(e.left,e.operator,e.left.left,e.right,e.left.left.start,e.right.end);e=A(e,e.left.operator,Kt(n,c),e.left.right)}else if(e.left.right instanceof Xn){var b=T(e.left.operator,e.operator),y=Kt(n,A(e.left,b,e.left.right,e.right));!y.is_constant()||"-"==e.left.operator&&0!=e.right.value&&0==+y.value&&e.left.left.is_negative_zero()||(e=A(e,e.left.operator,e.left.left,y))}break;case"instanceof":if(o(e.right))return nt(e,[e,Ln(ft,e)]).optimize(n)}if(!(f instanceof un&&"delete"==f.operator)){if(e.left instanceof Qn&&!e.right.is_constant())switch(e.operator){case"+":if(0==e.left.value){if(e.right.is_boolean(n))return Ln(un,e,{operator:"+",expression:e.right}).optimize(n);if(e.right.is_number(n)&&!e.right.is_negative_zero())return e.right}break;case"*":if(1==e.left.value)return Ln(un,e,{operator:"+",expression:e.right}).optimize(n)}if(e.right instanceof Qn&&!e.left.is_constant())switch(e.operator){case"+":if(0==e.right.value){if(e.left.is_boolean(n))return Ln(un,e,{operator:"+",expression:e.left}).optimize(n);if(e.left.is_number(n)&&!e.left.is_negative_zero())return e.left}break;case"-":if(0==e.right.value)return Ln(un,e,{operator:"+",expression:e.left}).optimize(n);break;case"/":if(1==e.right.value)return Ln(un,e,{operator:"+",expression:e.left}).optimize(n)}}}if(n.option("typeofs"))switch(e.operator){case"&&":ki(e.left,e.right,null);break;case"||":ki(e.left,null,e.right)}if(n.option("unsafe")){var x=D(e.right);if(s&&x&&("=="==e.operator||"!="==e.operator)&&e.left instanceof Qn&&0==e.left.value)return("=="==e.operator?Ln(un,e,{operator:"!",expression:e.right}):e.right).optimize(n);var k=D(e.left);if(n.option("comparisons")&&function(){switch(e.operator){case"<=":return x&&e.left instanceof Qn&&0==e.left.value;case"<":if(k&&e.right instanceof Qn&&0==e.right.value)return!0;case"==":case"!=":return!!x&&(e.left instanceof Qn&&-1==e.left.value||e.left instanceof un&&"-"==e.left.operator&&e.left.expression instanceof Qn&&1==e.left.expression.value)}}()){var E=Ln(un,e,{operator:"!",expression:Ln(un,e,{operator:"~",expression:k?e.left:e.right})});switch(e.operator){case"<":if(k)break;case"<=":case"!=":E=Ln(un,e,{operator:"!",expression:E})}return E.optimize(n)}}return Kt(n,e);function T(e,n){switch(e){case"-":return"+"==n?"-":"+";case"/":return"*"==n?"/":"*";default:return n}}function A(e,t,i,r,o,a){return"+"==t&&(i.is_boolean(n)||i.is_number(n)||(i=Ln(un,i,{operator:"+",expression:i})),r.is_boolean(n)||r.is_number(n)||(r=Ln(un,r,{operator:"+",expression:r}))),Ln(pn,e,{operator:t,left:i,right:r,start:o,end:a})}function D(e){return"Call"==e.TYPE&&e.expression instanceof an&&Yi[e.expression.property]}function O(){return e.left.is_constant()||e.right.is_constant()||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n)}function $(n){if(O()){n&&(e.operator=n);var t=e.left;e.left=e.right,e.right=t}}})),e(Bn,(function(e){return e})),e(Rn,(function(e,n){if(!n.option("ie")&&Et(e)&&(!e.scope.resolve().uses_with||!n.find_parent(X)))switch(e.name){case"undefined":return Ln(rt,e).optimize(n);case"NaN":return Ln(it,e).optimize(n);case"Infinity":return Ln(at,e).optimize(n)}var t=n.parent();if(n.option("reduce_vars")&&Wt(n.self(),t)!==n.self()){var i,r,a,s=e.definition(),f=e.fixed_value(),c=s.single_use&&!(t instanceof en&&t.is_expr_pure(n));if(c)if(o(f)){if(s.scope===e.scope.resolve()&&!s.in_loop||n.option("reduce_funcs")&&1!=s.escaped.depth&&!f.inlined)if(s.redefined())c=!1;else if(Gi(n,s,f))c=!1;else if(f.name&&f.name.definition()!==s)c=!1;else if(f.parent_scope!==e.scope||Ut(s))if(ji(f,n)){if("f"==(c=f.is_constant_expression(e.scope))){var u=e.scope;do{(u instanceof de||u instanceof te)&&(u.inlined=!0)}while(u=u.parent_scope)}}else c=!1;else(f.name&&("await"==f.name.name&&re(f)||"yield"==f.name.name&&oe(f))||f.has_side_effects(n)||n.option("ie")&&f instanceof ge)&&(c=!1);else c=!1;c&&(f.parent_scope=e.scope)}else(!f||s.recursive_refs>0||!f.is_constant_expression()||f.drop_side_effect_free(n))&&(c=!1);if(c){if(s.single_use=!1,f._squeezed=!0,f.single_use=!0,f instanceof be&&(f=di(f)),f instanceof de&&(f=hi(f)),o(f)){u=e.scope.resolve();f.enclosed.forEach((function(e){f.variables.has(e.name)||u.var_names().has(e.name)||(u.enclosed.push(e),u.var_names().set(e.name,!0))}))}if(s.recursive_refs>0){var l,p,d=(b=f.clone(!0)).name.definition(),h=b.variables.get(b.name.name),v=h&&h.orig[0];b instanceof ge?(l="def_function",p=In):(l="def_variable",p=jn),v instanceof p||((v=Ln(p,b.name,b.name)).scope=b,b.name=v,(h=b[l](v)).recursive_refs=s.recursive_refs),b.walk(new ut((function(e){if(e instanceof $n)e!==v&&((n=e.definition()).orig.push(e),n.eliminated++);else if(e instanceof Rn){var n;if((n=e.definition())===d)e.thedef=n=h;else{n.single_use=!1;var t=e.fixed_value();o(t)&&t.name&&t.name.definition()===n&&n.scope===t.name.scope&&f.variables.get(t.name.name)===n&&(t.name=t.name.clone(),e.thedef=n=b.variables.get(t.name.name)||b[l](t.name))}n.references.push(e)}})))}else f instanceof K?(n.push(f),b=f.optimize(n),n.pop()):b=f.optimize(n),b=b.transform(new lt((function(e,n){return e instanceof K||n(e=e.clone(),this),e})));return s.replaced++,b}if(f&&!1!==(i=e.fixed||s.fixed).should_replace)if(f instanceof Wn?Ut(s)||!Ji(s)||function(n){var t=e.scope;for(;t!==n.scope;){if(t instanceof ge)return!0;t=t.parent_scope}}(s)||(a=f):(r=f.evaluate(n,!0))!==f&&"function"!=typeof r&&(null===r||"object"!=typeof r||n.option("unsafe_regexp")&&r instanceof RegExp&&!s.cross_loop&&Ji(s))&&(a=pt(r,f)),a){if(void 0===i.should_replace){var m=a.optimize(n).print_to_string().length;y(f)||(m=Math.min(m,f.print_to_string().length));var _=s.name.length;if(n.option("unused")&&!n.exposed(s)){var g=s.references.length-s.replaced-s.assignments;g=Math.min(g,s.references.filter((function(e){return e.fixed===i})).length),_+=(_+2+m)/Math.max(1,g)}i.should_replace=m-Math.floor(_)<n.eval_threshold}var b;if(i.should_replace)return y(f)?(b=a.optimize(n))===a&&(b=b.clone(!0)):(b=Ht(a.optimize(n),f))!==a&&b!==f||(b=b.clone(!0)),s.replaced++,b}}return e;function y(e){var n;return e.walk(new ut((function(e){if(e instanceof Rn&&(n=!0),n)return!0}))),n}})),e(Jn,(function(e,n){if(!n.option("templates"))return e;var t=e.tag;if(!t||Xi(n,t)){for(var i,r=[],o=[],a=0;a<e.strings.length;a++){var s=e.strings[a];if(!t){var f=Ki(s);f&&(s=h(f))}if(a>0){var c=e.expressions[a-1],u=v(c);if(u){var l,p=o[o.length-1]+u+s;if(t||typeof(l=Ki(p))==i){o[o.length-1]=l?h(l):p;continue}}r.push(c)}o.push(s),t||(i=typeof f)}if(!t&&o.length>1){if(""==o[o.length-1])return Ln(pn,e,{operator:"+",left:Ln(Jn,e,{expressions:r.slice(0,-1),strings:o.slice(0,-1),tag:t}).transform(n),right:r[r.length-1]}).optimize(n);if(""==o[0]){var d=Ln(pn,e,{operator:"+",left:Ln(Kn,e,{value:""}),right:r[0]});for(a=1;""==o[a]&&a<r.length;a++)d=Ln(pn,e,{operator:"+",left:d,right:r[a]});return Lt(n,e,Ln(pn,e,{operator:"+",left:d.transform(n),right:Ln(Jn,e,{expressions:r.slice(a),strings:o.slice(a),tag:t}).transform(n)}).optimize(n))}}e.expressions=r,e.strings=o}return Kt(n,e);function h(e){return e.replace(/\r|\\|`|\${/g,(function(e){return"\\"+("\r"==e?"r":e)}))}function v(e){var i=e.evaluate(n);if(i!==e&&(!t||!/\r|\\|`/.test(i))&&!((i=h(""+i)).length>e.print_to_string().length+"${}".length))return i}})),e(rt,(function(e,n){if(n.option("unsafe_undefined")){var t=bn(n).find_variable("undefined");if(t){var i=Ln(Rn,e,{name:"undefined",scope:t.scope,thedef:t});return i.is_undefined=!0,i}}var r=Wt(n.self(),n.parent());return r&&Qi(r,e)?e:Ln(un,e,{operator:"void",expression:Ln(Qn,e,{value:0})})})),e(at,(function(e,n){var t=Wt(n.self(),n.parent());return t&&Qi(t,e)?e:!n.option("keep_infinity")||t||bn(n).find_variable("Infinity")?Ln(pn,e,{operator:"/",left:Ln(Qn,e,{value:1}),right:Ln(Qn,e,{value:0})}):e})),e(it,(function(e,n){var t=Wt(n.self(),n.parent());return t&&Qi(t,e)?e:t||bn(n).find_variable("NaN")?Ln(pn,e,{operator:"/",left:Ln(Qn,e,{value:0}),right:Ln(Qn,e,{value:0})}):e}));var er=_("+ - * / % >> << >>> | ^ &"),nr=_("* | ^ &");function tr(e,n){if(!e)return!1;var t=n.parent();return"Call"!=t.TYPE||(t.expression!==n.self()||!(e instanceof Rn&&!(e=e.fixed_value()))&&(e instanceof ee&&!e.contains_this()))}function ir(e){return e instanceof Sn&&"string"==typeof e.key&&!(e instanceof Tn&&e.value.contains_super())}function rr(e){var n=e.definition().redefined();return n&&((e=e.clone()).thedef=n),e}function or(e,n){var t=!1;return n.walk(new ut((function(n){return!!t||(n instanceof Rn&&e.variables.get(n.name)===n.definition()?t=!0:void 0)}))),t}function ar(e,n){var t=[];e.references.forEach((function(e){var i=e.fixed;i&&h(t,i)&&(i.assigns?i.assigns.unshift(n):i.assigns=[n])}))}function sr(e,n){var t=Ln(Rn,n,n),i=Ln(hn,n,{operator:"=",left:t,right:Ln(rt,n).transform(e)}),r=n.definition();return r.fixed&&(t.fixed=function(){return i.right},t.fixed.assigns=[i],ar(r,i)),r.assignments++,r.references.push(t),i}e(hn,(function(e,n){if(n.option("dead_code"))if(e.left instanceof on){if("="==e.operator){if(e.redundant){var t=[e.left.expression];return e.left instanceof sn&&t.push(e.left.property),t.push(e.right),nt(e,t).optimize(n)}if(e.left.equivalent_to(e.right)&&!e.left.has_side_effects(n))return e.right;var i=e.left.expression;if(i instanceof ee||!n.has_directive("use strict")&&i instanceof Xn&&!i.may_throw_on_access(n))return e.left instanceof an?e.right:nt(e,[e.left.property,e.right]).optimize(n)}}else if(e.left instanceof Rn&&k(e.left,n)){var r;if("="==e.operator&&e.left.equivalent_to(e.right)&&!((r=n.parent())instanceof un&&"delete"==r.operator))return e.right;if(e.left.is_immutable())return _();var o,a=e.left.definition(),s=a.scope.resolve(),f=s===n.find_parent(ee),c=0;if(r=n.self(),!s.uses_arguments||!Ut(a)||n.has_directive("use strict"))do{if(o=r,(r=n.parent(c++))instanceof hn){if(r.left instanceof Rn&&r.left.definition()===a){if(m(c,r,!f))break;return _(a)}if(r.left.match_symbol((function(e){if(e instanceof on)return!0})))break}else{if(r instanceof De){if(!f)break;if(m(c,r))break;if(Zi(s,[a]))break;return _(a)}if(r instanceof M){if(!f)break;if(Zi(s,[a]))break;var u;do{if(u=r,(r=n.parent(c++))===s&&$t(r.body,u))return _(a)}while(v(u,r));break}if(r instanceof Ve){if(!(r.name instanceof $n))continue;if(r.name.definition()!==a)continue;if(m(c,r))break;return _(a)}}}while(h(o,r))}if(n.option("sequences")){var l=e.lift_sequences(n);if(l!==e)return l.optimize(n)}if(n.option("assignments")){if("="==e.operator&&e.left instanceof Rn&&e.right instanceof pn){var p;if((p=e.right.left)instanceof Rn&&p.name==e.left.name&&er[e.right.operator])return e.left.fixed&&(e.left.fixed.to_binary=function(){return p}),Ln(hn,e,{operator:e.right.operator+"=",left:e.left,right:e.right.right});if((p=e.right.right)instanceof Rn&&p.name==e.left.name&&nr[e.right.operator]&&!e.right.left.has_side_effects(n))return e.left.fixed&&(e.left.fixed.to_binary=function(){return p}),Ln(hn,e,{operator:e.right.operator+"=",left:e.left,right:e.right.left})}if(("-="==e.operator||"+="==e.operator&&(e.left.is_boolean(n)||e.left.is_number(n)))&&e.right instanceof Qn&&1==e.right.value){var d=e.operator.slice(0,-1);return Ln(un,e,{operator:d+d,expression:e.left})}}return Kt(n,e);function h(e,n){if(n instanceof pn)return n.right===e||n.right.is_constant_expression(s);if(n instanceof dn)return n.condition!==e||n.consequent.is_constant_expression(s)&&n.alternative.is_constant_expression(s);if(n instanceof tn){var t=n.expressions,i=t.indexOf(e);if(i<0)return!1;for(var r=t.length;--r>i;)if(!t[r].is_constant_expression(s))return!1;return!0}return n instanceof un||void 0}function v(e,n){return n instanceof N||n instanceof He||n instanceof Ye?$t(n.body,e):n instanceof Me?n.body===e||n.alternative===e:n instanceof Ie?n.bfinally?n.bfinally===e:n.bcatch===e:void 0}function m(t,i,r){var o=e.right;e.right=Ln(tt,o);var a,f=i.may_throw(n);for(e.right=o;a=n.parent(t++);i=a){if(a===s)return!1;if(r&&a instanceof ee){if(a.name||re(a)||oe(a))return!0}else if(a instanceof Ie){if(a.bfinally&&a.bfinally!==i)return!0;if(f&&a.bcatch&&a.bcatch!==i)return!0}}}function _(t){return t&&(t.fixed=!1),("="!=e.operator?Ln(pn,e,{operator:e.operator.slice(0,-1),left:e.left,right:e.right}):ht(0,n.parent(),e,e.right)).optimize(n)}})),e(dn,(function(e,n){if(n.option("sequences")&&e.condition instanceof tn){var t=e.condition.expressions.slice();return e.condition=t.pop(),t.push(e),nt(e,t)}if(!n.option("conditionals"))return e;var i=e.condition;if(n.option("booleans")&&!i.has_side_effects(n)&&Si(n,i),!(i=Ei(n,i)))return S.warn("Condition always false [{file}:{line},{col}]",e.start),nt(e,[e.condition,e.alternative]).optimize(n);if(!(i instanceof S))return S.warn("Condition always true [{file}:{line},{col}]",e.start),nt(e,[e.condition,e.consequent]).optimize(n);var r=i.negate(n,w(n));Lt(n,i,r)===r&&(e=Ln(dn,e,{condition:r,consequent:e.alternative,alternative:e.consequent}),r=i,i=e.condition);var o=e.consequent,a=e.alternative;if(Vi(n,i)){if(i.equivalent_to(o))return Ln(pn,e,{operator:"||",left:i,right:a}).optimize(n);if(i.equivalent_to(a))return Ln(pn,e,{operator:"&&",left:i,right:o}).optimize(n)}var s=o.tail_node();if(s instanceof hn){var f="="==s.operator,c=f?a.tail_node():a;if((f||o===s)&&c instanceof hn&&s.operator==c.operator&&s.left.equivalent_to(c.left)&&(f&&s.left instanceof Rn||!i.has_side_effects(n)&&x(o)&&x(a)))return Ln(hn,e,{operator:s.operator,left:s.left,right:Ln(dn,e,{condition:i,consequent:k(o),alternative:k(a)})})}if(o.equivalent_to(a))return nt(e,[i,o]).optimize(n);var u,l=function n(t,r,o){if(!y(t,r))return!o&&Ln(dn,e,{condition:i,consequent:t,alternative:r});var a=t.clone();return a.expression=n(t.expression,r.expression),a}(o,a,!0);if(l)return l;if(o instanceof en&&a.TYPE==o.TYPE&&(u=b(o,a))>=0&&o.expression.equivalent_to(a.expression)&&!i.has_side_effects(n)&&!o.expression.has_side_effects(n)){var p=o.clone(),d=o.args[u];return p.args[u]=d instanceof fn?Ln(fn,e,{expression:Ln(dn,e,{condition:i,consequent:d.expression,alternative:a.args[u].expression})}):Ln(dn,e,{condition:i,consequent:d,alternative:a.args[u]}),p}if(o instanceof dn&&o.alternative.equivalent_to(a))return Ln(dn,e,{condition:Ln(pn,e,{left:i,operator:"&&",right:o.condition}),consequent:o.consequent,alternative:a});if(o instanceof dn&&o.consequent.equivalent_to(a))return Ln(dn,e,{condition:Ln(pn,e,{left:r,operator:"||",right:o.condition}),consequent:a,alternative:o.alternative});if(a instanceof dn&&o.equivalent_to(a.consequent))return Ln(dn,e,{condition:Ln(pn,e,{left:i,operator:"||",right:a.condition}),consequent:o,alternative:a.alternative});if(a instanceof dn&&o.equivalent_to(a.alternative))return Ln(dn,e,{condition:Ln(pn,e,{left:r,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:o});if((o instanceof tn||a instanceof tn)&&o.tail_node().equivalent_to(a.tail_node()))return nt(e,[Ln(dn,e,{condition:i,consequent:E(o),alternative:E(a)}),o.tail_node()]).optimize(n);if(o instanceof pn&&"&&"==o.operator&&o.right.equivalent_to(a))return Ln(pn,e,{operator:"&&",left:Ln(pn,e,{operator:"||",left:r,right:o.left}),right:a}).optimize(n);if(o instanceof pn&&"||"==o.operator&&o.right.equivalent_to(a))return Ln(pn,e,{operator:"||",left:Ln(pn,e,{operator:"&&",left:i,right:o.left}),right:a}).optimize(n);if(a instanceof pn&&"&&"==a.operator&&a.right.equivalent_to(o))return Ln(pn,e,{operator:"&&",left:Ln(pn,e,{operator:"||",left:i,right:a.left}),right:o}).optimize(n);if(a instanceof pn&&"||"==a.operator&&a.right.equivalent_to(o))return Ln(pn,e,{operator:"||",left:Ln(pn,e,{operator:"&&",left:r,right:a.left}),right:o}).optimize(n);var h=n.option("booleans")&&n.in_boolean_context();return m(o)?_(a)?v(i):Ln(pn,e,{operator:"||",left:v(i),right:a}):_(o)?m(a)?v(i.negate(n)):Ln(pn,e,{operator:"&&",left:v(i.negate(n)),right:a}):m(a)?Ln(pn,e,{operator:"||",left:v(i.negate(n)),right:o}):_(a)?Ln(pn,e,{operator:"&&",left:v(i),right:o}):(n.option("typeofs")&&ki(i,o,a),e);function v(e){return e.is_boolean(n)?e:Ln(un,e,{operator:"!",expression:e.negate(n)})}function m(e){return e instanceof ct||h&&e instanceof Xn&&e.value||e instanceof un&&"!"==e.operator&&e.expression instanceof Xn&&!e.expression.value}function _(e){return e instanceof ft||h&&(e instanceof Xn&&!e.value||e instanceof un&&"void"==e.operator&&!e.expression.has_side_effects(n))||e instanceof un&&"!"==e.operator&&e.expression instanceof Xn&&e.expression.value}function b(e,n){var t=e.args,i=n.args,r=t.length;if(r!=i.length)return-2;for(var o=0;o<r;o++)if(!t[o].equivalent_to(i[o])){if(t[o]instanceof fn!==i[o]instanceof fn)return-3;for(var a=o+1;a<r;a++)if(!t[a].equivalent_to(i[a]))return-2;return o}return-1}function y(e,n){if(e.TYPE==n.TYPE&&e.optional==n.optional){if(e instanceof en){if(-1!=b(e,n))return;return"Call"!=e.TYPE||!(e.expression instanceof on||n.expression instanceof on)||y(e.expression,n.expression)}if(e instanceof on){var t=e.property,i=n.property;return(t instanceof S?t.equivalent_to(i):t==i)&&!(e.expression instanceof Vn||n.expression instanceof Vn)}}}function x(e){return e===e.tail_node()||g(e.expressions.slice(0,-1),(function(e){return!e.has_side_effects(n)}))}function k(e){if(!(e instanceof tn))return e.right;var n=e.expressions.slice();return n.push(n.pop().right),nt(e,n)}function E(e){return e instanceof tn?nt(e,e.expressions.slice(0,-1)):Ln(Qn,e,{value:0})}})),e(st,(function(e,n){if(!n.option("booleans"))return e;if(n.in_boolean_context())return Ln(Qn,e,{value:+e.value});var t=n.parent();return t instanceof pn&&("=="==t.operator||"!="==t.operator)?(S.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:t.operator,value:e.value,file:t.start.file,line:t.start.line,col:t.start.col}),Ln(Qn,e,{value:+e.value})):Ln(un,e,{operator:"!",expression:Ln(Qn,e,{value:1-e.value})})})),e(fn,(function(e,n){var t=e.expression;return n.option("spreads")&&t instanceof _n&&!(n.parent()instanceof kn)?d.splice(t.elements.map((function(e){return e instanceof ot?Ln(rt,e).optimize(n):e}))):e})),e(sn,(function(e,n){var t=e.expression,i=e.property,o=qi(e,n);if(o)return o;if(n.option("properties")){var a=i.evaluate(n);if(a!==i){if("string"==typeof a)if("undefined"==a)a=void 0;else(A=parseFloat(a)).toString()==a&&(a=A);i=e.property=Ht(i,pt(a,i).transform(n));var f=""+a;if(zt(f)&&f.length<=i.print_to_string().length+1)return Ln(an,e,{optional:e.optional,expression:t,property:f}).optimize(n)}}var c,u,l,p,d=n.parent(),h=Wt(n.self(),d);if(n.option("arguments")&&t instanceof Rn&&s(c=t.definition())&&!t.in_arg&&i instanceof Qn&&Math.floor(w=i.value)==w&&(u=c.scope)===function(){var e,t=0;for(;e=n.parent(t++);)if(e instanceof ee){if(e instanceof ne)return;if(ie(e))continue;return l=n.parent(t),e}}()&&u.uses_arguments<(h?2:3)){d instanceof un&&"delete"==d.operator&&(c.deleted||(c.deleted=[]),c.deleted[w]=!0);var v=u.argnames[w];if(c.deleted&&c.deleted[w])v=null;else if(v){var m;v instanceof Fn&&"await"!=v.name&&t.scope.find_variable(v.name)===(m=v.definition())?(n.has_directive("use strict")||u.name||u.rest||!(l instanceof en&&w<l.args.length&&g(l.args.slice(0,w+1),(function(e){return!(e instanceof fn)})))||!g(u.argnames,(function(e){return e instanceof Fn})))&&(D()||m.assignments||m.orig.length>1)&&(v=null):v=null}else if((h||!D())&&w<u.argnames.length+5&&n.drop_fargs(u,l)&&!u.rest)for(;w>=u.argnames.length;)v=u.make_var(Fn,u,"argument_"+u.argnames.length),u.argnames.push(v);if(v&&r((function(e){return e.name===v.name}),u.argnames)===v){h&&c.reassigned--;var _=Ln(Rn,e,v);return _.reference(),v.unused=void 0,_}}if(h)return e;if(n.option("sequences")&&"Call"!=d.TYPE&&!(d instanceof V&&d.init===e)){var b=Ci(e);if(b!==e)return b.optimize(n)}if(a!==i){var y=e.flatten_object(f,n);y&&(t=e.expression=y.expression,i=e.property=y.property)}if(n.option("properties")&&n.option("side_effects")&&i instanceof Qn&&t instanceof _n&&g(p=t.elements,(function(e){return!(e instanceof fn)}))){var w,x=p[w=i.value];if(tr(x,n)){for(var k=x instanceof ot,E=!k,S=[],T=p.length;--T>w;){(A=p[T].drop_side_effect_free(n))&&(S.unshift(A),E&&A.has_side_effects(n)&&(E=!1))}for(E||S.unshift(x);--T>=0;){var A;(A=p[T].drop_side_effect_free(n))?S.unshift(A):k?S.unshift(Ln(ot,p[T])):w--}return E?(S.push(x),nt(e,S).optimize(n)):Ln(sn,e,{expression:Ln(_n,t,{elements:S}),property:Ln(Qn,i,{value:w})})}}return Kt(n,e);function D(){return!n.option("reduce_vars")||c.reassigned}})),te.DEFMETHOD("contains_super",(function(){var e=!1,n=this;return n.walk(new ut((function(t){return!!e||(t instanceof Vn?e=!0:t!==n&&t instanceof K&&!ie(t)||void 0)}))),e})),function(e){e(se,c),e(fe,c),e(S,(function(){var e=!1,n=this;return n.walk(new ut((function(t){return!!e||(t instanceof Wn?e=!0:t!==n&&t instanceof K&&!ie(t)||void 0)}))),e}))}((function(e,n){e.DEFMETHOD("contains_this",n)})),on.DEFMETHOD("flatten_object",(function(e,n){if(n.option("properties")&&"__proto__"!==e){var t=this,i=t.expression;if(i instanceof kn)for(var r=i.properties,o=r.length;--o>=0;){var a=r[o];if(a.key===e){if(!g(r,ir))return;if(!tr(a.value,n))return;for(var s,f,c=[],u=0;u<r.length;u++){var l=r[u].value;if(r[u]instanceof Tn){var p,d=!(l.uses_arguments||oe(l)||l.contains_this());if(d){f||(f=n.find_parent(K));var h=Fi(n,f);l.each_argname((function(e){h[e.name]&&(d=!1)}))}if(d)p=re(l)?fe:se;else{if(!(o!=u||(s=n.parent())instanceof en&&s.expression===t))return;p=l.CTOR}l=Ln(p,l,l)}c.push(l)}return Ln(sn,t,{expression:Ln(_n,i,{elements:c}),property:Ln(Qn,t,{value:o})})}}}})),e(an,(function(e,n){"arguments"!=e.property&&"caller"!=e.property||S.warn("Function.prototype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col});var t=n.parent();if(Wt(n.self(),t))return e;var i=qi(e,n);if(i)return i;if(n.option("sequences")&&"Call"!=t.TYPE&&!(t instanceof V&&t.init===e)){var r=Ci(e);if(r!==e)return r.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof an&&"prototype"==e.expression.property){var o=e.expression.expression;if(Et(o))switch(o.name){case"Array":e.expression=Ln(_n,e.expression,{elements:[]});break;case"Function":e.expression=Ln(le,e.expression,{argnames:[],body:[]}).init_vars(o.scope);break;case"Number":e.expression=Ln(Qn,e.expression,{value:0});break;case"Object":e.expression=Ln(kn,e.expression,{properties:[]});break;case"RegExp":e.expression=Ln(et,e.expression,{value:/t/});break;case"String":e.expression=Ln(Kn,e.expression,{value:""})}}var a=e.flatten_object(e.property,n);return a?a.optimize(n):Kt(n,e)})),e(yn,(function(e,n){return n.option("rests")&&e.rest instanceof yn?Ln(yn,e,{elements:e.elements.concat(e.rest.elements),rest:e.rest.rest}):e})),e(wn,(function(e,n){if(n.option("objects")){var t=e.key;t instanceof S&&(t=t.evaluate(n))!==e.key&&(e.key=""+t)}return e})),e(kn,(function(e,n){if(!n.option("objects"))return e;var t=!1,i=!1,r=!1,o=n.has_directive("use strict"),a=[],s=new b,f=[];if(e.properties.forEach((function(e){if(!(e instanceof fn))return l(e);i=!0;var o=e.expression;n.option("spreads")&&o instanceof kn&&g(o.properties,(function(e){return!(e instanceof Dn)&&(!(e instanceof fn)&&("__proto__"!==e.key||(e instanceof An||!e.value.has_side_effects(n))))}))?(t=!0,o.properties.forEach((function(e){var t=e.key,i=e instanceof An;if("__proto__"===t){if(!i)return;t=pt(t,e)}l(i?Ln(Sn,e,{key:t,value:Ln(rt,e).optimize(n)}):e)}))):(r=!0,u(),f.push(e))})),u(),!t)return e;if(i&&r&&1==f.length){var c=f[0];c instanceof En&&c.key instanceof Qn&&(c.key=""+c.key.value)}return Ln(kn,e,{properties:f});function u(){a.forEach((function(n){var i=s.get(n);switch(i.length){case 0:return;case 1:return f.push(i[0])}t=!0;var a=o&&!r&&i.pop();f.push(1==i.length?i[0]:Ln(Sn,e,{key:i[0].key,value:nt(e,i.map((function(e){return e.value})))})),a&&f.push(a),i.length=0})),a=[],s=new b}function l(e){var t=e.key;t instanceof S&&(i=!0,(t=t.evaluate(n))===e.key||"__proto__"===t?r=!0:t=e.key=""+t),ir(e)?(e.value.has_side_effects(n)&&u(),a.push(t),s.add(t,e)):(u(),f.push(e)),i&&!r&&"string"==typeof t&&T.test(t)&&(r=!0,s.has(t)&&(e=s.get(t)[0]),e.key=Ln(Qn,e,{value:+t}))}})),function(e){function n(e,n,t,i,r,o,a){for(var s=[],f=o.expressions,c=t,u=f.length-(a||0),l=u;--u>=0;c=!0,r=!1){var p=f[u].try_inline(e,n,c,i,r);p&&(d(),s.push(p))}if(0!=s.length)return d(),!t&&s[0]instanceof M&&(s[0]=Ln(Oe,o,{value:s[0].body})),Ln(N,o,{body:s.reverse()});function d(){l>u+1&&s.push(Ln(M,o,{body:nt(o,f.slice(u+1,l))})),l=u}}e(S,f),e(hn,f),e(vn,(function(e,n,t,i){var r=this,o=r.expression.try_inline(e,n,t,i,!0);if(o)return t||vi(o,(function(n){n.in_bool=!1;var t=n.value;t instanceof vn||(n.value=Ln(vn,r,{expression:t||Ln(rt,n).transform(e)}))})),ai(o)?o:Ln(N,r,{body:[o,Ln(M,r,{body:Ln(vn,r,{expression:Ln(Qn,r,{value:0})})})]})})),e(pn,(function(e,n,t,i,r){if(void 0!==t){var o=this,a=o.operator;if(Nt[a]){var s=o.right.try_inline(e,n,t,i,r);if(s)return Ln(Me,o,{condition:function(n){switch(a){case"&&":return n;case"||":return n.negate(e);case"??":return Ln(pn,o,{operator:"==",left:Ln(tt,o),right:n})}}(o.left),body:s,alternative:t?null:Ln(Oe,o,{value:Ln(rt,o).transform(e)})})}}})),e(N,(function(e,n,t,i){if(!t&&this.variables){var r=this.body,o=r.length-1;if(!(o<0)){var a=r[o].try_inline(e,this,t,i);if(a)return r[o]=a,this}}})),e(en,(function(e,n,t,r,o){if(!(e.option("inline")<4)){var a=this;if(!a.is_expr_pure(e)){var s=a.expression;if(s instanceof te&&!s.name&&!s.uses_arguments&&!s.pinned()&&!oe(s)){var f=ie(s);if((!f||!s.value)&&!(s.body[0]instanceof O)&&!s.contains_this()){n||(n=bn(e));var c=new b;for(c.set("NaN",!0);!(n instanceof K);)n.variables.each((function(e){c.set(e.name,!0)})),n=n.parent_scope;if(i(n,e.stack)&&!(n.pinned()&&s.variables.size()>(f?0:1))){if(n instanceof Q){if(s.variables.size()>(f?0:1)){if(!e.toplevel.vars)return;if(s.functions.size()>0&&!e.toplevel.funcs)return}c.set("arguments",!0)}var u=!o&&re(s);if(u){if(!e.option("awaits"))return;if(!re(n))return;if(a.may_throw(e))return}var l=n.var_names();if(r&&(r=[]),s.variables.all((function(e,n){return r&&r.push(e),!c.has(n)&&!l.has(n)||!f&&"arguments"==n&&1==e.orig.length}))&&!(r&&r.length>0&&Zi(s,r))){var p=!0;if(g(s.argnames,(function(e){var n=!1,t=new ut((function(e){return!!n||(e instanceof Qe?or(s,e.value)?n=!0:(e.name.walk(t),!0):e instanceof wn?e.key instanceof S&&or(s,e.key)?n=!0:(e.value.walk(t),!0):e instanceof Fn&&!g(e.definition().orig,(function(e){return!(e instanceof Pn)}))?n=!0:void 0)}));return e.walk(t),!n&&(e instanceof Fn||(p=!1),!0)}))){if(s.rest){if(or(s,s.rest))return;p=!1}var d;if(t?d=function(e){var n=!1;return e.walk(new ut((function(e){return!!n||(u&&e instanceof vn||e instanceof Oe?n=!0:e instanceof K||void 0)}))),!n}:(o&&!re(s)||Ze(n))&&(d=function(e){var n=!1,t=new ut((function(e){return!!n||(e instanceof Oe?n=!0:e instanceof K||void 0)}));return e.walk(new ut((function(e){return!!n||(e instanceof Ie?(e.bfinally&&g(e.body,(function(e){return e.walk(t),!n}))&&e.bcatch&&e.bcatch.walk(t),!0):e instanceof K||void 0)}))),!n}),(!d||g(s.body,d))&&Pi(s,Fi(e,n))){s.functions.each((function(e,t){n.functions.set(t,e)}));var h=[];s.variables.each((function(t,i){if((f||"arguments"!=i||1!=t.orig.length)&&(l.set(i,!0),n.enclosed.push(t),n.variables.set(i,t),t.single_use=!1,r&&t.references.length!=t.replaced&&t.orig.length!=t.eliminated&&(1!=t.orig.length||!s.functions.has(i))&&g(t.orig,(function(e){return!(e instanceof zn)&&(e instanceof Fn?!e.unused&&t.scope.resolve()!==s:!(e instanceof Cn))})))){var o=t.orig[0];o instanceof Hn||h.push(Ln(M,o,{body:sr(e,rr(o))}))}}));var v=Object.create(null),m=new b;if(p&&g(a.args,(function(e){return!(e instanceof fn)}))){var _=a.args.slice();s.argnames.forEach((function(n){var t=_.shift();if(n.unused)t&&h.push(Ln(M,a,{body:t}));else{var i=Ln(Ve,a,{name:n.convert_symbol(Mn,w),value:t||Ln(rt,a).transform(e)});n instanceof Fn&&ar(n.definition(),i),h.push(Ln(Ue,a,{definitions:[i]}))}})),_.length&&h.push(Ln(M,a,{body:nt(a,_)}))}else h.push(Ln(Ue,a,{definitions:[Ln(Ve,a,{name:Ln(yn,a,{elements:s.argnames.map((function(e){return e.unused?Ln(ot,e):e.convert_symbol(Mn,w)})),rest:s.rest&&s.rest.convert_symbol(Mn,w)}),value:Ln(_n,a,{elements:a.args.slice()})})]}));m.each((function(e,n){var t=v[n];[].unshift.apply(t.orig,e),t.eliminated+=e.length})),[].push.apply(h,r?s.body.filter((function(e){if(!(e instanceof de))return!0;var n=Ln(Mn,e.name,rr(e.name)),t=n.definition();return t.fixed=!1,t.orig.push(n),t.eliminated++,h.push(Ln(Ue,e,{definitions:[Ln(Ve,e,{name:n,value:hi(e,!0)})]})),!1})):s.body);var y=Ln(N,a,{body:h});return t||(u&&vi(y,(function(e){var n=e.value;jt(n)||(e.value=Ln(vn,a,{expression:n}))})),h.push(Ln(Oe,a,{value:Ze(n)?Ln(rt,a).transform(e):null}))),y}}}}}}}}function w(e,n){var t=n.definition();v[t.id]=t,m.add(t.id,e)}})),e(dn,(function(e,n,t,i,r){var o=this,a=o.consequent.try_inline(e,n,t,i,r),s=o.alternative.try_inline(e,n,t,i,r);if(a||s)return Ln(Me,o,{condition:o.condition,body:a||f(o.consequent),alternative:s||f(o.alternative)});function f(e){return t?Ln(M,e,{body:e}):Ln(Oe,e,{value:e})}})),e(U,(function(e,n,t,i){var r=this.body.try_inline(e,n,!0,!0);r&&(this.body=r);var o=this.init;return o&&(o=o.try_inline(e,n,!0,i))?(this.init=null,o instanceof N?(o.body.push(this),o):Ln(N,o,{body:[o,this]})):r&&this})),e(V,(function(e,t,i,r){var o=this.body.try_inline(e,t,!0,!0);o&&(this.body=o);var a=this.object;if(a instanceof tn){var s=n(e,t,!0,r,!1,a,1);if(s)return this.object=a.tail_node(),s.body.push(this),s}return o&&this})),e(Me,(function(e,t,i,r){var o=this.body.try_inline(e,t,i,r);o&&(this.body=o);var a=this.alternative;a&&(a=a.try_inline(e,t,i,r))&&(this.alternative=a);var s=this.condition;if(s instanceof tn){var f=n(e,t,!0,r,!1,s,1);if(f)return this.condition=s.tail_node(),f.body.push(this),f}return(o||a)&&this})),e(Y,(function(e,n,t,i){var r=this.body.try_inline(e,n,!0,!0);if(r)return this.body=r,this})),e(H,(function(e,n,t,i){var r=this.body.try_inline(e,n,t,i);if(r){if(this.body instanceof Y&&r instanceof N){var o=r.body.pop();return this.body=o,r.body.push(this),r}return this.body=r,this}})),e(nn,f),e(Oe,(function(e,n,t,i){var r=this.value;return r&&r.try_inline(e,n,void 0,"try"===i)})),e(tn,(function(e,t,i,r,o){return n(e,t,i,r,o,this)})),e(M,(function(e,n,t,i){for(var r=this.body;r instanceof un;){var o=r.operator;if(Vt[o])break;if("void"==o)break;r=r.expression}return t||jt(r)||(r=Ln(un,this,{operator:"void",expression:r})),r.try_inline(e,n,t||!1,i)})),e(un,(function(e,n,t,i,r){var o=this,a=o.operator;if(!Vt[a]){t||"void"!=a||(t=!1);var s=o.expression.try_inline(e,n,t,i,r);if(s)return t||vi(s,(function(n){n.in_bool=!1;var t=n.value;"void"==a&&jt(t)||(n.value=Ln(un,o,{operator:a,expression:t||Ln(rt,n).transform(e)}))})),s}})),e(X,(function(e,t,i,r){var o=this.body.try_inline(e,t,i,r);o&&(this.body=o);var a=this.expression;if(a instanceof tn){var s=n(e,t,!0,r,!1,a,1);if(s)return this.expression=a.tail_node(),s.body.push(this),s}return o&&this})),e(mn,(function(e,n,t,i){if(e.option("yields")&&this.nested){var r=this.expression;if("Call"==r.TYPE){var o=r.expression;switch(o.CTOR){case ue:o=Ln(ce,o,o);break;case pe:o=Ln(le,o,o);break;default:return}return(r=r.clone()).expression=o,r.try_inline(e,n,t,i)}}}))}((function(e,n){e.DEFMETHOD("try_inline",n)})),e(Oe,(function(e,n){var t=e.value;return t&&n.option("side_effects")&&jt(t,n)&&!Ze(n.find_parent(K))&&(e.value=null),e}))}((function(e,n){e.DEFMETHOD("optimize",(function(e){var t=this;if(t._optimized)return t;if(e.has_directive("use asm"))return t;var i=n(t,e);return i._optimized=!0,i}))})),function(){function e(e,n){e.DEFMETHOD("_codegen",n)}var n=!1;S.DEFMETHOD("print",(function(e,n){var t=this;function i(){e.prepend_comments(t),t.add_source_map(e),t._codegen(e),e.append_comments(t)}e.push_node(t),n||t.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}));var t=ni({inline_script:!1,shebang:!1,width:!1});function i(e,n){e.DEFMETHOD("needs_parens",n)}function r(e){var n=e.parent();return!e.has_parens()&&w(e,!1,!0)?this.name||!(n instanceof Ge):!!(e.option("webkit")&&n instanceof on&&n.expression===this)||(!!(e.option("wrap_iife")&&n instanceof en&&n.expression===this)||void 0)}function o(e){return!e.has_parens()&&w(e,!0)}function a(e){var n=e.parent();return n instanceof pn?"**"==n.operator&&n.left===this:n instanceof en?n.expression===this:n instanceof ge||(n instanceof on?n.expression===this:n instanceof Jn?n.tag===this:void 0)}function s(e,n){return!!e.terminal&&((n instanceof en||n instanceof on)&&n.expression===e)}function u(e,n){var t=n.parent();return t instanceof vn||(t instanceof pn?!(t instanceof hn):t instanceof en?t.expression===e:t instanceof ge||(t instanceof dn?t.condition===e:t instanceof on?t.expression===e:t instanceof Jn?t.tag===e:t instanceof cn||void 0))}function l(e,t,i,r){var o=e.length-1,a=r,s=n;e.forEach((function(e,r){a&&(e instanceof O?"use asm"==e.value&&(n=!0):e instanceof $||(e instanceof M&&e.body instanceof Kn&&i.force_semicolon(),a=!1)),e instanceof $||(i.indent(),e.print(i),r==o&&t||(i.newline(),t&&i.newline()))})),n=s}function p(e,n){n.print("{"),n.with_indent((function(){n.append_comments(e,!0)})),n.print("}")}function d(e,n,t){e.body.length>0?n.with_block((function(){l(e.body,!1,n,t)})):p(e,n)}function h(e,n){return function(t){var i=this;t.print(e),t.space(),t.with_parens((function(){i.init.print(t),t.space(),t.print(n),t.space(),i.object.print(t)})),R(i.body,t)}}function v(e,n){n.with_parens((function(){e.argnames.forEach((function(e,t){t&&n.comma(),e.print(n)})),e.rest&&(e.argnames.length&&n.comma(),n.print("..."),e.rest.print(n))}))}function m(e,n){var t=1==e.argnames.length&&!e.rest&&e.argnames[0];t instanceof Fn&&"yield"!=t.name?t.print(n):v(e,n),n.space(),n.print("=>"),n.space(),e.value?e.value.print(n):d(e,n,!0)}function _(e,n){e.name&&(n.space(),e.name.print(n)),v(e,n),n.space(),d(e,n,!0)}function g(e){e.print("async"),e.space(),e.print("function"),_(this,e)}function b(e){e.print("async"),e.space(),e.print("function*"),_(this,e)}function y(e){e.print("function*"),_(this,e)}function x(e,n){var t=e.value;re(t)&&(n.print("async"),n.space()),oe(t)&&n.print("*"),F(e,n),_(e.value,n)}function k(e,n){return function(t){t.print(e);var i=this[n];i&&(t.space(),i.print(t)),t.semicolon()}}function E(e,n){n.newline(),e.body.forEach((function(e){n.indent(),e.print(n),n.newline()}))}function T(e){return function(n){n.print(e),n.space(),this.definitions.forEach((function(e,t){t&&n.comma(),e.print(n)}));var t=n.parent();t instanceof Y&&t.init===this||n.semicolon()}}function A(e,n,t){var i=!1;t&&e.walk(new ut((function(e){return!!i||(e instanceof pn&&"in"==e.operator?i=!0:e instanceof K&&(!ie(e)||!e.value)||void 0)}))),e.print(n,i)}function z(e,n){if(n.option("annotations")&&e.pure){var t,i=0,r=e;do{if(t=r,(r=n.parent(i++))instanceof en&&r.expression===t)return}while(r instanceof on&&r.expression===t);n.print("/*@__PURE__*/")}}function q(e,n){(e.expression instanceof en||e.expression instanceof ee)&&n.add_mapping(e.start),n.with_parens((function(){e.args.forEach((function(e,t){t&&n.comma(),e.print(n)}))}))}function C(e,n,t){var i=e.properties;i.length>0?n.with_block((function(){i.forEach((function(e,i){i&&(t||n.print(","),n.newline()),n.indent(),e.print(n)})),n.newline()})):p(e,n)}function F(e,n){var t=e.key;if(t instanceof S)return n.with_square((function(){t.print(n)}));var i=e.start&&e.start.quote;if(n.option("quote_keys")||i&&n.option("keep_quoted_props"))n.print_string(t,i);else if(""+ +t==t&&t>=0)n.print(ne(t));else if(e.private)n.print_name(t);else{if(ht[t]?!n.option("ie"):zt(t))return n.print_name(t),t;n.print_string(t,i)}}function P(e){return function(n){var t=this;t.static&&(n.print("static"),n.space()),n.print(e),n.space(),F(t,n),_(t.value,n)}}function j(e){var n=e.definition();return n&&n.mangled_name||e.name}function R(e,n){n.option("braces")&&!(e instanceof Be||e instanceof Le)?ae(e,n):e instanceof $?n.force_semicolon():(n.space(),e.print(n))}function Z(e,n){return e.args.length>0||n.option("beautify")}function ne(e){var n,t,i,r=e.toString(10).replace(/^0\./,".").replace("e+","e"),o=[r];return Math.floor(e)===e&&(e<0?o.push("-0x"+(-e).toString(16).toLowerCase()):o.push("0x"+e.toString(16).toLowerCase())),(n=/^\.0+/.exec(r))?(t=n[0].length,i=r.slice(t),o.push(i+"e-"+(i.length+t-1))):(n=/[^0]0+$/.exec(r))?(t=n[0].length-1,o.push(r.slice(0,-t)+"e"+t)):(n=/^(\d)\.(\d+)e(-?\d+)$/.exec(r))&&o.push(n[1]+n[2]+"e"+(n[3]-n[2].length)),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(o)}function ae(e,n){n.space(),e instanceof $?p(e,n):e instanceof N?e.print(n):n.with_block((function(){n.indent(),e.print(n),n.newline()}))}function me(e,n){e.forEach((function(e){e.DEFMETHOD("add_source_map",n)}))}S.DEFMETHOD("print_to_string",(function(e){if(e){var n=ni(e);return this.print(n),n.get()}return this.print(t),t.reset()})),i(S,c),i(ce,r),i(ue,r),i(ye,r),i(le,r),i(pe,r),i(kn,o),i(vn,a),i(cn,a),i(tn,(function(e){var n=e.parent();return n instanceof _n||ie(n)&&n.value===this||n instanceof vn||n instanceof pn||n instanceof en||n instanceof ge||n instanceof we||n instanceof dn||n instanceof Qe||n instanceof wn||n instanceof Ge||n instanceof G||n instanceof En||n instanceof on&&n.expression===this||n instanceof fn||n instanceof Jn&&n.tag===this||n instanceof cn||n instanceof Ve||n instanceof mn})),i(pn,(function(e){var n=e.parent();if(n instanceof vn)return!0;if(n instanceof pn){var t=n.operator,i=Yt[t],r=this.operator,o=Yt[r];return i>o||"??"==t&&("&&"==r||"||"==r)||i==o&&this===n["**"==t?"left":"right"]}return n instanceof en?n.expression===this:n instanceof ge||(n instanceof on?n.expression===this:n instanceof Jn?n.tag===this:n instanceof cn||void 0)})),i(on,(function(e){var n=this,t=e.parent();return t instanceof nn&&t.expression===n&&"Call"==rn(n).TYPE||s(n,t)})),i(en,(function(e){var n=this,t=e.parent();if(t instanceof nn)return t.expression===n;if(e.option("webkit")&&n.expression instanceof le&&t instanceof on&&t.expression===n){var i=e.parent(1);if(i instanceof hn&&i.left===t)return!0}return s(n,t)})),i(nn,(function(e){if(Z(this,e))return!1;var n=e.parent();return n instanceof en?n.expression===this:n instanceof on||(n instanceof Jn?n.tag===this:void 0)})),i(Qn,(function(e){if(!e.option("galio"))return!1;var n=e.parent();return n instanceof on&&n.expression===this&&/^0/.test(ne(this.value))})),i(se,(function(e){return u(this,e)})),i(hn,(function(e){return!!u(this,e)||(e.option("v8")?this.left instanceof gn:this.left instanceof xn?o(e):void 0)})),i(fe,(function(e){return u(this,e)})),i(dn,(function(e){return u(this,e)})),i(mn,(function(e){return u(this,e)})),e(O,(function(e){var n=this.quote,t=this.value;switch(e.option("quote_style")){case 0:case 2:-1==t.indexOf('"')&&(n='"');break;case 1:-1==t.indexOf("'")&&(n="'")}e.print(n+t+n),e.semicolon()})),e(D,(function(e){e.print("debugger"),e.semicolon()})),e(Q,(function(e){l(this.body,!0,e,!0),e.print("")})),e(H,(function(e){this.label.print(e),e.colon(),this.body.print(e)})),e(M,(function(e){this.body.print(e),e.semicolon()})),e(N,(function(e){d(this,e)})),e($,(function(e){e.semicolon()})),e(B,(function(e){var n=this;e.print("do"),ae(n.body,e),e.space(),e.print("while"),e.space(),e.with_parens((function(){n.condition.print(e)})),e.semicolon()})),e(L,(function(e){var n=this;e.print("while"),e.space(),e.with_parens((function(){n.condition.print(e)})),R(n.body,e)})),e(U,(function(e){var n=this;e.print("for"),e.space(),e.with_parens((function(){n.init?(n.init instanceof Re?n.init.print(e):A(n.init,e,!0),e.print(";"),e.space()):e.print(";"),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)})),R(n.body,e)})),e(J,h("for await","of")),e(W,h("for","in")),e(G,h("for","of")),e(X,(function(e){var n=this;e.print("with"),e.space(),e.with_parens((function(){n.expression.print(e)})),R(n.body,e)})),e(We,(function(e){e.print("export"),e.space(),this.body.print(e)})),e(Ge,(function(e){e.print("export"),e.space(),e.print("default"),e.space();var n=this.body;n.print(e),n instanceof ye&&!n.name||n instanceof be||n instanceof de||n instanceof te&&!n.name&&!ie(n)||e.semicolon()})),e(Je,(function(e){var n=this;e.print("export"),e.space();var t=n.keys.length;function i(t){var i=n.aliases[t],r=n.keys[t];e.print_name(r),i!=r&&(e.space(),e.print("as"),e.space(),e.print_name(i))}0==t?p(n,e):"*"==n.keys[0]?i(0):e.with_block((function(){e.indent(),i(0);for(var n=1;n<t;n++)e.print(","),e.newline(),e.indent(),i(n);e.newline()})),e.space(),e.print("from"),e.space(),e.print_string(n.path,n.quote),e.semicolon()})),e(Xe,(function(e){e.print("export"),e.space(),C(this,e),e.semicolon()})),e(Ke,(function(e){var n=this;e.print("import"),e.space(),n.default&&n.default.print(e),n.all&&(n.default&&e.comma(),n.all.print(e)),n.properties&&(n.default&&e.comma(),C(n,e)),(n.all||n.default||n.properties)&&(e.space(),e.print("from"),e.space()),e.print_string(n.path,n.quote),e.semicolon()})),e(se,(function(e){m(this,e)})),e(fe,(function(e){e.print("async"),e.space(),m(this,e)})),e(ee,(function(e){e.print("function"),_(this,e)})),e(he,g),e(ce,g),e(ve,b),e(ue,b),e(_e,y),e(pe,y),e(ge,(function(e){var n=this;e.print("class"),n.name&&(e.space(),n.name.print(e)),n.extends&&(e.space(),e.print("extends"),e.space(),n.extends.print(e)),e.space(),C(n,e,!0)})),e(xe,(function(e){var n=this;n.static&&(e.print("static"),e.space()),F(n,e),n.value&&(e.space(),e.print("="),e.space(),n.value.print(e)),e.semicolon()})),e(ke,P("get")),e(Ee,P("set")),e(Se,(function(e){this.static&&(e.print("static"),e.space()),x(this,e)})),e(Te,(function(e){e.print("static"),e.space(),d(this.value,e)})),e(Oe,k("return","value")),e($e,k("throw","value")),e(qe,k("break","label")),e(Ce,k("continue","label")),e(Me,(function(e){var n=this;e.print("if"),e.space(),e.with_parens((function(){n.condition.print(e)})),n.alternative?(!function(e,n){var t=e.body;if(n.option("braces")&&!(t instanceof Be||t instanceof Le)||n.option("ie")&&t instanceof B)return ae(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof Me){if(!t.alternative)return void ae(e.body,n);t=t.alternative}else{if(!(t instanceof I))break;t=t.body}R(e.body,n)}(n,e),e.space(),e.print("else"),n.alternative instanceof Me?(e.space(),n.alternative.print(e)):R(n.alternative,e)):R(n.body,e)})),e(Fe,(function(e){var n=this;e.print("switch"),e.space(),e.with_parens((function(){n.expression.print(e)})),e.space();var t=n.body.length-1;t<0?p(n,e):e.with_block((function(){n.body.forEach((function(n,i){e.indent(!0),n.print(e),i<t&&n.body.length>0&&e.newline()}))}))})),e(je,(function(e){e.print("default:"),E(this,e)})),e(Ne,(function(e){e.print("case"),e.space(),this.expression.print(e),e.print(":"),E(this,e)})),e(Ie,(function(e){var n=this;e.print("try"),e.space(),d(n,e),n.bcatch&&(e.space(),n.bcatch.print(e)),n.bfinally&&(e.space(),n.bfinally.print(e))})),e(He,(function(e){var n=this;e.print("catch"),n.argname&&(e.space(),e.with_parens((function(){n.argname.print(e)}))),e.space(),d(n,e)})),e(Ye,(function(e){e.print("finally"),e.space(),d(this,e)})),e(Be,T("const")),e(Le,T("let")),e(Ue,T("var")),e(Ve,(function(e){var n=this;if(n.name.print(e),n.value){e.space(),e.print("="),e.space();var t=e.parent(1),i=t instanceof U||t instanceof V;A(n.value,e,i)}})),e(Qe,(function(e){this.name.print(e),e.space(),e.print("="),e.space(),this.value.print(e)})),e(en,(function(e){var n=this;z(n,e),n.expression.print(e),n.optional&&e.print("?."),q(n,e)})),e(nn,(function(e){var n=this;z(n,e),e.print("new"),e.space(),n.expression.print(e),Z(n,e)&&q(n,e)})),e(tn,(function(e){this.expressions.forEach((function(n,t){t>0&&(e.comma(),e.should_break()&&(e.newline(),e.indent())),n.print(e)}))})),e(an,(function(e){var n=this,t=n.expression;t.print(e);var i=n.property;e.option("ie")&&ht[i]?(e.print(n.optional?"?.[":"["),e.add_mapping(n.end),e.print_string(i),e.print("]")):(t instanceof Qn&&!/[ex.)]/i.test(e.last())&&e.print("."),e.print(n.optional?"?.":"."),e.add_mapping(n.end),e.print_name(i))})),e(sn,(function(e){var n=this;n.expression.print(e),e.print(n.optional?"?.[":"["),n.property.print(e),e.print("]")})),e(fn,(function(e){e.print("..."),this.expression.print(e)})),e(un,(function(e){var n=this.operator,t=this.expression;e.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&t instanceof un&&/^[+-]/.test(t.operator))&&e.space(),t.print(e)})),e(ln,(function(e){this.expression.print(e),e.print(this.operator)})),e(pn,(function(e){var n=this;n.left.print(e),e.space(),e.print(n.operator),e.space(),n.right.print(e)})),e(dn,(function(e){var n=this;n.condition.print(e),e.space(),e.print("?"),e.space(),n.consequent.print(e),e.space(),e.colon(),n.alternative.print(e)})),e(vn,(function(e){e.print("await"),e.space(),this.expression.print(e)})),e(mn,(function(e){e.print(this.nested?"yield*":"yield"),this.expression&&(e.space(),this.expression.print(e))})),e(_n,(function(e){var n=this.elements,t=n.length;e.with_square(t>0?function(){e.space(),n.forEach((function(n,i){i&&e.comma(),n.print(e),i===t-1&&n instanceof ot&&e.comma()})),e.space()}:f)})),e(yn,(function(e){var n=this.elements,t=n.length,i=this.rest;e.with_square(t||i?function(){e.space(),n.forEach((function(n,t){t&&e.comma(),n.print(e)})),i?(t&&e.comma(),e.print("..."),i.print(e)):n[t-1]instanceof ot&&e.comma(),e.space()}:f)})),e(wn,(function(e){var n=F(this,e),t=this.value;if(n)if(t instanceof Qe){if(t.name instanceof On&&n==j(t.name))return e.space(),e.print("="),e.space(),void t.value.print(e)}else if(t instanceof On&&n==j(t))return;e.colon(),t.print(e)})),e(xn,(function(e){var n=this.properties,t=n.length,i=this.rest;t||i?e.with_block((function(){n.forEach((function(n,t){t&&(e.print(","),e.newline()),e.indent(),n.print(e)})),i&&(t&&(e.print(","),e.newline()),e.indent(),e.print("..."),i.print(e)),e.newline()})):p(this,e)})),e(kn,(function(e){C(this,e)})),e(Sn,(function(e){F(this,e),e.colon(),this.value.print(e)})),e(Tn,(function(e){x(this,e)})),e(Dn,P("get")),e(An,P("set")),e(On,(function(e){e.print_name(j(this))})),e(Bn,(function(e){var n=j(this);e.print_name(n);var t=this.alias;t!=n&&(e.space(),e.print("as"),e.space(),e.print_name(t))})),e(qn,(function(e){var n=j(this),t=this.key;t&&t!=n&&(e.print_name(t),e.space(),e.print("as"),e.space()),e.print_name(n)})),e(ot,f),e(Jn,(function(e){var n=this;n.tag&&n.tag.print(e),e.print("`");for(var t=0;t<n.expressions.length;t++)e.print(n.strings[t]),e.print("${"),n.expressions[t].print(e),e.print("}");e.print(n.strings[t]),e.print("`")})),e(Xn,(function(e){e.print(""+this.value)})),e(Kn,(function(e){e.print_string(this.value,this.quote)})),e(Qn,(function(e){var t=this.start;n&&t&&null!=t.raw?e.print(t.raw):e.print(ne(this.value))})),e(et,(function(e){var n=this.value,t=n.toString(),i=t.lastIndexOf("/");n.raw_source?t="/"+n.raw_source+t.slice(i):1==i?t="/(?:)"+t.slice(i):t.indexOf("/",1)<i&&(t="/"+t.slice(1,i).replace(/\\\\|[^/]?\//g,(function(e){return"\\"==e[0]?e:e.slice(0,-1)+"\\/"}))+t.slice(i)),e.print(e.to_utf8(t).replace(/\\(?:\0(?![0-9])|[^\0])/g,(function(e){switch(e[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}})).replace(/[\n\r\u2028\u2029]/g,(function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})))})),me([S,H],f),me([_n,N,He,Xn,D,Re,gn,Ye,Ae,ee,nn,kn,I,On,Fe,Pe,Ie],(function(e){e.add_mapping(this.start)})),me([we,wn,En],(function(e){"string"==typeof this.key&&e.add_mapping(this.start,this.key)}))}();var ti=t("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ii=ti.reduce((function(e,n,t){return e[n]=t,e}),Object.create(null));function ri(e){var n="";e=Math.abs(e)<<1|e>>>31;do{var t=31&e;(e>>>=5)&&(t|=32),n+=ti[t]}while(e);return n}function oi(){var e=new b,n=[];return n.index=function(t){var i=e.get(t);return i>=0||(i=n.length,n.push(t),e.set(t,i)),i},n}function ai(e){var n,t=oi(),i=e.includeSources&&new b,r=oi(),o="";e.orig&&Object.keys(e.orig).forEach((function(n){var t=e.orig[n],r=[0,0,1,0,0];if(e.orig[n]={names:t.names,mappings:t.mappings.split(/;/).map((function(e){return r[0]=0,e.split(/,/).map((function(e){return r.slice(0,function(e,n){for(var t=0,i=0,r=0,o=0;r<n.length;r++){var a=ii[n[r]];t+=(31&a)<<i,32&a?i+=5:(e[o++]+=1&t?2147483648|-(t>>1):t>>1,t=i=0)}return o}(r,e))}))})),sources:t.sources},i&&t.sourcesContent)for(var o=0;o<t.sources.length;o++){var a=t.sourcesContent[o];a&&i.set(t.sources[o],a)}}));var a=1,s=0,c=0,u=1,l=0,p=0;return{add:e.orig?function(n,t,i,r,o,a){var s=e.orig[n];if(s){var f,c=s.mappings[r-1];if(!c)return;for(var u=0;u<c.length;u++){var l=c[u][0];if(o>=l&&(f=c[u]),o<=l)break}!f||f.length<4?n=null:(n=s.sources[f[1]],r=f[2],o=f[3],f.length>4&&(a=s.names[f[4]]))}d(n,t,i,r,o,a)}:d,setSourceContent:i?function(e,n){i.has(e)||i.set(e,n)}:f,toString:function(){return JSON.stringify({version:3,file:e.filename||void 0,sourceRoot:e.root||void 0,sources:t,sourcesContent:i?t.map((function(e){return i.get(e)||null})):void 0,names:r,mappings:o})}};function d(i,f,d,h,v,m){if(null!=n||null!=i){if(n=i,a<f){s=0;do{o+=";"}while(++a<f)}else o&&(o+=",");if(o+=ri(d-s),s=d,null!=i){var _=t.index(i);if(o+=ri(_-c),c=_,o+=ri(h-u),u=h,o+=ri(v-l),l=v,e.names&&null!=m){var g=r.index(m);o+=ri(g-p),p=g}}}}}!function(){var e={Program:function(e){return new Q({start:s(e),end:f(e),body:o(e.body.map(d))})},ArrowFunctionExpression:function(e){var n=[],t=null;e.params.forEach((function(e){"RestElement"==e.type?t=d(e.argument):n.push(d(e))}));var i=new(e.async?fe:se)({start:s(e),end:f(e),argnames:n,rest:t}),r=d(e.body);return r instanceof N?(i.body=o(r.body),i.value=null):(i.body=[],i.value=r),i},FunctionDeclaration:function(e){var n;n=e.async?e.generator?ve:he:e.generator?_e:me;var t=[],i=null;return e.params.forEach((function(e){"RestElement"==e.type?i=d(e.argument):t.push(d(e))})),new n({start:s(e),end:f(e),name:d(e.id),argnames:t,rest:i,body:o(d(e.body).body)})},FunctionExpression:function(e){var n;n=e.async?e.generator?ue:ce:e.generator?pe:le;var t=[],i=null;return e.params.forEach((function(e){"RestElement"==e.type?i=d(e.argument):t.push(d(e))})),new n({start:s(e),end:f(e),name:d(e.id),argnames:t,rest:i,body:o(d(e.body).body)})},ClassDeclaration:function(e){return new be({start:s(e),end:f(e),name:d(e.id),extends:d(e.superClass),properties:e.body.body.map(d)})},ClassExpression:function(e){return new ye({start:s(e),end:f(e),name:d(e.id),extends:d(e.superClass),properties:e.body.body.map(d)})},MethodDefinition:function(e){var n=e.key,t=!1;e.computed?n=d(n):"PrivateIdentifier"==n.type?(t=!0,n="#"+n.name):n=c(n);var i=Se,r=d(e.value);switch(e.kind){case"get":i=ke,r=new ne(r);break;case"set":i=Ee,r=new ne(r)}return new i({start:s(e),end:f(e),key:n,private:t,static:e.static,value:r})},PropertyDefinition:function(e){var n=e.key,t=!1;return e.computed?n=d(n):"PrivateIdentifier"==n.type?(t=!0,n="#"+n.name):n=c(n),new xe({start:s(e),end:f(e),key:n,private:t,static:e.static,value:d(e.value)})},ForOfStatement:function(e){return new(e.await?J:G)({start:s(e),end:f(e),init:d(e.left),object:d(e.right),body:d(e.body)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(n.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new Ie({start:s(e),end:f(e),body:d(e.block).body,bcatch:d(n[0]),bfinally:e.finalizer?new Ye(d(e.finalizer)):null})},Property:function(e){var n=e.computed?d(e.key):c(e.key),t={start:s(e),end:f(e),key:n,value:d(e.value)};return"init"==e.kind?new(e.method?Tn:Sn)(t):(t.value=new ne(t.value),"get"==e.kind?new Dn(t):"set"==e.kind?new An(t):void 0)},ArrayExpression:function(e){return new _n({start:s(e),end:f(e),elements:e.elements.map((function(e){return null===e?new ot:d(e)}))})},ArrayPattern:function(e){var n=[],t=null;return e.elements.forEach((function(e){null===e?n.push(new ot):"RestElement"==e.type?t=d(e.argument):n.push(d(e))})),new yn({start:s(e),end:f(e),elements:n,rest:t})},ObjectPattern:function(e){var n=[],t=null;return e.properties.forEach((function(e){"RestElement"==e.type?t=d(e.argument):n.push(new wn(d(e)))})),new xn({start:s(e),end:f(e),properties:n,rest:t})},MemberExpression:function(e){return new(e.computed?sn:an)({start:s(e),end:f(e),optional:e.optional,expression:d(e.object),property:e.computed?d(e.property):e.property.name})},MetaProperty:function(e){var n=d(e.meta),t=c(e.property);return"new"==n.name&&"target"==t?new Gn({start:s(e),end:f(e),name:"new.target"}):new an({start:s(e),end:f(e),expression:n,property:t})},SwitchCase:function(e){return new(e.test?Ne:je)({start:s(e),end:f(e),expression:d(e.test),body:e.consequent.map(d)})},ExportAllDeclaration:function(e){var n=e.exported?c(e.exported):"*";return new Je({start:s(e),end:f(e),aliases:[n],keys:["*"],path:e.source.value})},ExportDefaultDeclaration:function(e){var n=d(e.declaration);if(!n.name)switch(n.CTOR){case he:n=new ce(n);break;case ve:n=new ue(n);break;case be:n=new ye(n);break;case me:n=new le(n);break;case _e:n=new pe(n)}return new Ge({start:s(e),end:f(e),body:n})},ExportNamedDeclaration:function(e){if(e.declaration)return new We({start:s(e),end:f(e),body:d(e.declaration)});if(e.source){var n=[],t=[];return e.specifiers.forEach((function(e){n.push(c(e.exported)),t.push(c(e.local))})),new Je({start:s(e),end:f(e),aliases:n,keys:t,path:e.source.value})}return new Xe({start:s(e),end:f(e),properties:e.specifiers.map((function(e){var n=new Bn(d(e.local));return n.alias=c(e.exported),n}))})},ImportDeclaration:function(e){var n=null,t=null,i=null;return e.specifiers.forEach((function(e){var r=new qn(d(e.local));switch(e.type){case"ImportDefaultSpecifier":(t=r).key="";break;case"ImportNamespaceSpecifier":(n=r).key="*";break;default:r.key=e.imported.name||syn.name,i||(i=[]),i.push(r)}})),new Ke({start:s(e),end:f(e),all:n,default:t,properties:i,path:e.source.value})},ImportExpression:function(e){var n=s(e),t=d(e.source);return new en({start:n,end:f(e),expression:new Rn({start:n,end:t.start,name:"import"}),args:[t]})},VariableDeclaration:function(e){return new({const:Be,let:Le}[e.kind]||Ue)({start:s(e),end:f(e),definitions:e.declarations.map(d)})},Literal:function(e){var n={start:s(e),end:f(e)};if(e.bigint)return n.value=e.bigint.toLowerCase()+"n",new Zn(n);var t=e.value;if(null===t)return new tt(n);var i=e.regex;if(i&&i.pattern)return n.value=new RegExp(i.pattern,i.flags),n.value.raw_source=i.pattern,new et(n);if(i)return n.value=e.regex&&e.raw?e.raw:t,new et(n);switch(typeof t){case"string":return n.value=t,new Kn(n);case"number":return isNaN(t)?new it(n):(isFinite(t)?(r=1/t<0,n.value=r?-t:t,o=new Qn(n)):(r=t<0,o=new at(n)),r?new un({start:n.start,end:n.end,operator:"-",expression:o}):o);var r,o;case"boolean":return new(t?ct:ft)(n)}},TemplateLiteral:function(e){return new Jn({start:s(e),end:f(e),expressions:e.expressions.map(d),strings:e.quasis.map((function(e){return e.value.raw}))})},TaggedTemplateExpression:function(e){var n=d(e.quasi);return n.start=s(e),n.end=f(e),n.tag=d(e.tag),n},Identifier:function(e){var n,t=l.length-1;do{n=l[--t]}while("ArrayPattern"==n.type||"AssignmentPattern"==n.type&&n.left===l[t+1]||"ObjectPattern"==n.type||"Property"==n.type&&n.value===l[t+1]||"VariableDeclarator"==n.type&&n.id===l[t+1]);var i=Rn;switch(n.type){case"ArrowFunctionExpression":n.body!==l[t+1]&&(i=Fn);break;case"BreakStatement":case"ContinueStatement":i=Ln;break;case"CatchClause":i=Hn;break;case"ClassDeclaration":n.id===l[t+1]&&(i=Nn);break;case"ClassExpression":n.id===l[t+1]&&(i=In);break;case"FunctionDeclaration":i=n.id===l[t+1]?Pn:Fn;break;case"FunctionExpression":i=n.id===l[t+1]?jn:Fn;break;case"LabeledStatement":i=Yn;break;case"VariableDeclaration":i={const:zn,let:Cn}[n.kind]||Mn}return new i({start:s(e),end:f(e),name:e.name})},Super:function(e){return new Vn({start:s(e),end:f(e),name:"super"})},ThisExpression:function(e){return new Wn({start:s(e),end:f(e),name:"this"})},ParenthesizedExpression:function(e){var n=d(e.expression);return n.start.parens||(n.start.parens=[]),n.start.parens.push(s(e)),n.end.parens||(n.end.parens=[]),n.end.parens.push(f(e)),n},ChainExpression:function(e){var n=d(e.expression);return n.terminal=!0,n}};function t(e){return function(n){var t=n.key instanceof S,i=t?m(n.key):n.private?{type:"PrivateIdentifier",name:n.key.slice(1)}:{type:"Literal",value:n.key};return{type:"MethodDefinition",kind:e,computed:t,key:i,static:n.static,value:m(n.value)}}}function i(e){return function(n){return{type:"ForOfStatement",await:e,left:m(n.init),right:m(n.object),body:m(n.body)}}}function r(e){var n=e.value;return"number"===typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}function o(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof M))break;var i=t.body;if(!(i instanceof Kn))break;if(t.start.pos!==i.start.pos)break;e[n]=new O(i)}return e}function a(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function s(e){var n=e.loc,t=n&&n.start,i=e.range;return new E({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[0]:e.start,raw:a(e)})}function f(e){var n=e.loc,t=n&&n.end,i=e.range;return new E({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[1]:e.end,raw:a(e)})}function c(e){return""+e["Identifier"==e.type?"name":"value"]}function u(t,i,r){var o=["start: my_start_token(M)","end: my_end_token(M)"],a=["type: "+JSON.stringify(t)];r&&r.split(/\s*,\s*/).forEach((function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(i){case"@":o.push(r+": M."+t+".map(from_moz)"),a.push(t+": M."+r+".map(to_moz)");break;case">":o.push(r+": from_moz(M."+t+")"),a.push(t+": to_moz(M."+r+")");break;case"=":o.push(r+": M."+t),a.push(t+": M."+r);break;case"%":o.push(r+": from_moz(M."+t+").body"),a.push(t+": to_moz_block(M)");break;default:throw new Error("Can't understand operator in propmap: "+e)}})),e[t]=new Function("U2","my_start_token","my_end_token","from_moz",["return function From_Moz_"+t+"(M) {","    return new U2.AST_"+i.TYPE+"({",o.join(",\n"),"    });","};"].join("\n"))(n,s,f,d),v(i,new Function("to_moz","to_moz_block","to_moz_scope",["return function To_Moz_"+t+"(M) {","    return {",a.join(",\n"),"    };","};"].join("\n"))(m,_,g))}e.UpdateExpression=e.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?un:ln)({start:s(e),end:f(e),operator:e.operator,expression:d(e.argument)})},u("EmptyStatement",$),u("ExpressionStatement",M,"expression>body"),u("BlockStatement",N,"body@body"),u("IfStatement",Me,"test>condition, consequent>body, alternate>alternative"),u("LabeledStatement",H,"label>label, body>body"),u("BreakStatement",qe,"label>label"),u("ContinueStatement",Ce,"label>label"),u("WithStatement",X,"object>expression, body>body"),u("SwitchStatement",Fe,"discriminant>expression, cases@body"),u("ReturnStatement",Oe,"argument>value"),u("ThrowStatement",$e,"argument>value"),u("WhileStatement",L,"test>condition, body>body"),u("DoWhileStatement",B,"test>condition, body>body"),u("ForStatement",U,"init>init, test>condition, update>step, body>body"),u("ForInStatement",W,"left>init, right>object, body>body"),u("DebuggerStatement",D),u("VariableDeclarator",Ve,"id>name, init>value"),u("CatchClause",He,"param>argname, body%body"),u("BinaryExpression",pn,"operator=operator, left>left, right>right"),u("LogicalExpression",pn,"operator=operator, left>left, right>right"),u("AssignmentExpression",hn,"operator=operator, left>left, right>right"),u("AssignmentPattern",Qe,"left>name, right>value"),u("ConditionalExpression",dn,"test>condition, consequent>consequent, alternate>alternative"),u("NewExpression",nn,"callee>expression, arguments@args, pure=pure"),u("CallExpression",en,"callee>expression, arguments@args, optional=optional, pure=pure"),u("SequenceExpression",tn,"expressions@expressions"),u("SpreadElement",fn,"argument>expression"),u("ObjectExpression",kn,"properties@properties"),u("AwaitExpression",vn,"argument>expression"),u("YieldExpression",mn,"argument>expression, delegate=nested"),v(Q,(function(e){return g("Program",e)})),v(de,(function(e){var n=e.argnames.map(m);return e.rest&&n.push({type:"RestElement",argument:m(e.rest)}),{type:"FunctionDeclaration",id:m(e.name),async:re(e),generator:oe(e),params:n,body:g("BlockStatement",e)}})),v(ee,(function(e){var n=e.argnames.map(m);return e.rest&&n.push({type:"RestElement",argument:m(e.rest)}),ie(e)?{type:"ArrowFunctionExpression",async:re(e),params:n,body:e.value?m(e.value):g("BlockStatement",e)}:{type:"FunctionExpression",id:m(e.name),async:re(e),generator:oe(e),params:n,body:g("BlockStatement",e)}})),v(be,(function(e){return{type:"ClassDeclaration",id:m(e.name),superClass:m(e.extends),body:{type:"ClassBody",body:e.properties.map(m)}}})),v(ye,(function(e){return{type:"ClassExpression",id:m(e.name),superClass:m(e.extends),body:{type:"ClassBody",body:e.properties.map(m)}}})),v(ke,t("get")),v(Ee,t("set")),v(Se,t("method")),v(xe,(function(e){var n=e.key instanceof S;return{type:"PropertyDefinition",computed:n,key:n?m(e.key):e.private?{type:"PrivateIdentifier",name:e.key.slice(1)}:{type:"Literal",value:e.key},static:e.static,value:m(e.value)}})),v(J,i(!0)),v(G,i(!1)),v(O,(function(e){return{type:"ExpressionStatement",expression:h(e,{type:"Literal",value:e.value})}})),v(Pe,(function(e){return{type:"SwitchCase",test:m(e.expression),consequent:e.body.map(m)}})),v(Ie,(function(e){return{type:"TryStatement",block:_(e),handler:m(e.bcatch),guardedHandlers:[],finalizer:m(e.bfinally)}})),v(He,(function(e){return{type:"CatchClause",param:m(e.argname),guard:null,body:_(e)}})),v(We,(function(e){return{type:"ExportNamedDeclaration",declaration:m(e.body)}})),v(Ge,(function(e){return{type:"ExportDefaultDeclaration",declaration:m(e.body)}})),v(Je,(function(e){if("*"==e.keys[0])return{type:"ExportAllDeclaration",exported:"*"==e.aliases[0]?null:{type:"Identifier",name:e.aliases[0]},source:{type:"Literal",value:e.path}};for(var n=[],t=0;t<e.aliases.length;t++)n.push({type:"ExportSpecifier",exported:{type:"Identifier",name:e.aliases[t]},local:{type:"Identifier",name:e.keys[t]}});return{type:"ExportNamedDeclaration",specifiers:n,source:{type:"Literal",value:e.path}}})),v(Xe,(function(e){return{type:"ExportNamedDeclaration",specifiers:e.properties.map((function(e){return{type:"ExportSpecifier",local:m(e),exported:{type:"Identifier",name:e.alias}}}))}})),v(Ke,(function(e){var n=e.properties?e.properties.map((function(e){return{type:"ImportSpecifier",local:m(e),imported:{type:"Identifier",name:e.key}}})):[];return e.all&&n.unshift({type:"ImportNamespaceSpecifier",local:m(e.all)}),e.default&&n.unshift({type:"ImportDefaultSpecifier",local:m(e.default)}),{type:"ImportDeclaration",specifiers:n,source:{type:"Literal",value:e.path}}})),v(Re,(function(e){return{type:"VariableDeclaration",kind:e.TYPE.toLowerCase(),declarations:e.definitions.map(m)}})),v(on,(function(e){var n=e instanceof sn,t={type:"MemberExpression",object:m(e.expression),computed:n,optional:e.optional,property:n?m(e.property):{type:"Identifier",name:e.property}};return e.terminal?{type:"ChainExpression",expression:t}:t})),v(cn,(function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof un,argument:m(e.expression)}})),v(pn,(function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:m(e.left),operator:e.operator,right:m(e.right)}})),v(_n,(function(e){return{type:"ArrayExpression",elements:e.elements.map(m)}})),v(yn,(function(e){var n=e.elements.map(m);return e.rest&&n.push({type:"RestElement",argument:m(e.rest)}),{type:"ArrayPattern",elements:n}})),v(wn,(function(e){var n=e.key instanceof S;return{type:"Property",kind:"init",computed:n,key:n?m(e.key):{type:"Literal",value:e.key},value:m(e.value)}})),v(xn,(function(e){var n=e.properties.map(m);return e.rest&&n.push({type:"RestElement",argument:m(e.rest)}),{type:"ObjectPattern",properties:n}})),v(En,(function(e){var n,t=e.key instanceof S,i=t?m(e.key):{type:"Literal",value:e.key};return e instanceof Sn?n="init":e instanceof Dn?n="get":e instanceof An&&(n="set"),{type:"Property",kind:n,computed:t,method:e instanceof Tn,key:i,value:m(e.value)}})),v(On,(function(e){var n=e.definition();return{type:"Identifier",name:n&&n.mangled_name||e.name}})),v(Vn,(function(){return{type:"Super"}})),v(Wn,(function(){return{type:"ThisExpression"}})),v(Gn,(function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}})),v(et,(function(e){var n=e.value.toString().match(/\/([gimuy]*)$/)[1],t="/"+e.value.raw_source+"/"+n;return{type:"Literal",value:t,raw:t,regex:{pattern:e.value.raw_source,flags:n}}})),v(Zn,(function(e){var n=e.value;return{type:"Literal",bigint:n.slice(0,-1),raw:n}})),v(st,r),v(Xn,r),v(tt,r),v(nt,(function(e){return{type:"Identifier",name:String(e.value)}})),v(Jn,(function(e){var n=e.strings.length-1,t={type:"TemplateLiteral",expressions:e.expressions.map(m),quasis:e.strings.map((function(e,t){return{type:"TemplateElement",tail:t==n,value:{raw:e}}}))};return e.tag?{type:"TaggedTemplateExpression",tag:m(e.tag),quasi:t}:t})),j.DEFMETHOD("to_mozilla_ast",N.prototype.to_mozilla_ast),ot.DEFMETHOD("to_mozilla_ast",p),S.DEFMETHOD("to_mozilla_ast",(function(){throw new Error("Cannot convert AST_"+this.TYPE)}));var l=null;function d(n){l.push(n);var t=null;if(n){if(!y(e,n.type))throw new Error("Unsupported type: "+n.type);t=e[n.type](n)}return l.pop(),t}function h(e,n){var t=e.start,i=e.end;return null!=t.pos&&null!=i.endpos&&(n.range=[t.pos,i.endpos]),t.line&&(n.loc={start:{line:t.line,column:t.col},end:i.endline?{line:i.endline,column:i.endcol}:null},t.file&&(n.loc.source=t.file)),n}function v(e,n){e.DEFMETHOD("to_mozilla_ast",(function(){return h(this,n(this))}))}function m(e){return null!=e?e.to_mozilla_ast():null}function _(e){return{type:"BlockStatement",body:e.body.map(m)}}function g(e,n){var t=n.body.map(m);return n.body[0]instanceof M&&n.body[0].body instanceof Kn&&t.unshift(m(new $(n.body[0]))),{type:e,body:t}}S.from_mozilla_ast=function(e){var n=l;l=[];var t=d(e);return l=n,t.walk(new ut((function(e){if(e instanceof Ln){for(var n,t=0;(n=this.parent(t))&&!(n instanceof K);t++)if(n instanceof H&&n.label.name==e.name){e.thedef=n.label;break}if(!e.thedef){var i=e.start;Mt("Undefined label "+e.name,i.file,i.line,i.col,i.pos)}}}))),t}}();var si,fi,ci=function(){var e=new b;return["null","true","false","Infinity","-Infinity","undefined"].forEach(n),[Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String].forEach((function(e){Object.getOwnPropertyNames(e).map(n),e.prototype&&(Object.getOwnPropertyNames(new e).map(n),Object.getOwnPropertyNames(e.prototype).map(n))})),e;function n(n){e.set(n,!0)}}();function ui(e,n){e instanceof dn?(ui(e.consequent,n),ui(e.alternative,n)):e instanceof tn?ui(e.tail_node(),n):e instanceof Kn&&n(e.value)}function li(e,n){for(var t=n.end.comments_after,i=t.length;--i>=0;){var r=t[i];if("comment1"!=r.type)break;var o=/^# ([^\s=]+)=(\S+)\s*$/.exec(r.value);if(!o)break;if("sourceMappingURL"==o[1]){if(!(o=/^data:application\/json(;.*?)?;base64,([^,]+)$/.exec(o[2])))break;return si(o[2])}}S.warn("inline source map not found: {name}",{name:e})}function pi(e){try{return JSON.parse(e)}catch(n){throw new Error("invalid input source map: "+e)}}function di(e,n,t){t.forEach((function(t){n[t]&&("object"!=typeof n[t]&&(n[t]={}),e in n[t]||(n[t][e]=n[e]))}))}function hi(e){e&&("props"in e?e.props instanceof b||(e.props=b.fromObject(e.props)):e.props=new b)}function vi(e){return{props:e.props.toObject()}}"undefined"==typeof Buffer?(si=atob,fi=btoa):"undefined"==typeof Buffer.alloc?(si=function(e){return new Buffer(e,"base64").toString()},fi=function(e){return new Buffer(e).toString("base64")}):(si=function(e){return Buffer.from(e,"base64").toString()},fi=function(e){return Buffer.from(e).toString("base64")}),n.Dictionary=b,n.is_statement=z,n.List=d,n.minify=function(e,n){try{(n=s(n,{annotations:void 0,compress:{},enclose:!1,ie:!1,ie8:!1,keep_fargs:!1,keep_fnames:!1,mangle:{},module:!1,nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!(!n||!n.module),v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&S.enable_validation();var t,i=n.timings&&{start:Date.now()};void 0!==n.annotations&&di("annotations",n,["compress","output"]),n.ie8&&(n.ie=n.ie||n.ie8),n.ie&&di("ie",n,["compress","mangle","output","rename"]),n.keep_fargs&&di("keep_fargs",n,["compress","mangle","rename"]),n.keep_fnames&&di("keep_fnames",n,["compress","mangle","rename"]),n.module&&di("module",n,["compress","parse"]),n.toplevel&&di("toplevel",n,["compress","mangle","rename"]),n.v8&&di("v8",n,["mangle","output","rename"]),n.webkit&&di("webkit",n,["compress","mangle","output","rename"]),n.mangle&&(n.mangle=s(n.mangle,{cache:n.nameCache&&(n.nameCache.vars||{}),eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),n.mangle.properties&&("object"!=typeof n.mangle.properties&&(n.mangle.properties={}),n.mangle.properties.keep_quoted&&(t=n.mangle.properties.reserved,Array.isArray(t)||(t=[]),n.mangle.properties.reserved=t),n.nameCache&&!("cache"in n.mangle.properties)&&(n.mangle.properties.cache=n.nameCache.props||{})),hi(n.mangle.cache),hi(n.mangle.properties.cache)),void 0===n.rename&&(n.rename=n.compress&&n.mangle),n.sourceMap&&(n.sourceMap=s(n.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0));var r,o=[];if(n.warnings&&S.log_function((function(e){o.push(e)}),"verbose"==n.warnings),i&&(i.parse=Date.now()),e instanceof Q)r=e;else{"string"==typeof e&&(e=[e]),n.parse=n.parse||{},n.parse.toplevel=null;var a=n.sourceMap&&n.sourceMap.content;for(var f in"string"==typeof a&&"inline"!=a&&(a=pi(a)),a&&(n.sourceMap.orig=Object.create(null)),e)if(y(e,f))if(n.parse.filename=f,n.parse.toplevel=r=Bt(e[f],n.parse),"inline"==a){var c=li(f,r);c&&(n.sourceMap.orig[f]=pi(c))}else a&&(n.sourceMap.orig[f]=a)}t&&function(e,n){function t(e){h(n,e)}e.walk(new ut((function(e){e instanceof we||e instanceof En?e.start&&e.start.quote&&t(e.key):e instanceof sn&&ui(e.property,t)})))}(r,t),["enclose","wrap"].forEach((function(t){var i=n[t];if(i){var o=r.print_to_string().slice(0,-1);r=r[t](i),e[r.start.file]=r.print_to_string().replace(o,"")}})),n.validate&&r.validate_ast(),i&&(i.rename=Date.now()),n.rename&&(r.figure_out_scope(n.rename),r.expand_names(n.rename)),i&&(i.compress=Date.now()),n.compress&&(r=new Zt(n.compress).compress(r),n.validate&&r.validate_ast()),i&&(i.scope=Date.now()),n.mangle&&r.figure_out_scope(n.mangle),i&&(i.mangle=Date.now()),n.mangle&&(r.compute_char_frequency(n.mangle),r.mangle_names(n.mangle)),i&&(i.properties=Date.now()),n.mangle&&n.mangle.properties&&function(e,n){var t=(n=s(n,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,regex:null,reserved:null},!0)).builtins?new b:ci.clone();Array.isArray(n.reserved)&&n.reserved.forEach((function(e){t.set(e,!0)}));var i,r=-1;n.cache?(i=n.cache.props).each((function(e){t.set(e,!0)})):i=new b;var o,a=n.regex,f=!1!==n.debug;f&&(o=!0===n.debug?"":n.debug);var c=new b,u=t.clone();function l(e){return!u.has(e)&&!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)}function p(e){return!t.has(e)&&!(a&&!a.test(e))&&(i.has(e)||c.has(e))}function d(e){l(e)&&c.set(e,!0),p(e)||u.set(e,!0)}function h(e){if(!p(e))return e;var n=i.get(e);if(!n){if(f){var t="_$"+e+"$"+o+"_";l(t)&&(n=t)}if(!n)do{n=Qt(++r)}while(!l(n));/^#/.test(e)&&(n="#"+n),i.set(e,n)}return n}function v(e){e instanceof tn?v(e.expressions.tail_node()):e instanceof Kn?e.value=h(e.value):e instanceof dn&&(v(e.consequent),v(e.alternative))}e.walk(new ut((function(e){if(e instanceof pn)"in"==e.operator&&ui(e.left,d);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof an)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Rn))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;ui(e.args[1],d);break;case"hasOwnProperty":if(e.args.length<1)break;ui(e.args[0],d)}}else e instanceof we?"string"==typeof e.key&&d(e.key):e instanceof an?d(e.property):e instanceof En?"string"==typeof e.key&&d(e.key):e instanceof sn&&ui(e.property,d)}))),e.walk(new ut((function(e){if(e instanceof pn)"in"==e.operator&&v(e.left);else if("Call"==e.TYPE){var t=e.expression;if(t instanceof an)switch(t.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((t=t.expression)instanceof Rn))break;if("Object"!=t.name)break;if(!t.definition().undeclared)break;v(e.args[1]);break;case"hasOwnProperty":if(e.args.length<1)break;v(e.args[0])}}else e instanceof we?"string"==typeof e.key&&(e.key=h(e.key)):e instanceof an?e.property=h(e.property):e instanceof En?"string"==typeof e.key&&(e.key=h(e.key)):e instanceof sn&&(n.keep_quoted||v(e.property))})))}(r,n.mangle.properties),i&&(i.output=Date.now());var u={},l=s(n.output,{ast:!1,code:!0});if(l.ast&&(u.ast=r),l.code){if(n.sourceMap&&(l.source_map=ai(n.sourceMap),n.sourceMap.includeSources)){if(e instanceof Q)throw new Error("original source content unavailable");for(var f in e)y(e,f)&&l.source_map.setSourceContent(f,e[f])}delete l.ast,delete l.code;var p=ni(l);if(r.print(p),u.code=p.get(),n.sourceMap){u.map=l.source_map.toString();var d=n.sourceMap.url;d&&(u.code=u.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),u.code+="inline"==d?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+fi(u.map):"\n//# sourceMappingURL="+d)}}return n.nameCache&&n.mangle&&(n.mangle.cache&&(n.nameCache.vars=vi(n.mangle.cache)),n.mangle.properties&&n.mangle.properties.cache&&(n.nameCache.props=vi(n.mangle.properties.cache))),i&&(i.end=Date.now(),u.timings={parse:.001*(i.rename-i.parse),rename:.001*(i.compress-i.rename),compress:.001*(i.scope-i.compress),scope:.001*(i.mangle-i.scope),mangle:.001*(i.properties-i.mangle),properties:.001*(i.output-i.properties),output:.001*(i.end-i.output),total:.001*(i.end-i.start)}),o.length&&(u.warnings=o),u}catch(v){return{error:v}}finally{S.log_function(),S.disable_validation()}},n.parse=Bt,n.push_uniq=h,n.TreeTransformer=lt,n.TreeWalker=ut}}]);
//# sourceMappingURL=9298.bace9e92.chunk.js.map