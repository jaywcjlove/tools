{"version":3,"file":"static/js/7908.3abf8e29.chunk.js","mappings":"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","sources":["../../packages/json-ini/src/sample.ts","../../packages/json-ini/src/index.tsx","../../packages/json-ini/node_modules/ini/lib/ini.js","../../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../../node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js","../../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../../node_modules/@lezer/json/dist/index.es.js","../../node_modules/@codemirror/lang-json/dist/index.js","../../node_modules/@codemirror/legacy-modes/mode/yaml.js"],"sourcesContent":["export const json = `{\n  \"app_mode\": \"development\",\n  \"paths\": {\n    \"data\": \"/home/git/grafana\"\n  },\n  \"server\": {\n    \"protocol\": \"http\",\n    \"http_port\": \"9999\",\n    \"enforce_domain\": true\n  }\n}`;\n\nexport const val = `# possible values : production, development\napp_mode = development\n\n[paths]\n# Path to where grafana can store temp files, sessions, and the sqlite3 db (if that is used)\ndata = /home/git/grafana\n\n[server]\n# Protocol (http or https)\nprotocol = http\n\n# The http port  to use\nhttp_port = 9999\n\n# Redirect to correct domain if host header does not match domain\n# Prevents DNS rebinding attacks\nenforce_domain = true`;\n","import { LayoutEditorConverter } from '@wcj/tools-react-components';\nimport ini from 'ini';\nimport { StreamLanguage } from '@codemirror/language';\nimport { yaml } from '@codemirror/legacy-modes/mode/yaml';\nimport { json } from '@codemirror/lang-json';\nimport * as sample from './sample';\n\nexport default function JSON2Ini() {\n  return (\n    <LayoutEditorConverter\n      sample={sample}\n      leftProps={{\n        title: 'JSON',\n        extensions: [json()],\n        onLeftInput: (val) => {\n          const iniStr = ini.stringify(JSON.parse(val));\n          return iniStr;\n        },\n      }}\n      rightProps={{\n        title: 'INI',\n        extensions: [StreamLanguage.define(yaml)],\n        onRightInput: (val) => {\n          const jsonStr = JSON.stringify(ini.parse(val), null, 2);\n          return jsonStr;\n        },\n      }}\n    />\n  );\n}\n","const { hasOwnProperty } = Object.prototype\n\n/* istanbul ignore next */\nconst eol = typeof process !== 'undefined' &&\n  process.platform === 'win32' ? '\\r\\n' : '\\n'\n\nconst encode = (obj, opt) => {\n  const children = []\n  let out = ''\n\n  if (typeof opt === 'string') {\n    opt = {\n      section: opt,\n      whitespace: false,\n    }\n  } else {\n    opt = opt || Object.create(null)\n    opt.whitespace = opt.whitespace === true\n  }\n\n  const separator = opt.whitespace ? ' = ' : '='\n\n  for (const k of Object.keys(obj)) {\n    const val = obj[k]\n    if (val && Array.isArray(val)) {\n      for (const item of val) {\n        out += safe(k + '[]') + separator + safe(item) + eol\n      }\n    } else if (val && typeof val === 'object') {\n      children.push(k)\n    } else {\n      out += safe(k) + separator + safe(val) + eol\n    }\n  }\n\n  if (opt.section && out.length) {\n    out = '[' + safe(opt.section) + ']' + eol + out\n  }\n\n  for (const k of children) {\n    const nk = dotSplit(k).join('\\\\.')\n    const section = (opt.section ? opt.section + '.' : '') + nk\n    const { whitespace } = opt\n    const child = encode(obj[k], {\n      section,\n      whitespace,\n    })\n    if (out.length && child.length) {\n      out += eol\n    }\n\n    out += child\n  }\n\n  return out\n}\n\nconst dotSplit = str =>\n  str.replace(/\\1/g, '\\u0002LITERAL\\\\1LITERAL\\u0002')\n    .replace(/\\\\\\./g, '\\u0001')\n    .split(/\\./)\n    .map(part =>\n      part.replace(/\\1/g, '\\\\.')\n        .replace(/\\2LITERAL\\\\1LITERAL\\2/g, '\\u0001'))\n\nconst decode = str => {\n  const out = Object.create(null)\n  let p = out\n  let section = null\n  //          section     |key      = value\n  const re = /^\\[([^\\]]*)\\]$|^([^=]+)(=(.*))?$/i\n  const lines = str.split(/[\\r\\n]+/g)\n\n  for (const line of lines) {\n    if (!line || line.match(/^\\s*[;#]/)) {\n      continue\n    }\n    const match = line.match(re)\n    if (!match) {\n      continue\n    }\n    if (match[1] !== undefined) {\n      section = unsafe(match[1])\n      if (section === '__proto__') {\n        // not allowed\n        // keep parsing the section, but don't attach it.\n        p = Object.create(null)\n        continue\n      }\n      p = out[section] = out[section] || Object.create(null)\n      continue\n    }\n    const keyRaw = unsafe(match[2])\n    const isArray = keyRaw.length > 2 && keyRaw.slice(-2) === '[]'\n    const key = isArray ? keyRaw.slice(0, -2) : keyRaw\n    if (key === '__proto__') {\n      continue\n    }\n    const valueRaw = match[3] ? unsafe(match[4]) : true\n    const value = valueRaw === 'true' ||\n      valueRaw === 'false' ||\n      valueRaw === 'null' ? JSON.parse(valueRaw)\n      : valueRaw\n\n    // Convert keys with '[]' suffix to an array\n    if (isArray) {\n      if (!hasOwnProperty.call(p, key)) {\n        p[key] = []\n      } else if (!Array.isArray(p[key])) {\n        p[key] = [p[key]]\n      }\n    }\n\n    // safeguard against resetting a previously defined\n    // array by accidentally forgetting the brackets\n    if (Array.isArray(p[key])) {\n      p[key].push(value)\n    } else {\n      p[key] = value\n    }\n  }\n\n  // {a:{y:1},\"a.b\":{x:2}} --> {a:{y:1,b:{x:2}}}\n  // use a filter to return the keys that have to be deleted.\n  const remove = []\n  for (const k of Object.keys(out)) {\n    if (!hasOwnProperty.call(out, k) ||\n        typeof out[k] !== 'object' ||\n        Array.isArray(out[k])) {\n      continue\n    }\n\n    // see if the parent section is also an object.\n    // if so, add it to that, and mark this one for deletion\n    const parts = dotSplit(k)\n    p = out\n    const l = parts.pop()\n    const nl = l.replace(/\\\\\\./g, '.')\n    for (const part of parts) {\n      if (part === '__proto__') {\n        continue\n      }\n      if (!hasOwnProperty.call(p, part) || typeof p[part] !== 'object') {\n        p[part] = Object.create(null)\n      }\n      p = p[part]\n    }\n    if (p === out && nl === l) {\n      continue\n    }\n\n    p[nl] = out[k]\n    remove.push(k)\n  }\n  for (const del of remove) {\n    delete out[del]\n  }\n\n  return out\n}\n\nconst isQuoted = val => {\n  return (val.startsWith('\"') && val.endsWith('\"')) ||\n    (val.startsWith(\"'\") && val.endsWith(\"'\"))\n}\n\nconst safe = val => {\n  if (\n    typeof val !== 'string' ||\n    val.match(/[=\\r\\n]/) ||\n    val.match(/^\\[/) ||\n    (val.length > 1 && isQuoted(val)) ||\n    val !== val.trim()\n  ) {\n    return JSON.stringify(val)\n  }\n  return val.split(';').join('\\\\;').split('#').join('\\\\#')\n}\n\nconst unsafe = (val, doUnesc) => {\n  val = (val || '').trim()\n  if (isQuoted(val)) {\n    // remove the single quotes before calling JSON.parse\n    if (val.charAt(0) === \"'\") {\n      val = val.slice(1, -1)\n    }\n    try {\n      val = JSON.parse(val)\n    } catch {\n      // ignore errors\n    }\n  } else {\n    // walk the val to find the first not-escaped ; character\n    let esc = false\n    let unesc = ''\n    for (let i = 0, l = val.length; i < l; i++) {\n      const c = val.charAt(i)\n      if (esc) {\n        if ('\\\\;#'.indexOf(c) !== -1) {\n          unesc += c\n        } else {\n          unesc += '\\\\' + c\n        }\n\n        esc = false\n      } else if (';#'.indexOf(c) !== -1) {\n        break\n      } else if (c === '\\\\') {\n        esc = true\n      } else {\n        unesc += c\n      }\n    }\n    if (esc) {\n      unesc += '\\\\'\n    }\n\n    return unesc.trim()\n  }\n  return val\n}\n\nmodule.exports = {\n  parse: decode,\n  decode,\n  stringify: encode,\n  encode,\n  safe,\n  unsafe,\n}\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nmodule.exports = _createForOfIteratorHelper, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import { LRParser } from '@lezer/lr';\nimport { styleTags, tags } from '@lezer/highlight';\n\nconst jsonHighlighting = styleTags({\n  String: tags.string,\n  Number: tags.number,\n  \"True False\": tags.bool,\n  PropertyName: tags.propertyName,\n  Null: tags.null,\n  \",\": tags.separator,\n  \"[ ]\": tags.squareBracket,\n  \"{ }\": tags.brace\n});\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst parser = LRParser.deserialize({\n  version: 14,\n  states: \"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j\",\n  stateData: \"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O\",\n  goto: \"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R\",\n  nodeNames: \"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array\",\n  maxTerm: 25,\n  nodeProps: [\n    [\"openedBy\", 7,\"{\",12,\"[\"],\n    [\"closedBy\", 8,\"}\",13,\"]\"]\n  ],\n  propSources: [jsonHighlighting],\n  skippedNodes: [0],\n  repeatNodeCount: 2,\n  tokenData: \"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~\",\n  tokenizers: [0],\n  topRules: {\"JsonText\":[0,1]},\n  tokenPrec: 0\n});\n\nexport { parser };\n","import { parser } from '@lezer/json';\nimport { LRLanguage, indentNodeProp, continuedIndent, foldNodeProp, foldInside, LanguageSupport } from '@codemirror/language';\n\n/**\nCalls\n[`JSON.parse`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse)\non the document and, if that throws an error, reports it as a\nsingle diagnostic.\n*/\nconst jsonParseLinter = () => (view) => {\n    try {\n        JSON.parse(view.state.doc.toString());\n    }\n    catch (e) {\n        if (!(e instanceof SyntaxError))\n            throw e;\n        const pos = getErrorPosition(e, view.state.doc);\n        return [{\n                from: pos,\n                message: e.message,\n                severity: 'error',\n                to: pos\n            }];\n    }\n    return [];\n};\nfunction getErrorPosition(error, doc) {\n    let m;\n    if (m = error.message.match(/at position (\\d+)/))\n        return Math.min(+m[1], doc.length);\n    if (m = error.message.match(/at line (\\d+) column (\\d+)/))\n        return Math.min(doc.line(+m[1]).from + (+m[2]) - 1, doc.length);\n    return 0;\n}\n\n/**\nA language provider that provides JSON parsing.\n*/\nconst jsonLanguage = /*@__PURE__*/LRLanguage.define({\n    parser: /*@__PURE__*/parser.configure({\n        props: [\n            /*@__PURE__*/indentNodeProp.add({\n                Object: /*@__PURE__*/continuedIndent({ except: /^\\s*\\}/ }),\n                Array: /*@__PURE__*/continuedIndent({ except: /^\\s*\\]/ })\n            }),\n            /*@__PURE__*/foldNodeProp.add({\n                \"Object Array\": foldInside\n            })\n        ]\n    }),\n    languageData: {\n        closeBrackets: { brackets: [\"[\", \"{\", '\"'] },\n        indentOnInput: /^\\s*[\\}\\]]$/\n    }\n});\n/**\nJSON language support.\n*/\nfunction json() {\n    return new LanguageSupport(jsonLanguage);\n}\n\nexport { json, jsonLanguage, jsonParseLinter };\n","var cons = ['true', 'false', 'on', 'off', 'yes', 'no'];\nvar keywordRegex = new RegExp(\"\\\\b((\"+cons.join(\")|(\")+\"))$\", 'i');\n\nexport const yaml = {\n  token: function(stream, state) {\n    var ch = stream.peek();\n    var esc = state.escaped;\n    state.escaped = false;\n    /* comments */\n    if (ch == \"#\" && (stream.pos == 0 || /\\s/.test(stream.string.charAt(stream.pos - 1)))) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n\n    if (stream.match(/^('([^']|\\\\.)*'?|\"([^\"]|\\\\.)*\"?)/))\n      return \"string\";\n\n    if (state.literal && stream.indentation() > state.keyCol) {\n      stream.skipToEnd(); return \"string\";\n    } else if (state.literal) { state.literal = false; }\n    if (stream.sol()) {\n      state.keyCol = 0;\n      state.pair = false;\n      state.pairStart = false;\n      /* document start */\n      if(stream.match('---')) { return \"def\"; }\n      /* document end */\n      if (stream.match('...')) { return \"def\"; }\n      /* array list item */\n      if (stream.match(/^\\s*-\\s+/)) { return 'meta'; }\n    }\n    /* inline pairs/lists */\n    if (stream.match(/^(\\{|\\}|\\[|\\])/)) {\n      if (ch == '{')\n        state.inlinePairs++;\n      else if (ch == '}')\n        state.inlinePairs--;\n      else if (ch == '[')\n        state.inlineList++;\n      else\n        state.inlineList--;\n      return 'meta';\n    }\n\n    /* list separator */\n    if (state.inlineList > 0 && !esc && ch == ',') {\n      stream.next();\n      return 'meta';\n    }\n    /* pairs separator */\n    if (state.inlinePairs > 0 && !esc && ch == ',') {\n      state.keyCol = 0;\n      state.pair = false;\n      state.pairStart = false;\n      stream.next();\n      return 'meta';\n    }\n\n    /* start of value of a pair */\n    if (state.pairStart) {\n      /* block literals */\n      if (stream.match(/^\\s*(\\||\\>)\\s*/)) { state.literal = true; return 'meta'; };\n      /* references */\n      if (stream.match(/^\\s*(\\&|\\*)[a-z0-9\\._-]+\\b/i)) { return 'variable'; }\n      /* numbers */\n      if (state.inlinePairs == 0 && stream.match(/^\\s*-?[0-9\\.\\,]+\\s?$/)) { return 'number'; }\n      if (state.inlinePairs > 0 && stream.match(/^\\s*-?[0-9\\.\\,]+\\s?(?=(,|}))/)) { return 'number'; }\n      /* keywords */\n      if (stream.match(keywordRegex)) { return 'keyword'; }\n    }\n\n    /* pairs (associative arrays) -> key */\n    if (!state.pair && stream.match(/^\\s*(?:[,\\[\\]{}&*!|>'\"%@`][^\\s'\":]|[^,\\[\\]{}#&*!|>'\"%@`])[^#]*?(?=\\s*:($|\\s))/)) {\n      state.pair = true;\n      state.keyCol = stream.indentation();\n      return \"atom\";\n    }\n    if (state.pair && stream.match(/^:\\s*/)) { state.pairStart = true; return 'meta'; }\n\n    /* nothing found, continue */\n    state.pairStart = false;\n    state.escaped = (ch == '\\\\');\n    stream.next();\n    return null;\n  },\n  startState: function() {\n    return {\n      pair: false,\n      pairStart: false,\n      keyCol: 0,\n      inlinePairs: 0,\n      inlineList: 0,\n      literal: false,\n      escaped: false\n    };\n  },\n  languageData: {\n    commentTokens: {line: \"#\"}\n  }\n};\n"],"names":["json","val","JSON2Ini","_jsx","LayoutEditorConverter","sample","leftProps","title","extensions","onLeftInput","ini","JSON","parse","rightProps","StreamLanguage","yaml","onRightInput","stringify","hasOwnProperty","Object","prototype","eol","process","platform","encode","obj","opt","children","out","section","whitespace","create","separator","keys","k","Array","isArray","item","safe","push","length","nk","dotSplit","join","child","str","replace","split","map","part","decode","p","re","lines","line","match","undefined","keyRaw","unsafe","slice","key","valueRaw","value","call","remove","parts","l","pop","nl","isQuoted","startsWith","endsWith","trim","doUnesc","esc","unesc","i","c","charAt","indexOf","module","exports","arr","len","arr2","__esModule","unsupportedIterableToArray","o","allowArrayLike","it","Symbol","iterator","F","s","n","done","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","arrayLikeToArray","minLen","toString","constructor","name","from","test","jsonHighlighting","styleTags","String","tags","Number","PropertyName","Null","parser","LRParser","version","states","stateData","goto","nodeNames","maxTerm","nodeProps","propSources","skippedNodes","repeatNodeCount","tokenData","tokenizers","topRules","tokenPrec","jsonParseLinter","view","state","doc","SyntaxError","pos","error","m","message","Math","min","getErrorPosition","severity","to","jsonLanguage","LRLanguage","configure","props","indentNodeProp","continuedIndent","except","foldNodeProp","foldInside","languageData","closeBrackets","brackets","indentOnInput","LanguageSupport","keywordRegex","RegExp","token","stream","ch","peek","escaped","string","skipToEnd","literal","indentation","keyCol","sol","pair","pairStart","inlinePairs","inlineList","startState","commentTokens"],"sourceRoot":""}